!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n,e,e.document)}:t(jQuery,window,document)}(function(t,e,n,r){"use strict";var i,a,o,s,l=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new a(t?ae(this[i.iApiIndex]):this)},this.fnAddData=function(e,n){var i=this.api(!0),a=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?i.rows.add(e):i.row.add(e);return(n===r||n)&&i.draw(),a.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],i=n.oScroll;t===r||t?e.draw(!1):""===i.sX&&""===i.sY||Wt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===r||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var i=this.api(!0),a=i.rows(t),o=a.settings()[0],s=o.aoData[a[0][0]];return a.remove(),e&&e.call(this,o,s),(n===r||n)&&i.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,i,a,o){var s=this.api(!0);null===e||e===r?s.search(t,n,i,o):s.column(e).search(t,n,i,o),s.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==r){var i=t.nodeName?t.nodeName.toLowerCase():"";return e!==r||"td"==i||"th"==i?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==r?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();if("TR"==n)return e.row(t).index();if("TD"==n||"TH"==n){var r=e.cell(t).index();return[r.row,r.columnVisible,r.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===r||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){var i=this.api(!0).column(t).visible(e);(n===r||n)&&i.columns.adjust().draw()},this.fnSettings=function(){return ae(this[i.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,i,a){var o=this.api(!0);return n===r||null===n?o.row(e).data(t):o.cell(e,n).data(t),(a===r||a)&&o.columns.adjust(),(i===r||i)&&o.draw(),0},this.fnVersionCheck=i.fnVersionCheck;var n=this,o=e===r,s=this.length;for(var u in o&&(e={}),this.oApi=this.internal=i.internal,l.ext.internal)u&&(this[u]=Ne(u));return this.each(function(){var i,a=s>1?le({},e,!0):e,u=0,h=this.getAttribute("id"),c=!1,d=l.defaults,f=t(this);if("table"==this.nodeName.toLowerCase()){E(d),R(d.column),A(d,d,!0),A(d.column,d.column,!0),A(d,t.extend(a,f.data()));var g=l.settings;for(u=0,i=g.length;u<i;u++){var p=g[u];if(p.nTable==this||p.nTHead&&p.nTHead.parentNode==this||p.nTFoot&&p.nTFoot.parentNode==this){var v=a.bDestroy!==r?a.bDestroy:d.bDestroy;if(o||(a.bRetrieve!==r?a.bRetrieve:d.bRetrieve))return p.oInstance;if(v){p.oInstance.fnDestroy();break}return void oe(p,0,"Cannot reinitialise DataTable",3)}if(p.sTableId==this.id){g.splice(u,1);break}}null!==h&&""!==h||(h="DataTables_Table_"+l.ext._unique++,this.id=h);var m=t.extend(!0,{},l.models.oSettings,{sDestroyWidth:f[0].style.width,sInstance:h,sTableId:h});m.nTable=this,m.oApi=n.internal,m.oInit=a,g.push(m),m.oInstance=1===n.length?n:f.dataTable(),E(a),I(a.oLanguage),a.aLengthMenu&&!a.iDisplayLength&&(a.iDisplayLength=t.isArray(a.aLengthMenu[0])?a.aLengthMenu[0][0]:a.aLengthMenu[0]),a=le(t.extend(!0,{},d),a),se(m.oFeatures,a,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),se(m,a,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),se(m.oScroll,a,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),se(m.oLanguage,a,"fnInfoCallback"),he(m,"aoDrawCallback",a.fnDrawCallback,"user"),he(m,"aoServerParams",a.fnServerParams,"user"),he(m,"aoStateSaveParams",a.fnStateSaveParams,"user"),he(m,"aoStateLoadParams",a.fnStateLoadParams,"user"),he(m,"aoStateLoaded",a.fnStateLoaded,"user"),he(m,"aoRowCallback",a.fnRowCallback,"user"),he(m,"aoRowCreatedCallback",a.fnCreatedRow,"user"),he(m,"aoHeaderCallback",a.fnHeaderCallback,"user"),he(m,"aoFooterCallback",a.fnFooterCallback,"user"),he(m,"aoInitComplete",a.fnInitComplete,"user"),he(m,"aoPreDrawCallback",a.fnPreDrawCallback,"user"),m.rowIdFn=Y(a.rowId),N(m);var b=m.oClasses;if(t.extend(b,l.ext.classes,a.oClasses),f.addClass(b.sTable),m.iInitDisplayStart===r&&(m.iInitDisplayStart=a.iDisplayStart,m._iDisplayStart=a.iDisplayStart),null!==a.iDeferLoading){m.bDeferLoading=!0;var y=t.isArray(a.iDeferLoading);m._iRecordsDisplay=y?a.iDeferLoading[0]:a.iDeferLoading,m._iRecordsTotal=y?a.iDeferLoading[1]:a.iDeferLoading}var _=m.oLanguage;t.extend(!0,_,a.oLanguage),_.sUrl&&(t.ajax({dataType:"json",url:_.sUrl,success:function(e){I(e),A(d.oLanguage,e),t.extend(!0,_,e),Nt(m)},error:function(){Nt(m)}}),c=!0),null===a.asStripeClasses&&(m.asStripeClasses=[b.sStripeOdd,b.sStripeEven]);var S=m.asStripeClasses,C=f.children("tbody").find("tr").eq(0);-1!==t.inArray(!0,t.map(S,function(t,e){return C.hasClass(t)}))&&(t("tbody tr",this).removeClass(S.join(" ")),m.asDestroyStripes=S.slice());var w,T=[],x=this.getElementsByTagName("thead");if(0!==x.length&&(ht(m.aoHeader,x[0]),T=ct(m)),null===a.aoColumns)for(w=[],u=0,i=T.length;u<i;u++)w.push(null);else w=a.aoColumns;for(u=0,i=w.length;u<i;u++)L(m,T?T[u]:null);if($(m,a.aoColumnDefs,w,function(t,e){O(m,t,e)}),C.length){var D=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(C[0]).children("th, td").each(function(t,e){var n=m.aoColumns[t];if(n.mData===t){var i=D(e,"sort")||D(e,"order"),a=D(e,"filter")||D(e,"search");null===i&&null===a||(n.mData={_:t+".display",sort:null!==i?t+".@data-"+i:r,type:null!==i?t+".@data-"+i:r,filter:null!==a?t+".@data-"+a:r},O(m,t))}})}var k=m.oFeatures,P=function(){if(a.aaSorting===r){var e=m.aaSorting;for(u=0,i=e.length;u<i;u++)e[u][1]=m.aoColumns[u].asSorting[0]}ee(m),k.bSort&&he(m,"aoDrawCallback",function(){if(m.bSorted){var e=Yt(m),n={};t.each(e,function(t,e){n[e.src]=e.dir}),ce(m,null,"order",[m,e,n]),Jt(m)}}),he(m,"aoDrawCallback",function(){(m.bSorted||"ssp"===ge(m)||k.bDeferRender)&&ee(m)},"sc");var n=f.children("caption").each(function(){this._captionSide=t(this).css("caption-side")}),o=f.children("thead");0===o.length&&(o=t("<thead/>").appendTo(f)),m.nTHead=o[0];var s=f.children("tbody");0===s.length&&(s=t("<tbody/>").appendTo(f)),m.nTBody=s[0];var l=f.children("tfoot");if(0===l.length&&n.length>0&&(""!==m.oScroll.sX||""!==m.oScroll.sY)&&(l=t("<tfoot/>").appendTo(f)),0===l.length||0===l.children().length?f.addClass(b.sNoFooter):l.length>0&&(m.nTFoot=l[0],ht(m.aoFooter,m.nTFoot)),a.aaData)for(u=0;u<a.aaData.length;u++)V(m,a.aaData[u]);else(m.bDeferLoading||"dom"==ge(m))&&U(m,t(m.nTBody).children("tr"));m.aiDisplay=m.aiDisplayMaster.slice(),m.bInitialised=!0,!1===c&&Nt(m)};a.bStateSave?(k.bStateSave=!0,he(m,"aoDrawCallback",re,"state_save"),ie(m,0,P)):P()}else oe(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),n=null,this},u={},h=/[\r\n]/g,c=/<.*?>/g,d=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,f=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),g=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk\u0243\u039e]/gi,p=function(t){return!t||!0===t||"-"===t},v=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},m=function(t,e){return u[e]||(u[e]=new RegExp(wt(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(u[e],"."):t},b=function(t,e,n){var r="string"==typeof t;return!!p(t)||(e&&r&&(t=m(t,e)),n&&r&&(t=t.replace(g,"")),!isNaN(parseFloat(t))&&isFinite(t))},y=function(t,e,n){return!!p(t)||function(t){return p(t)||"string"==typeof t}(t)&&!!b(T(t),e,n)||null},_=function(t,e,n){var i=[],a=0,o=t.length;if(n!==r)for(;a<o;a++)t[a]&&t[a][e]&&i.push(t[a][e][n]);else for(;a<o;a++)t[a]&&i.push(t[a][e]);return i},S=function(t,e,n,i){var a=[],o=0,s=e.length;if(i!==r)for(;o<s;o++)t[e[o]][n]&&a.push(t[e[o]][n][i]);else for(;o<s;o++)a.push(t[e[o]][n]);return a},C=function(t,e){var n,i=[];e===r?(e=0,n=t):(n=e,e=t);for(var a=e;a<n;a++)i.push(a);return i},w=function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]&&e.push(t[n]);return e},T=function(t){return t.replace(c,"")},x=function(t){if(function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),n=e[0],r=1,i=e.length;r<i;r++){if(e[r]===n)return!1;n=e[r]}return!0}(t))return t.slice();var e,n,r,i=[],a=t.length,o=0;t:for(n=0;n<a;n++){for(e=t[n],r=0;r<o;r++)if(i[r]===e)continue t;i.push(e),o++}return i};function D(e){var n,r,i={};t.each(e,function(t,a){(n=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(r=t.replace(n[0],n[2].toLowerCase()),i[r]=t,"o"===n[1]&&D(e[t]))}),e._hungarianMap=i}function A(e,n,i){var a;e._hungarianMap||D(e),t.each(n,function(o,s){(a=e._hungarianMap[o])===r||!i&&n[a]!==r||("o"===a.charAt(0)?(n[a]||(n[a]={}),t.extend(!0,n[a],n[o]),A(e[a],n[a],i)):n[a]=n[o])})}function I(t){var e=l.defaults.oLanguage,n=e.sDecimal;if(n&&Ee(n),t){var r=t.sZeroRecords;!t.sEmptyTable&&r&&"No data available in table"===e.sEmptyTable&&se(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&r&&"Loading..."===e.sLoadingRecords&&se(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var i=t.sDecimal;i&&n!==i&&Ee(i)}}l.util={throttle:function(t,e){var n,i,a=e!==r?e:200;return function(){var e=this,o=+new Date,s=arguments;n&&o<n+a?(clearTimeout(i),i=setTimeout(function(){n=r,t.apply(e,s)},a)):(n=o,t.apply(e,s))}},escapeRegex:function(t){return t.replace(f,"\\$1")}};var k=function(t,e,n){t[e]!==r&&(t[n]=t[e])};function E(t){k(t,"ordering","bSort"),k(t,"orderMulti","bSortMulti"),k(t,"orderClasses","bSortClasses"),k(t,"orderCellsTop","bSortCellsTop"),k(t,"order","aaSorting"),k(t,"orderFixed","aaSortingFixed"),k(t,"paging","bPaginate"),k(t,"pagingType","sPaginationType"),k(t,"pageLength","iDisplayLength"),k(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var n=0,r=e.length;n<r;n++)e[n]&&A(l.models.oSearch,e[n])}function R(e){k(e,"orderable","bSortable"),k(e,"orderData","aDataSort"),k(e,"orderSequence","asSorting"),k(e,"orderDataType","sortDataType");var n=e.aDataSort;"number"!=typeof n||t.isArray(n)||(e.aDataSort=[n])}function N(n){if(!l.__browser){var r={};l.__browser=r;var i=t("<div/>").css({position:"fixed",top:0,left:-1*t(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),a=i.children(),o=a.children();r.barWidth=a[0].offsetWidth-a[0].clientWidth,r.bScrollOversize=100===o[0].offsetWidth&&100!==a[0].clientWidth,r.bScrollbarLeft=1!==Math.round(o.offset().left),r.bBounding=!!i[0].getBoundingClientRect().width,i.remove()}t.extend(n.oBrowser,l.__browser),n.oScroll.iBarWidth=l.__browser.barWidth}function P(t,e,n,i,a,o){var s,l=i,u=!1;for(n!==r&&(s=n,u=!0);l!==a;)t.hasOwnProperty(l)&&(s=u?e(s,t[l],l,t):t[l],u=!0,l+=o);return s}function L(e,r){var i=l.defaults.column,a=e.aoColumns.length,o=t.extend({},l.models.oColumn,i,{nTh:r||n.createElement("th"),sTitle:i.sTitle?i.sTitle:r?r.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[a],mData:i.mData?i.mData:a,idx:a});e.aoColumns.push(o);var s=e.aoPreSearchCols;s[a]=t.extend({},l.models.oSearch,s[a]),O(e,a,t(r).data())}function O(e,n,i){var a=e.aoColumns[n],o=e.oClasses,s=t(a.nTh);if(!a.sWidthOrig){a.sWidthOrig=s.attr("width")||null;var u=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(a.sWidthOrig=u[1])}i!==r&&null!==i&&(R(i),A(l.defaults.column,i),i.mDataProp===r||i.mData||(i.mData=i.mDataProp),i.sType&&(a._sManualType=i.sType),i.className&&!i.sClass&&(i.sClass=i.className),i.sClass&&s.addClass(i.sClass),t.extend(a,i),se(a,i,"sWidth","sWidthOrig"),i.iDataSort!==r&&(a.aDataSort=[i.iDataSort]),se(a,i,"aDataSort"));var h=a.mData,c=Y(h),d=a.mRender?Y(a.mRender):null,f=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};a._bAttrSrc=t.isPlainObject(h)&&(f(h.sort)||f(h.type)||f(h.filter)),a._setter=null,a.fnGetData=function(t,e,n){var i=c(t,e,r,n);return d&&e?d(i,e,t,n):i},a.fnSetData=function(t,e,n){return K(h)(t,e,n)},"number"!=typeof h&&(e._rowReadObject=!0),e.oFeatures.bSort||(a.bSortable=!1,s.addClass(o.sSortableNone));var g=-1!==t.inArray("asc",a.asSorting),p=-1!==t.inArray("desc",a.asSorting);a.bSortable&&(g||p)?g&&!p?(a.sSortingClass=o.sSortableAsc,a.sSortingClassJUI=o.sSortJUIAscAllowed):!g&&p?(a.sSortingClass=o.sSortableDesc,a.sSortingClassJUI=o.sSortJUIDescAllowed):(a.sSortingClass=o.sSortable,a.sSortingClassJUI=o.sSortJUI):(a.sSortingClass=o.sSortableNone,a.sSortingClassJUI="")}function F(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;Ut(t);for(var n=0,r=e.length;n<r;n++)e[n].nTh.style.width=e[n].sWidth}var i=t.oScroll;""===i.sY&&""===i.sX||Wt(t),ce(t,null,"column-sizing",[t])}function j(t,e){var n=H(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function B(e,n){var r=H(e,"bVisible"),i=t.inArray(n,r);return-1!==i?i:null}function M(e){var n=0;return t.each(e.aoColumns,function(e,r){r.bVisible&&"none"!==t(r.nTh).css("display")&&n++}),n}function H(e,n){var r=[];return t.map(e.aoColumns,function(t,e){t[n]&&r.push(e)}),r}function W(t){var e,n,i,a,o,s,u,h,c,d=t.aoColumns,f=t.aoData,g=l.ext.type.detect;for(e=0,n=d.length;e<n;e++)if(c=[],!(u=d[e]).sType&&u._sManualType)u.sType=u._sManualType;else if(!u.sType){for(i=0,a=g.length;i<a;i++){for(o=0,s=f.length;o<s&&(c[o]===r&&(c[o]=G(t,o,e,"type")),(h=g[i](c[o],t))||i===g.length-1)&&"html"!==h;o++);if(h){u.sType=h;break}}u.sType||(u.sType="string")}}function $(e,n,i,a){var o,s,l,u,h,c,d,f=e.aoColumns;if(n)for(o=n.length-1;o>=0;o--){var g=(d=n[o]).targets!==r?d.targets:d.aTargets;for(t.isArray(g)||(g=[g]),l=0,u=g.length;l<u;l++)if("number"==typeof g[l]&&g[l]>=0){for(;f.length<=g[l];)L(e);a(g[l],d)}else if("number"==typeof g[l]&&g[l]<0)a(f.length+g[l],d);else if("string"==typeof g[l])for(h=0,c=f.length;h<c;h++)("_all"==g[l]||t(f[h].nTh).hasClass(g[l]))&&a(h,d)}if(i)for(o=0,s=i.length;o<s;o++)a(o,i[o])}function V(e,n,i,a){var o=e.aoData.length,s=t.extend(!0,{},l.models.oRow,{src:i?"dom":"data",idx:o});s._aData=n,e.aoData.push(s);for(var u=e.aoColumns,h=0,c=u.length;h<c;h++)u[h].sType=null;e.aiDisplayMaster.push(o);var d=e.rowIdFn(n);return d!==r&&(e.aIds[d]=s),!i&&e.oFeatures.bDeferRender||rt(e,o,i,a),o}function U(e,n){var r;return n instanceof t||(n=t(n)),n.map(function(t,n){return r=nt(e,n),V(e,r.data,n,r.cells)})}function G(t,e,n,i){var a=t.iDraw,o=t.aoColumns[n],s=t.aoData[e]._aData,l=o.sDefaultContent,u=o.fnGetData(s,i,{settings:t,row:e,col:n});if(u===r)return t.iDrawError!=a&&null===l&&(oe(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=a),l;if(u!==s&&null!==u||null===l||i===r){if("function"==typeof u)return u.call(s)}else u=l;return null===u&&"display"==i?"":u}function z(t,e,n,r){t.aoColumns[n].fnSetData(t.aoData[e]._aData,r,{settings:t,row:e,col:n})}var Q=/\[.*?\]$/,q=/\(\)$/;function X(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function Y(e){if(t.isPlainObject(e)){var n={};return t.each(e,function(t,e){e&&(n[t]=Y(e))}),function(t,e,i,a){var o=n[e]||n._;return o!==r?o(t,e,i,a):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,n,r,i){return e(t,n,r,i)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,n){return t[e]};var i=function(e,n,a){var o,s,l,u;if(""!==a)for(var h=X(a),c=0,d=h.length;c<d;c++){if(o=h[c].match(Q),s=h[c].match(q),o){if(h[c]=h[c].replace(Q,""),""!==h[c]&&(e=e[h[c]]),l=[],h.splice(0,c+1),u=h.join("."),t.isArray(e))for(var f=0,g=e.length;f<g;f++)l.push(i(e[f],n,u));var p=o[0].substring(1,o[0].length-1);e=""===p?l:l.join(p);break}if(s)h[c]=h[c].replace(q,""),e=e[h[c]]();else{if(null===e||e[h[c]]===r)return r;e=e[h[c]]}}return e};return function(t,n){return i(t,n,e)}}function K(e){if(t.isPlainObject(e))return K(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,r){e(t,"set",n,r)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,n){t[e]=n};var n=function(e,i,a){for(var o,s,l,u,h,c=X(a),d=c[c.length-1],f=0,g=c.length-1;f<g;f++){if(s=c[f].match(Q),l=c[f].match(q),s){if(c[f]=c[f].replace(Q,""),e[c[f]]=[],(o=c.slice()).splice(0,f+1),h=o.join("."),t.isArray(i))for(var p=0,v=i.length;p<v;p++)n(u={},i[p],h),e[c[f]].push(u);else e[c[f]]=i;return}l&&(c[f]=c[f].replace(q,""),e=e[c[f]](i)),null!==e[c[f]]&&e[c[f]]!==r||(e[c[f]]={}),e=e[c[f]]}d.match(q)?e=e[d.replace(q,"")](i):e[d.replace(Q,"")]=i};return function(t,r){return n(t,r,e)}}function J(t){return _(t.aoData,"_aData")}function Z(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function tt(t,e,n){for(var i=-1,a=0,o=t.length;a<o;a++)t[a]==e?i=a:t[a]>e&&t[a]--;-1!=i&&n===r&&t.splice(i,1)}function et(t,e,n,i){var a,o,s=t.aoData[e],l=function(n,r){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=G(t,e,r,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var u=s.anCells;if(u)if(i!==r)l(u[i],i);else for(a=0,o=u.length;a<o;a++)l(u[a],a)}else s._aData=nt(t,s,i,i===r?r:s._aData).data;s._aSortData=null,s._aFilterData=null;var h=t.aoColumns;if(i!==r)h[i].sType=null;else{for(a=0,o=h.length;a<o;a++)h[a].sType=null;it(t,s)}}function nt(e,n,i,a){var o,s,l,u=[],h=n.firstChild,c=0,d=e.aoColumns,f=e._rowReadObject;a=a!==r?a:f?{}:[];var g=function(t,e){if("string"==typeof t){var n=t.indexOf("@");if(-1!==n){var r=t.substring(n+1);K(t)(a,e.getAttribute(r))}}},p=function(e){i!==r&&i!==c||(s=d[c],l=t.trim(e.innerHTML),s&&s._bAttrSrc?(K(s.mData._)(a,l),g(s.mData.sort,e),g(s.mData.type,e),g(s.mData.filter,e)):f?(s._setter||(s._setter=K(s.mData)),s._setter(a,l)):a[c]=l),c++};if(h)for(;h;)"TD"!=(o=h.nodeName.toUpperCase())&&"TH"!=o||(p(h),u.push(h)),h=h.nextSibling;else for(var v=0,m=(u=n.anCells).length;v<m;v++)p(u[v]);var b=n.firstChild?n:n.nTr;if(b){var y=b.getAttribute("id");y&&K(e.rowId)(a,y)}return{data:a,cells:u}}function rt(e,r,i,a){var o,s,l,u,h,c=e.aoData[r],d=c._aData,f=[];if(null===c.nTr){for(o=i||n.createElement("tr"),c.nTr=o,c.anCells=f,o._DT_RowIndex=r,it(e,c),u=0,h=e.aoColumns.length;u<h;u++)l=e.aoColumns[u],(s=i?a[u]:n.createElement(l.sCellType))._DT_CellIndex={row:r,column:u},f.push(s),i&&!l.mRender&&l.mData===u||t.isPlainObject(l.mData)&&l.mData._===u+".display"||(s.innerHTML=G(e,r,u,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!i?o.appendChild(s):!l.bVisible&&i&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,s,G(e,r,u),d,r,u);ce(e,"aoRowCreatedCallback",null,[o,d,r,f])}c.nTr.setAttribute("role","row")}function it(e,n){var r=n.nTr,i=n._aData;if(r){var a=e.rowIdFn(i);if(a&&(r.id=a),i.DT_RowClass){var o=i.DT_RowClass.split(" ");n.__rowc=n.__rowc?x(n.__rowc.concat(o)):o,t(r).removeClass(n.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&t(r).attr(i.DT_RowAttr),i.DT_RowData&&t(r).data(i.DT_RowData)}}function at(e){var n,r,i,a,o,s=e.nTHead,l=e.nTFoot,u=0===t("th, td",s).length,h=e.oClasses,c=e.aoColumns;for(u&&(a=t("<tr/>").appendTo(s)),n=0,r=c.length;n<r;n++)i=t((o=c[n]).nTh).addClass(o.sClass),u&&i.appendTo(a),e.oFeatures.bSort&&(i.addClass(o.sSortingClass),!1!==o.bSortable&&(i.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),te(e,o.nTh,n))),o.sTitle!=i[0].innerHTML&&i.html(o.sTitle),fe(e,"header")(e,i,o,h);if(u&&ht(e.aoHeader,s),t(s).find(">tr").attr("role","row"),t(s).find(">tr>th, >tr>td").addClass(h.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(h.sFooterTH),null!==l){var d=e.aoFooter[0];for(n=0,r=d.length;n<r;n++)(o=c[n]).nTf=d[n].cell,o.sClass&&t(o.nTf).addClass(o.sClass)}}function ot(e,n,i){var a,o,s,l,u,h,c,d,f,g=[],p=[],v=e.aoColumns.length;if(n){for(i===r&&(i=!1),a=0,o=n.length;a<o;a++){for(g[a]=n[a].slice(),g[a].nTr=n[a].nTr,s=v-1;s>=0;s--)e.aoColumns[s].bVisible||i||g[a].splice(s,1);p.push([])}for(a=0,o=g.length;a<o;a++){if(c=g[a].nTr)for(;h=c.firstChild;)c.removeChild(h);for(s=0,l=g[a].length;s<l;s++)if(d=1,f=1,p[a][s]===r){for(c.appendChild(g[a][s].cell),p[a][s]=1;g[a+d]!==r&&g[a][s].cell==g[a+d][s].cell;)p[a+d][s]=1,d++;for(;g[a][s+f]!==r&&g[a][s].cell==g[a][s+f].cell;){for(u=0;u<d;u++)p[a+u][s+f]=1;f++}t(g[a][s].cell).attr("rowspan",d).attr("colspan",f)}}}}function st(e){var n=ce(e,"aoPreDrawCallback","preDraw",[e]);if(-1===t.inArray(!1,n)){var i=[],a=0,o=e.asStripeClasses,s=o.length,l=e.oLanguage,u=e.iInitDisplayStart,h="ssp"==ge(e),c=e.aiDisplay;e.bDrawing=!0,u!==r&&-1!==u&&(e._iDisplayStart=h?u:u>=e.fnRecordsDisplay()?0:u,e.iInitDisplayStart=-1);var d=e._iDisplayStart,f=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,Mt(e,!1);else if(h){if(!e.bDestroying&&!ft(e))return}else e.iDraw++;if(0!==c.length)for(var g=h?e.aoData.length:f,p=h?0:d;p<g;p++){var v=c[p],m=e.aoData[v];null===m.nTr&&rt(e,v);var b=m.nTr;if(0!==s){var y=o[a%s];m._sRowStripe!=y&&(t(b).removeClass(m._sRowStripe).addClass(y),m._sRowStripe=y)}ce(e,"aoRowCallback",null,[b,m._aData,a,p,v]),i.push(b),a++}else{var _=l.sZeroRecords;1==e.iDraw&&"ajax"==ge(e)?_=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(_=l.sEmptyTable),i[0]=t("<tr/>",{class:s?o[0]:""}).append(t("<td />",{valign:"top",colSpan:M(e),class:e.oClasses.sRowEmpty}).html(_))[0]}ce(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],J(e),d,f,c]),ce(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],J(e),d,f,c]);var S=t(e.nTBody);S.children().detach(),S.append(t(i)),ce(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else Mt(e,!1)}function lt(t,e){var n=t.oFeatures,r=n.bFilter;n.bSort&&Kt(t),r?bt(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,st(t),t._drawHold=!1}function ut(e){var n=e.oClasses,r=t(e.nTable),i=t("<div/>").insertBefore(r),a=e.oFeatures,o=t("<div/>",{id:e.sTableId+"_wrapper",class:n.sWrapper+(e.nTFoot?"":" "+n.sNoFooter)});e.nHolding=i[0],e.nTableWrapper=o[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,u,h,c,d,f,g=e.sDom.split(""),p=0;p<g.length;p++){if(s=null,"<"==(u=g[p])){if(h=t("<div/>")[0],"'"==(c=g[p+1])||'"'==c){for(d="",f=2;g[p+f]!=c;)d+=g[p+f],f++;if("H"==d?d=n.sJUIHeader:"F"==d&&(d=n.sJUIFooter),-1!=d.indexOf(".")){var v=d.split(".");h.id=v[0].substr(1,v[0].length-1),h.className=v[1]}else"#"==d.charAt(0)?h.id=d.substr(1,d.length-1):h.className=d;p+=f}o.append(h),o=t(h)}else if(">"==u)o=o.parent();else if("l"==u&&a.bPaginate&&a.bLengthChange)s=Ot(e);else if("f"==u&&a.bFilter)s=mt(e);else if("r"==u&&a.bProcessing)s=Bt(e);else if("t"==u)s=Ht(e);else if("i"==u&&a.bInfo)s=kt(e);else if("p"==u&&a.bPaginate)s=Ft(e);else if(0!==l.ext.feature.length)for(var m=l.ext.feature,b=0,y=m.length;b<y;b++)if(u==m[b].cFeature){s=m[b].fnInit(e);break}if(s){var _=e.aanFeatures;_[u]||(_[u]=[]),_[u].push(s),o.append(s)}}i.replaceWith(o),e.nHolding=null}function ht(e,n){var r,i,a,o,s,l,u,h,c,d,f,g=t(n).children("tr"),p=function(t,e,n){for(var r=t[e];r[n];)n++;return n};for(e.splice(0,e.length),a=0,l=g.length;a<l;a++)e.push([]);for(a=0,l=g.length;a<l;a++)for(h=0,i=(r=g[a]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase())for(c=1*i.getAttribute("colspan"),d=1*i.getAttribute("rowspan"),c=c&&0!==c&&1!==c?c:1,d=d&&0!==d&&1!==d?d:1,u=p(e,a,h),f=1===c,s=0;s<c;s++)for(o=0;o<d;o++)e[a+o][u+s]={cell:i,unique:f},e[a+o].nTr=r;i=i.nextSibling}}function ct(t,e,n){var r=[];n||(n=t.aoHeader,e&&ht(n=[],e));for(var i=0,a=n.length;i<a;i++)for(var o=0,s=n[i].length;o<s;o++)!n[i][o].unique||r[o]&&t.bSortCellsTop||(r[o]=n[i][o].cell);return r}function dt(e,n,r){if(ce(e,"aoServerParams","serverParams",[n]),n&&t.isArray(n)){var i={},a=/(.*?)\[\]$/;t.each(n,function(t,e){var n=e.name.match(a);if(n){var r=n[0];i[r]||(i[r]=[]),i[r].push(e.value)}else i[e.name]=e.value}),n=i}var o,s=e.ajax,l=e.oInstance,u=function(t){ce(e,null,"xhr",[e,t,e.jqXHR]),r(t)};if(t.isPlainObject(s)&&s.data){var h="function"==typeof(o=s.data)?o(n,e):o;n="function"==typeof o&&h?h:t.extend(!0,n,h),delete s.data}var c={data:n,success:function(t){var n=t.error||t.sError;n&&oe(e,0,n),e.json=t,u(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(n,r,i){var a=ce(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,a)&&("parsererror"==r?oe(e,0,"Invalid JSON response",1):4===n.readyState&&oe(e,0,"Ajax error",7)),Mt(e,!1)}};e.oAjaxData=n,ce(e,null,"preXhr",[e,n]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(n,function(t,e){return{name:e,value:t}}),u,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=t.ajax(t.extend(c,{url:s||e.sAjaxSource})):"function"==typeof s?e.jqXHR=s.call(l,n,u,e):(e.jqXHR=t.ajax(t.extend(c,s)),s.data=o)}function ft(t){return!t.bAjaxDataGet||(t.iDraw++,Mt(t,!0),dt(t,gt(t),function(e){pt(t,e)}),!1)}function gt(e){var n,r,i,a,o=e.aoColumns,s=o.length,u=e.oFeatures,h=e.oPreviousSearch,c=e.aoPreSearchCols,d=[],f=Yt(e),g=e._iDisplayStart,p=!1!==u.bPaginate?e._iDisplayLength:-1,v=function(t,e){d.push({name:t,value:e})};v("sEcho",e.iDraw),v("iColumns",s),v("sColumns",_(o,"sName").join(",")),v("iDisplayStart",g),v("iDisplayLength",p);var m={draw:e.iDraw,columns:[],order:[],start:g,length:p,search:{value:h.sSearch,regex:h.bRegex}};for(n=0;n<s;n++)a=c[n],m.columns.push({data:r="function"==typeof(i=o[n]).mData?"function":i.mData,name:i.sName,searchable:i.bSearchable,orderable:i.bSortable,search:{value:a.sSearch,regex:a.bRegex}}),v("mDataProp_"+n,r),u.bFilter&&(v("sSearch_"+n,a.sSearch),v("bRegex_"+n,a.bRegex),v("bSearchable_"+n,i.bSearchable)),u.bSort&&v("bSortable_"+n,i.bSortable);u.bFilter&&(v("sSearch",h.sSearch),v("bRegex",h.bRegex)),u.bSort&&(t.each(f,function(t,e){m.order.push({column:e.col,dir:e.dir}),v("iSortCol_"+t,e.col),v("sSortDir_"+t,e.dir)}),v("iSortingCols",f.length));var b=l.ext.legacy.ajax;return null===b?e.sAjaxSource?d:m:b?d:m}function pt(t,e){var n=function(t,n){return e[t]!==r?e[t]:e[n]},i=vt(t,e),a=n("sEcho","draw"),o=n("iTotalRecords","recordsTotal"),s=n("iTotalDisplayRecords","recordsFiltered");if(a){if(1*a<t.iDraw)return;t.iDraw=1*a}Z(t),t._iRecordsTotal=parseInt(o,10),t._iRecordsDisplay=parseInt(s,10);for(var l=0,u=i.length;l<u;l++)V(t,i[l]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,st(t),t._bInitComplete||Pt(t,e),t.bAjaxDataGet=!0,Mt(t,!1)}function vt(e,n){var i=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==r?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===i?n.aaData||n[i]:""!==i?Y(i)(n):n}function mt(e){var r=e.oClasses,i=e.sTableId,a=e.oLanguage,o=e.oPreviousSearch,s=e.aanFeatures,l='<input type="search" class="'+r.sFilterInput+'"/>',u=a.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",l):u+l;var h=t("<div/>",{id:s.f?null:i+"_filter",class:r.sFilter}).append(t("<label/>").append(u)),c=function(){var t=this.value?this.value:"";t!=o.sSearch&&(bt(e,{sSearch:t,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),e._iDisplayStart=0,st(e))},d=null!==e.searchDelay?e.searchDelay:"ssp"===ge(e)?400:0,f=t("input",h).val(o.sSearch).attr("placeholder",a.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",d?Gt(c,d):c).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",i);return t(e.nTable).on("search.dt.DT",function(t,r){if(e===r)try{f[0]!==n.activeElement&&f.val(o.sSearch)}catch(t){}}),h[0]}function bt(t,e,n){var i=t.oPreviousSearch,a=t.aoPreSearchCols,o=function(t){i.sSearch=t.sSearch,i.bRegex=t.bRegex,i.bSmart=t.bSmart,i.bCaseInsensitive=t.bCaseInsensitive},s=function(t){return t.bEscapeRegex!==r?!t.bEscapeRegex:t.bRegex};if(W(t),"ssp"!=ge(t)){St(t,e.sSearch,n,s(e),e.bSmart,e.bCaseInsensitive),o(e);for(var l=0;l<a.length;l++)_t(t,a[l].sSearch,l,s(a[l]),a[l].bSmart,a[l].bCaseInsensitive);yt(t)}else o(e);t.bFiltered=!0,ce(t,null,"search",[t])}function yt(e){for(var n,r,i=l.ext.search,a=e.aiDisplay,o=0,s=i.length;o<s;o++){for(var u=[],h=0,c=a.length;h<c;h++)i[o](e,(n=e.aoData[r=a[h]])._aFilterData,r,n._aData,h)&&u.push(r);a.length=0,t.merge(a,u)}}function _t(t,e,n,r,i,a){if(""!==e){for(var o=[],s=t.aiDisplay,l=Ct(e,r,i,a),u=0;u<s.length;u++)l.test(t.aoData[s[u]]._aFilterData[n])&&o.push(s[u]);t.aiDisplay=o}}function St(t,e,n,r,i,a){var o,s,u,h=Ct(e,r,i,a),c=t.oPreviousSearch.sSearch,d=t.aiDisplayMaster,f=[];if(0!==l.ext.search.length&&(n=!0),s=Dt(t),e.length<=0)t.aiDisplay=d.slice();else{for((s||n||c.length>e.length||0!==e.indexOf(c)||t.bSorted)&&(t.aiDisplay=d.slice()),o=t.aiDisplay,u=0;u<o.length;u++)h.test(t.aoData[o[u]]._sFilterRow)&&f.push(o[u]);t.aiDisplay=f}}function Ct(e,n,r,i){return e=n?e:wt(e),r&&(e="^(?=.*?"+t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$"),new RegExp(e,i?"i":"")}var wt=l.util.escapeRegex,Tt=t("<div>")[0],xt=Tt.textContent!==r;function Dt(t){var e,n,r,i,a,o,s,u,h=t.aoColumns,c=l.ext.type.search,d=!1;for(n=0,i=t.aoData.length;n<i;n++)if(!(u=t.aoData[n])._aFilterData){for(o=[],r=0,a=h.length;r<a;r++)(e=h[r]).bSearchable?(s=G(t,n,r,"filter"),c[e.sType]&&(s=c[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(Tt.innerHTML=s,s=xt?Tt.textContent:Tt.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),o.push(s);u._aFilterData=o,u._sFilterRow=o.join("  "),d=!0}return d}function At(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function It(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function kt(e){var n=e.sTableId,r=e.aanFeatures.i,i=t("<div/>",{class:e.oClasses.sInfo,id:r?null:n+"_info"});return r||(e.aoDrawCallback.push({fn:Et,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",n+"_info")),i[0]}function Et(e){var n=e.aanFeatures.i;if(0!==n.length){var r=e.oLanguage,i=e._iDisplayStart+1,a=e.fnDisplayEnd(),o=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?r.sInfo:r.sInfoEmpty;s!==o&&(l+=" "+r.sInfoFiltered),l=Rt(e,l+=r.sInfoPostFix);var u=r.fnInfoCallback;null!==u&&(l=u.call(e.oInstance,e,i,a,o,s,l)),t(n).html(l)}}function Rt(t,e){var n=t.fnFormatNumber,r=t._iDisplayStart+1,i=t._iDisplayLength,a=t.fnRecordsDisplay(),o=-1===i;return e.replace(/_START_/g,n.call(t,r)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,a)).replace(/_PAGE_/g,n.call(t,o?1:Math.ceil(r/i))).replace(/_PAGES_/g,n.call(t,o?1:Math.ceil(a/i)))}function Nt(t){var e,n,r,i=t.iInitDisplayStart,a=t.aoColumns,o=t.oFeatures,s=t.bDeferLoading;if(t.bInitialised){for(ut(t),at(t),ot(t,t.aoHeader),ot(t,t.aoFooter),Mt(t,!0),o.bAutoWidth&&Ut(t),e=0,n=a.length;e<n;e++)(r=a[e]).sWidth&&(r.nTh.style.width=Xt(r.sWidth));ce(t,null,"preInit",[t]),lt(t);var l=ge(t);("ssp"!=l||s)&&("ajax"==l?dt(t,[],function(n){var r=vt(t,n);for(e=0;e<r.length;e++)V(t,r[e]);t.iInitDisplayStart=i,lt(t),Mt(t,!1),Pt(t,n)}):(Mt(t,!1),Pt(t)))}else setTimeout(function(){Nt(t)},200)}function Pt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&F(t),ce(t,null,"plugin-init",[t,e]),ce(t,"aoInitComplete","init",[t,e])}function Lt(t,e){var n=parseInt(e,10);t._iDisplayLength=n,de(t),ce(t,null,"length",[t,n])}function Ot(e){for(var n=e.oClasses,r=e.sTableId,i=e.aLengthMenu,a=t.isArray(i[0]),o=a?i[0]:i,s=a?i[1]:i,l=t("<select/>",{name:r+"_length","aria-controls":r,class:n.sLengthSelect}),u=0,h=o.length;u<h;u++)l[0][u]=new Option("number"==typeof s[u]?e.fnFormatNumber(s[u]):s[u],o[u]);var c=t("<div><label/></div>").addClass(n.sLength);return e.aanFeatures.l||(c[0].id=r+"_length"),c.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",c).val(e._iDisplayLength).on("change.DT",function(n){Lt(e,t(this).val()),st(e)}),t(e.nTable).on("length.dt.DT",function(n,r,i){e===r&&t("select",c).val(i)}),c[0]}function Ft(e){var n=e.sPaginationType,r=l.ext.pager[n],i="function"==typeof r,a=function(t){st(t)},o=t("<div/>").addClass(e.oClasses.sPaging+n)[0],s=e.aanFeatures;return i||r.fnInit(e,o,a),s.p||(o.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(i){var e,n,o=t._iDisplayStart,l=t._iDisplayLength,u=t.fnRecordsDisplay(),h=-1===l,c=h?0:Math.ceil(o/l),d=h?1:Math.ceil(u/l),f=r(c,d);for(e=0,n=s.p.length;e<n;e++)fe(t,"pageButton")(t,s.p[e],e,f,c,d)}else r.fnUpdate(t,a)},sName:"pagination"})),o}function jt(t,e,n){var r=t._iDisplayStart,i=t._iDisplayLength,a=t.fnRecordsDisplay();0===a||-1===i?r=0:"number"==typeof e?(r=e*i)>a&&(r=0):"first"==e?r=0:"previous"==e?(r=i>=0?r-i:0)<0&&(r=0):"next"==e?r+i<a&&(r+=i):"last"==e?r=Math.floor((a-1)/i)*i:oe(t,0,"Unknown paging action: "+e,5);var o=t._iDisplayStart!==r;return t._iDisplayStart=r,o&&(ce(t,null,"page",[t]),n&&st(t)),o}function Bt(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function Mt(e,n){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",n?"block":"none"),ce(e,null,"processing",[e,n])}function Ht(e){var n=t(e.nTable);n.attr("role","grid");var r=e.oScroll;if(""===r.sX&&""===r.sY)return e.nTable;var i=r.sX,a=r.sY,o=e.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,u=t(n[0].cloneNode(!1)),h=t(n[0].cloneNode(!1)),c=n.children("tfoot"),d="<div/>",f=function(t){return t?Xt(t):null};c.length||(c=null);var g=t(d,{class:o.sScrollWrapper}).append(t(d,{class:o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?f(i):"100%"}).append(t(d,{class:o.sScrollHeadInner}).css({"box-sizing":"content-box",width:r.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(t(d,{class:o.sScrollBody}).css({position:"relative",overflow:"auto",width:f(i)}).append(n));c&&g.append(t(d,{class:o.sScrollFoot}).css({overflow:"hidden",border:0,width:i?f(i):"100%"}).append(t(d,{class:o.sScrollFootInner}).append(h.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var p=g.children(),v=p[0],m=p[1],b=c?p[2]:null;return i&&t(m).on("scroll.DT",function(t){var e=this.scrollLeft;v.scrollLeft=e,c&&(b.scrollLeft=e)}),t(m).css(a&&r.bCollapse?"max-height":"height",a),e.nScrollHead=v,e.nScrollBody=m,e.nScrollFoot=b,e.aoDrawCallback.push({fn:Wt,sName:"scrolling"}),g[0]}function Wt(e){var n,i,a,o,s,l,u,h,c,d=e.oScroll,f=d.sX,g=d.sXInner,p=d.sY,v=d.iBarWidth,m=t(e.nScrollHead),b=m[0].style,y=m.children("div"),S=y[0].style,C=y.children("table"),w=e.nScrollBody,T=t(w),x=w.style,D=t(e.nScrollFoot).children("div"),A=D.children("table"),I=t(e.nTHead),k=t(e.nTable),E=k[0],R=E.style,N=e.nTFoot?t(e.nTFoot):null,P=e.oBrowser,L=P.bScrollOversize,O=_(e.aoColumns,"nTh"),B=[],M=[],H=[],W=[],$=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},V=w.scrollHeight>w.clientHeight;if(e.scrollBarVis!==V&&e.scrollBarVis!==r)return e.scrollBarVis=V,void F(e);e.scrollBarVis=V,k.children("thead, tfoot").remove(),N&&(l=N.clone().prependTo(k),i=N.find("tr"),o=l.find("tr")),s=I.clone().prependTo(k),n=I.find("tr"),a=s.find("tr"),s.find("th, td").removeAttr("tabindex"),f||(x.width="100%",m[0].style.width="100%"),t.each(ct(e,s),function(t,n){u=j(e,t),n.style.width=e.aoColumns[u].sWidth}),N&&$t(function(t){t.style.width=""},o),c=k.outerWidth(),""===f?(R.width="100%",L&&(k.find("tbody").height()>w.offsetHeight||"scroll"==T.css("overflow-y"))&&(R.width=Xt(k.outerWidth()-v)),c=k.outerWidth()):""!==g&&(R.width=Xt(g),c=k.outerWidth()),$t($,a),$t(function(e){H.push(e.innerHTML),B.push(Xt(t(e).css("width")))},a),$t(function(e,n){-1!==t.inArray(e,O)&&(e.style.width=B[n])},n),t(a).height(0),N&&($t($,o),$t(function(e){W.push(e.innerHTML),M.push(Xt(t(e).css("width")))},o),$t(function(t,e){t.style.width=M[e]},i),t(o).height(0)),$t(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+H[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=B[e]},a),N&&$t(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+W[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=M[e]},o),k.outerWidth()<c?(h=w.scrollHeight>w.offsetHeight||"scroll"==T.css("overflow-y")?c+v:c,L&&(w.scrollHeight>w.offsetHeight||"scroll"==T.css("overflow-y"))&&(R.width=Xt(h-v)),""!==f&&""===g||oe(e,1,"Possible column misalignment",6)):h="100%",x.width=Xt(h),b.width=Xt(h),N&&(e.nScrollFoot.style.width=Xt(h)),p||L&&(x.height=Xt(E.offsetHeight+v));var U=k.outerWidth();C[0].style.width=Xt(U),S.width=Xt(U);var G=k.height()>w.clientHeight||"scroll"==T.css("overflow-y"),z="padding"+(P.bScrollbarLeft?"Left":"Right");S[z]=G?v+"px":"0px",N&&(A[0].style.width=Xt(U),D[0].style.width=Xt(U),D[0].style[z]=G?v+"px":"0px"),k.children("colgroup").insertBefore(k.children("thead")),T.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(w.scrollTop=0)}function $t(t,e,n){for(var r,i,a=0,o=0,s=e.length;o<s;){for(r=e[o].firstChild,i=n?n[o].firstChild:null;r;)1===r.nodeType&&(n?t(r,i,a):t(r,a),a++),r=r.nextSibling,i=n?i.nextSibling:null;o++}}var Vt=/<.*?>/g;function Ut(n){var r,i,a,o=n.nTable,s=n.aoColumns,l=n.oScroll,u=l.sY,h=l.sX,c=l.sXInner,d=s.length,f=H(n,"bVisible"),g=t("th",n.nTHead),p=o.getAttribute("width"),v=o.parentNode,m=!1,b=n.oBrowser,y=b.bScrollOversize,_=o.style.width;for(_&&-1!==_.indexOf("%")&&(p=_),r=0;r<f.length;r++)null!==(i=s[f[r]]).sWidth&&(i.sWidth=zt(i.sWidthOrig,v),m=!0);if(y||!m&&!h&&!u&&d==M(n)&&d==g.length)for(r=0;r<d;r++){var S=j(n,r);null!==S&&(s[S].sWidth=Xt(g.eq(r).width()))}else{var C=t(o).clone().css("visibility","hidden").removeAttr("id");C.find("tbody tr").remove();var w=t("<tr/>").appendTo(C.find("tbody"));for(C.find("thead, tfoot").remove(),C.append(t(n.nTHead).clone()).append(t(n.nTFoot).clone()),C.find("tfoot th, tfoot td").css("width",""),g=ct(n,C.find("thead")[0]),r=0;r<f.length;r++)g[r].style.width=null!==(i=s[f[r]]).sWidthOrig&&""!==i.sWidthOrig?Xt(i.sWidthOrig):"",i.sWidthOrig&&h&&t(g[r]).append(t("<div/>").css({width:i.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(r=0;r<f.length;r++)i=s[a=f[r]],t(Qt(n,a)).clone(!1).append(i.sContentPadding).appendTo(w);t("[name]",C).removeAttr("name");var T=t("<div/>").css(h||u?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(C).appendTo(v);h&&c?C.width(c):h?(C.css("width","auto"),C.removeAttr("width"),C.width()<v.clientWidth&&p&&C.width(v.clientWidth)):u?C.width(v.clientWidth):p&&C.width(p);var x=0;for(r=0;r<f.length;r++){var D=t(g[r]),A=D.outerWidth()-D.width(),I=b.bBounding?Math.ceil(g[r].getBoundingClientRect().width):D.outerWidth();x+=I,s[f[r]].sWidth=Xt(I-A)}o.style.width=Xt(x),T.remove()}if(p&&(o.style.width=Xt(p)),(p||h)&&!n._reszEvt){var k=function(){t(e).on("resize.DT-"+n.sInstance,Gt(function(){F(n)}))};y?setTimeout(k,1e3):k(),n._reszEvt=!0}}var Gt=l.util.throttle;function zt(e,r){if(!e)return 0;var i=t("<div/>").css("width",Xt(e)).appendTo(r||n.body),a=i[0].offsetWidth;return i.remove(),a}function Qt(e,n){var r=qt(e,n);if(r<0)return null;var i=e.aoData[r];return i.nTr?i.anCells[n]:t("<td/>").html(G(e,r,n,"display"))[0]}function qt(t,e){for(var n,r=-1,i=-1,a=0,o=t.aoData.length;a<o;a++)(n=(n=(n=G(t,a,e,"display")+"").replace(Vt,"")).replace(/&nbsp;/g," ")).length>r&&(r=n.length,i=a);return i}function Xt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Yt(e){var n,i,a,o,s,u,h,c=[],d=e.aoColumns,f=e.aaSortingFixed,g=t.isPlainObject(f),p=[],v=function(e){e.length&&!t.isArray(e[0])?p.push(e):t.merge(p,e)};for(t.isArray(f)&&v(f),g&&f.pre&&v(f.pre),v(e.aaSorting),g&&f.post&&v(f.post),n=0;n<p.length;n++)for(i=0,a=(o=d[h=p[n][0]].aDataSort).length;i<a;i++)u=d[s=o[i]].sType||"string",p[n]._idx===r&&(p[n]._idx=t.inArray(p[n][1],d[s].asSorting)),c.push({src:h,col:s,dir:p[n][1],index:p[n]._idx,type:u,formatter:l.ext.type.order[u+"-pre"]});return c}function Kt(t){var e,n,r,i,a,o=[],s=l.ext.type.order,u=t.aoData,h=0,c=t.aiDisplayMaster;for(W(t),e=0,n=(a=Yt(t)).length;e<n;e++)(i=a[e]).formatter&&h++,ne(t,i.col);if("ssp"!=ge(t)&&0!==a.length){for(e=0,r=c.length;e<r;e++)o[c[e]]=e;c.sort(h===a.length?function(t,e){var n,r,i,s,l,h=a.length,c=u[t]._aSortData,d=u[e]._aSortData;for(i=0;i<h;i++)if(0!=(s=(n=c[(l=a[i]).col])<(r=d[l.col])?-1:n>r?1:0))return"asc"===l.dir?s:-s;return(n=o[t])<(r=o[e])?-1:n>r?1:0}:function(t,e){var n,r,i,l,h,c=a.length,d=u[t]._aSortData,f=u[e]._aSortData;for(i=0;i<c;i++)if(n=d[(h=a[i]).col],r=f[h.col],0!==(l=(s[h.type+"-"+h.dir]||s["string-"+h.dir])(n,r)))return l;return(n=o[t])<(r=o[e])?-1:n>r?1:0})}t.bSorted=!0}function Jt(t){for(var e,n,r=t.aoColumns,i=Yt(t),a=t.oLanguage.oAria,o=0,s=r.length;o<s;o++){var l=r[o],u=l.asSorting,h=l.sTitle.replace(/<.*?>/g,""),c=l.nTh;c.removeAttribute("aria-sort"),l.bSortable?(i.length>0&&i[0].col==o?(c.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),n=u[i[0].index+1]||u[0]):n=u[0],e=h+("asc"===n?a.sSortAscending:a.sSortDescending)):e=h,c.setAttribute("aria-label",e)}}function Zt(e,n,i,a){var o,s=e.aaSorting,l=e.aoColumns[n].asSorting,u=function(e,n){var i=e._idx;return i===r&&(i=t.inArray(e[1],l)),i+1<l.length?i+1:n?null:0};if("number"==typeof s[0]&&(s=e.aaSorting=[s]),i&&e.oFeatures.bSortMulti){var h=t.inArray(n,_(s,"0"));-1!==h?(null===(o=u(s[h],!0))&&1===s.length&&(o=0),null===o?s.splice(h,1):(s[h][1]=l[o],s[h]._idx=o)):(s.push([n,l[0],0]),s[s.length-1]._idx=0)}else s.length&&s[0][0]==n?(o=u(s[0]),s.length=1,s[0][1]=l[o],s[0]._idx=o):(s.length=0,s.push([n,l[0]]),s[0]._idx=0);lt(e),"function"==typeof a&&a(e)}function te(t,e,n,r){var i=t.aoColumns[n];ue(e,{},function(e){!1!==i.bSortable&&(t.oFeatures.bProcessing?(Mt(t,!0),setTimeout(function(){Zt(t,n,e.shiftKey,r),"ssp"!==ge(t)&&Mt(t,!1)},0)):Zt(t,n,e.shiftKey,r))})}function ee(e){var n,r,i=e.aLastSort,a=e.oClasses.sSortColumn,o=Yt(e),s=e.oFeatures;if(s.bSort&&s.bSortClasses){for(n=0,r=i.length;n<r;n++)t(_(e.aoData,"anCells",i[n].src)).removeClass(a+(n<2?n+1:3));for(n=0,r=o.length;n<r;n++)t(_(e.aoData,"anCells",o[n].src)).addClass(a+(n<2?n+1:3))}e.aLastSort=o}function ne(t,e){var n,r,i,a=t.aoColumns[e],o=l.ext.order[a.sSortDataType];o&&(n=o.call(t.oInstance,t,e,B(t,e)));for(var s=l.ext.type.order[a.sType+"-pre"],u=0,h=t.aoData.length;u<h;u++)(r=t.aoData[u])._aSortData||(r._aSortData=[]),r._aSortData[e]&&!o||(i=o?n[u]:G(t,u,e,"sort"),r._aSortData[e]=s?s(i):i)}function re(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var n={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:At(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:At(e.aoPreSearchCols[n])}})};ce(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.oSavedState=n,e.fnStateSaveCallback.call(e.oInstance,e,n)}}function ie(e,n,i){var a,o,s=e.aoColumns,l=function(n){if(n&&n.time){var l=ce(e,"aoStateLoadParams","stateLoadParams",[e,n]);if(-1===t.inArray(!1,l)){var u=e.iStateDuration;if(u>0&&n.time<+new Date-1e3*u)i();else if(n.columns&&s.length!==n.columns.length)i();else{if(e.oLoadedState=t.extend(!0,{},n),n.start!==r&&(e._iDisplayStart=n.start,e.iInitDisplayStart=n.start),n.length!==r&&(e._iDisplayLength=n.length),n.order!==r&&(e.aaSorting=[],t.each(n.order,function(t,n){e.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)})),n.search!==r&&t.extend(e.oPreviousSearch,It(n.search)),n.columns)for(a=0,o=n.columns.length;a<o;a++){var h=n.columns[a];h.visible!==r&&(s[a].bVisible=h.visible),h.search!==r&&t.extend(e.aoPreSearchCols[a],It(h.search))}ce(e,"aoStateLoaded","stateLoaded",[e,n]),i()}}else i()}else i()};if(e.oFeatures.bStateSave){var u=e.fnStateLoadCallback.call(e.oInstance,e,l);u!==r&&l(u)}else i()}function ae(e){var n=l.settings,r=t.inArray(e,_(n,"nTable"));return-1!==r?n[r]:null}function oe(t,n,r,i){if(r="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+r,i&&(r+=". For more information about this error, please see http://datatables.net/tn/"+i),n)e.console&&console.log&&console.log(r);else{var a=l.ext,o=a.sErrMode||a.errMode;if(t&&ce(t,null,"error",[t,i,r]),"alert"==o)alert(r);else{if("throw"==o)throw new Error(r);"function"==typeof o&&o(t,i,r)}}}function se(e,n,i,a){t.isArray(i)?t.each(i,function(r,i){t.isArray(i)?se(e,n,i[0],i[1]):se(e,n,i)}):(a===r&&(a=i),n[i]!==r&&(e[a]=n[i]))}function le(e,n,r){var i;for(var a in n)n.hasOwnProperty(a)&&(t.isPlainObject(i=n[a])?(t.isPlainObject(e[a])||(e[a]={}),t.extend(!0,e[a],i)):e[a]=r&&"data"!==a&&"aaData"!==a&&t.isArray(i)?i.slice():i);return e}function ue(e,n,r){t(e).on("click.DT",n,function(n){t(e).blur(),r(n)}).on("keypress.DT",n,function(t){13===t.which&&(t.preventDefault(),r(t))}).on("selectstart.DT",function(){return!1})}function he(t,e,n,r){n&&t[e].push({fn:n,sName:r})}function ce(e,n,r,i){var a=[];if(n&&(a=t.map(e[n].slice().reverse(),function(t,n){return t.fn.apply(e.oInstance,i)})),null!==r){var o=t.Event(r+".dt");t(e.nTable).trigger(o,i),a.push(o.result)}return a}function de(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),r=t._iDisplayLength;e>=n&&(e=n-r),e-=e%r,(-1===r||e<0)&&(e=0),t._iDisplayStart=e}function fe(e,n){var r=e.renderer,i=l.ext.renderer[n];return t.isPlainObject(r)&&r[n]?i[r[n]]||i._:"string"==typeof r&&i[r]||i._}function ge(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}var pe=[],ve=Array.prototype;l.Api=a=function(e,n){if(!(this instanceof a))return new a(e,n);var r=[],i=function(e){var n=function(e){var n,r,i=l.settings,a=t.map(i,function(t,e){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(n=t.inArray(e,a))?[i[n]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?r=t(e):e instanceof t&&(r=e),r?r.map(function(e){return-1!==(n=t.inArray(this,a))?i[n]:null}).toArray():void 0):[]}(e);n&&(r=r.concat(n))};if(t.isArray(e))for(var o=0,s=e.length;o<s;o++)i(e[o]);else i(e);this.context=x(r),n&&t.merge(this,n),this.selector={rows:null,cols:null,opts:null},a.extend(this,this,pe)},t.extend(a.prototype,{any:function(){return 0!==this.count()},concat:ve.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new a(e[t],this[t]):null},filter:function(t){var e=[];if(ve.filter)e=ve.filter.call(this,t,this);else for(var n=0,r=this.length;n<r;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new a(this.context,e)},flatten:function(){var t=[];return new a(this.context,t.concat.apply(t,this.toArray()))},join:ve.join,indexOf:ve.indexOf||function(t,e){for(var n=e||0,r=this.length;n<r;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,i){var o,s,l,u,h,c,d,f,g=[],p=this.context,v=this.selector;for("string"==typeof t&&(i=n,n=e,e=t,t=!1),s=0,l=p.length;s<l;s++){var m=new a(p[s]);if("table"===e)(o=n.call(m,p[s],s))!==r&&g.push(o);else if("columns"===e||"rows"===e)(o=n.call(m,p[s],this[s],s))!==r&&g.push(o);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(d=this[s],"column-rows"===e&&(c=Se(p[s],v.opts)),u=0,h=d.length;u<h;u++)f=d[u],(o="cell"===e?n.call(m,p[s],f.row,f.column,s,u):n.call(m,p[s],f,s,u,c))!==r&&g.push(o)}if(g.length||i){var b=new a(p,t?g.concat.apply([],g):g),y=b.selector;return y.rows=v.rows,y.cols=v.cols,y.opts=v.opts,b}return this},lastIndexOf:ve.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(ve.map)e=ve.map.call(this,t,this);else for(var n=0,r=this.length;n<r;n++)e.push(t.call(this,this[n],n));return new a(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:ve.pop,push:ve.push,reduce:ve.reduce||function(t,e){return P(this,t,e,0,this.length,1)},reduceRight:ve.reduceRight||function(t,e){return P(this,t,e,this.length-1,-1,-1)},reverse:ve.reverse,selector:null,shift:ve.shift,slice:function(){return new a(this.context,this)},sort:ve.sort,splice:ve.splice,toArray:function(){return ve.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new a(this.context,x(this))},unshift:ve.unshift}),a.extend=function(e,n,r){if(r.length&&n&&(n instanceof a||n.__dt_wrapper)){var i,o,s,l=function(t,e,n){return function(){var r=e.apply(t,arguments);return a.extend(r,r,n.methodExt),r}};for(i=0,o=r.length;i<o;i++)n[(s=r[i]).name]="function"==typeof s.val?l(e,s.val,s):t.isPlainObject(s.val)?{}:s.val,n[s.name].__dt_wrapper=!0,a.extend(e,n[s.name],s.propExt)}},a.register=o=function(e,n){if(t.isArray(e))for(var r=0,i=e.length;r<i;r++)a.register(e[r],n);else{var o,s,l,u,h=e.split("."),c=pe,d=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n].name===e)return t[n];return null};for(o=0,s=h.length;o<s;o++){var f=d(c,l=(u=-1!==h[o].indexOf("()"))?h[o].replace("()",""):h[o]);f||c.push(f={name:l,val:{},methodExt:[],propExt:[]}),o===s-1?f.val=n:c=u?f.methodExt:f.propExt}}},a.registerPlural=s=function(e,n,i){a.register(e,i),a.register(n,function(){var e=i.apply(this,arguments);return e===this?this:e instanceof a?e.length?t.isArray(e[0])?new a(e.context,e[0]):e[0]:r:e})},o("tables()",function(e){return e?new a(function(e,n){if("number"==typeof e)return[n[e]];var r=t.map(n,function(t,e){return t.nTable});return t(r).filter(e).map(function(e){var i=t.inArray(this,r);return n[i]}).toArray()}(e,this.context)):this}),o("table()",function(t){var e=this.tables(t),n=e.context;return n.length?new a(n[0]):e}),s("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),s("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),s("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),s("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),s("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),o("draw()",function(t){return this.iterator("table",function(e){"page"===t?st(e):("string"==typeof t&&(t="full-hold"!==t),lt(e,!1===t))})}),o("page()",function(t){return t===r?this.page.info().page:this.iterator("table",function(e){jt(e,t)})}),o("page.info()",function(t){if(0===this.context.length)return r;var e=this.context[0],n=e._iDisplayStart,i=e.oFeatures.bPaginate?e._iDisplayLength:-1,a=e.fnRecordsDisplay(),o=-1===i;return{page:o?0:Math.floor(n/i),pages:o?1:Math.ceil(a/i),start:n,end:e.fnDisplayEnd(),length:i,recordsTotal:e.fnRecordsTotal(),recordsDisplay:a,serverSide:"ssp"===ge(e)}}),o("page.len()",function(t){return t===r?0!==this.context.length?this.context[0]._iDisplayLength:r:this.iterator("table",function(e){Lt(e,t)})});var me=function(t,e,n){if(n){var r=new a(t);r.one("draw",function(){n(r.ajax.json())})}if("ssp"==ge(t))lt(t,e);else{Mt(t,!0);var i=t.jqXHR;i&&4!==i.readyState&&i.abort(),dt(t,[],function(n){Z(t);for(var r=vt(t,n),i=0,a=r.length;i<a;i++)V(t,r[i]);lt(t,e),Mt(t,!1)})}};o("ajax.json()",function(){var t=this.context;if(t.length>0)return t[0].json}),o("ajax.params()",function(){var t=this.context;if(t.length>0)return t[0].oAjaxData}),o("ajax.reload()",function(t,e){return this.iterator("table",function(n){me(n,!1===e,t)})}),o("ajax.url()",function(e){var n=this.context;return e===r?0===n.length?r:(n=n[0]).ajax?t.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",function(n){t.isPlainObject(n.ajax)?n.ajax.url=e:n.ajax=e})}),o("ajax.url().load()",function(t,e){return this.iterator("table",function(n){me(n,!1===e,t)})});var be=function(e,n,a,o,s){var l,u,h,c,d,f,g=[],p=typeof n;for(n&&"string"!==p&&"function"!==p&&n.length!==r||(n=[n]),h=0,c=n.length;h<c;h++)for(d=0,f=(u=n[h]&&n[h].split&&!n[h].match(/[\[\(:]/)?n[h].split(","):[n[h]]).length;d<f;d++)(l=a("string"==typeof u[d]?t.trim(u[d]):u[d]))&&l.length&&(g=g.concat(l));var v=i.selector[e];if(v.length)for(h=0,c=v.length;h<c;h++)g=v[h](o,s,g);return x(g)},ye=function(e){return e||(e={}),e.filter&&e.search===r&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},_e=function(t){for(var e=0,n=t.length;e<n;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Se=function(e,n){var r,i=[],a=e.aiDisplay,o=e.aiDisplayMaster,s=n.search,l=n.order,u=n.page;if("ssp"==ge(e))return"removed"===s?[]:C(0,o.length);if("current"==u)for(c=e._iDisplayStart,d=e.fnDisplayEnd();c<d;c++)i.push(a[c]);else if("current"==l||"applied"==l){if("none"==s)i=o.slice();else if("applied"==s)i=a.slice();else if("removed"==s){for(var h={},c=0,d=a.length;c<d;c++)h[a[c]]=null;i=t.map(o,function(t){return h.hasOwnProperty(t)?null:t})}}else if("index"==l||"original"==l)for(c=0,d=e.aoData.length;c<d;c++)"none"==s?i.push(c):(-1===(r=t.inArray(c,a))&&"removed"==s||r>=0&&"applied"==s)&&i.push(c);return i};o("rows()",function(e,n){e===r?e="":t.isPlainObject(e)&&(n=e,e=""),n=ye(n);var i=this.iterator("table",function(i){return function(e,n,i){var a;return be("row",n,function(n){var o=v(n),s=e.aoData;if(null!==o&&!i)return[o];if(a||(a=Se(e,i)),null!==o&&-1!==t.inArray(o,a))return[o];if(null===n||n===r||""===n)return a;if("function"==typeof n)return t.map(a,function(t){var e=s[t];return n(t,e._aData,e.nTr)?t:null});if(n.nodeName){var l=n._DT_RowIndex,u=n._DT_CellIndex;if(l!==r)return s[l]&&s[l].nTr===n?[l]:[];if(u)return s[u.row]&&s[u.row].nTr===n?[u.row]:[];var h=t(n).closest("*[data-dt-row]");return h.length?[h.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var c=e.aIds[n.replace(/^#/,"")];if(c!==r)return[c.idx]}var d=w(S(e.aoData,a,"nTr"));return t(d).filter(n).map(function(){return this._DT_RowIndex}).toArray()},e,i)}(i,e,n)},1);return i.selector.rows=e,i.selector.opts=n,i}),o("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||r},1)}),o("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return S(t.aoData,e,"_aData")},1)}),s("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var r=e.aoData[n];return"search"===t?r._aFilterData:r._aSortData},1)}),s("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){et(e,n,t)})}),s("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),s("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,r=0,i=n.length;r<i;r++)for(var o=0,s=this[r].length;o<s;o++){var l=n[r].rowIdFn(n[r].aoData[this[r][o]]._aData);e.push((!0===t?"#":"")+l)}return new a(n,e)}),s("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,n,i){var a,o,s,l,u,h,c=e.aoData,d=c[n];for(c.splice(n,1),a=0,o=c.length;a<o;a++)if(h=(u=c[a]).anCells,null!==u.nTr&&(u.nTr._DT_RowIndex=a),null!==h)for(s=0,l=h.length;s<l;s++)h[s]._DT_CellIndex.row=a;tt(e.aiDisplayMaster,n),tt(e.aiDisplay,n),tt(t[i],n,!1),e._iRecordsDisplay>0&&e._iRecordsDisplay--,de(e);var f=e.rowIdFn(d._aData);f!==r&&delete e.aIds[f]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),o("rows.add()",function(e){var n=this.iterator("table",function(t){var n,r,i,a=[];for(r=0,i=e.length;r<i;r++)(n=e[r]).nodeName&&"TR"===n.nodeName.toUpperCase()?a.push(U(t,n)[0]):a.push(V(t,n));return a},1),r=this.rows(-1);return r.pop(),t.merge(r,n),r}),o("row()",function(t,e){return _e(this.rows(t,e))}),o("row().data()",function(e){var n=this.context;if(e===r)return n.length&&this.length?n[0].aoData[this[0]]._aData:r;var i=n[0].aoData[this[0]];return i._aData=e,t.isArray(e)&&i.nTr.id&&K(n[0].rowId)(e,i.nTr.id),et(n[0],this[0],"data"),this}),o("row().node()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null}),o("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var n=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?U(t,e)[0]:V(t,e)});return this.row(n[0])});var Ce=function(t,e){var n=t.context;if(n.length){var i=n[0].aoData[e!==r?e:t[0]];i&&i._details&&(i._details.remove(),i._detailsShow=r,i._details=r)}},we=function(t,e){var n=t.context;if(n.length&&t.length){var r=n[0].aoData[t[0]];r._details&&(r._detailsShow=e,e?r._details.insertAfter(r.nTr):r._details.detach(),Te(n[0]))}},Te=function(t){var e=new a(t),n=t.aoData;e.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),_(n,"_details").length>0&&(e.on("draw.dt.DT_details",function(r,i){t===i&&e.rows({page:"current"}).eq(0).each(function(t){var e=n[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),e.on("column-visibility.dt.DT_details",function(e,r,i,a){if(t===r)for(var o,s=M(r),l=0,u=n.length;l<u;l++)(o=n[l])._details&&o._details.children("td[colspan]").attr("colspan",s)}),e.on("destroy.dt.DT_details",function(r,i){if(t===i)for(var a=0,o=n.length;a<o;a++)n[a]._details&&Ce(e,a)}))};o("row().child()",function(e,n){var i=this.context;return e===r?i.length&&this.length?i[0].aoData[this[0]]._details:r:(!0===e?this.child.show():!1===e?Ce(this):i.length&&this.length&&function(e,n,r,i){var a=[],o=function(n,r){if(t.isArray(n)||n instanceof t)for(var i=0,s=n.length;i<s;i++)o(n[i],r);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())a.push(n);else{var l=t("<tr><td/></tr>").addClass(r);t("td",l).addClass(r).html(n)[0].colSpan=M(e),a.push(l[0])}};o(r,i),n._details&&n._details.detach(),n._details=t(a),n._detailsShow&&n._details.insertAfter(n.nTr)}(i[0],i[0].aoData[this[0]],e,n),this)}),o(["row().child.show()","row().child().show()"],function(t){return we(this,!0),this}),o(["row().child.hide()","row().child().hide()"],function(){return we(this,!1),this}),o(["row().child.remove()","row().child().remove()"],function(){return Ce(this),this}),o("row().child.isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1});var xe=/^([^:]+):(name|visIdx|visible)$/,De=function(t,e,n,r,i){for(var a=[],o=0,s=i.length;o<s;o++)a.push(G(t,i[o],e));return a};o("columns()",function(e,n){e===r?e="":t.isPlainObject(e)&&(n=e,e=""),n=ye(n);var i=this.iterator("table",function(r){return function(e,n,r){var i=e.aoColumns,a=_(i,"sName"),o=_(i,"nTh");return be("column",n,function(n){var s=v(n);if(""===n)return C(i.length);if(null!==s)return[s>=0?s:i.length+s];if("function"==typeof n){var l=Se(e,r);return t.map(i,function(t,r){return n(r,De(e,r,0,0,l),o[r])?r:null})}var u="string"==typeof n?n.match(xe):"";if(u)switch(u[2]){case"visIdx":case"visible":var h=parseInt(u[1],10);if(h<0){var c=t.map(i,function(t,e){return t.bVisible?e:null});return[c[c.length+h]]}return[j(e,h)];case"name":return t.map(a,function(t,e){return t===u[1]?e:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var d=t(o).filter(n).map(function(){return t.inArray(this,o)}).toArray();if(d.length||!n.nodeName)return d;var f=t(n).closest("*[data-dt-column]");return f.length?[f.data("dt-column")]:[]},e,r)}(r,e,n)},1);return i.selector.cols=e,i.selector.opts=n,i}),s("columns().header()","column().header()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),s("columns().footer()","column().footer()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),s("columns().data()","column().data()",function(){return this.iterator("column-rows",De,1)}),s("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),s("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,r,i,a){return S(e.aoData,a,"search"===t?"_aFilterData":"_aSortData",n)},1)}),s("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,r,i){return S(t.aoData,i,"anCells",e)},1)}),s("columns().visible()","column().visible()",function(e,n){var i=this.iterator("column",function(n,i){if(e===r)return n.aoColumns[i].bVisible;!function(e,n,i){var a,o,s,l,u=e.aoColumns,h=u[n],c=e.aoData;if(i===r)return h.bVisible;if(h.bVisible!==i){if(i){var d=t.inArray(!0,_(u,"bVisible"),n+1);for(o=0,s=c.length;o<s;o++)a=c[o].anCells,(l=c[o].nTr)&&l.insertBefore(a[n],a[d]||null)}else t(_(e.aoData,"anCells",n)).detach();h.bVisible=i,ot(e,e.aoHeader),ot(e,e.aoFooter),e.aiDisplay.length||t(e.nTBody).find("td[colspan]").attr("colspan",M(e)),re(e)}}(n,i,e)});return e!==r&&(this.iterator("column",function(t,r){ce(t,null,"column-visibility",[t,r,e,n])}),(n===r||n)&&this.columns.adjust()),i}),s("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?B(e,n):n},1)}),o("columns.adjust()",function(){return this.iterator("table",function(t){F(t)},1)}),o("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return j(n,e);if("fromData"===t||"toVisible"===t)return B(n,e)}}),o("column()",function(t,e){return _e(this.columns(t,e))}),o("cells()",function(e,n,i){if(t.isPlainObject(e)&&(e.row===r?(i=e,e=null):(i=n,n=null)),t.isPlainObject(n)&&(i=n,n=null),null===n||n===r)return this.iterator("table",function(n){return function(e,n,i){var a,o,s,l,u,h,c,d=e.aoData,f=Se(e,i),g=w(S(d,f,"anCells")),p=t([].concat.apply([],g)),v=e.aoColumns.length;return be("cell",n,function(n){var i="function"==typeof n;if(null===n||n===r||i){for(o=[],s=0,l=f.length;s<l;s++)for(a=f[s],u=0;u<v;u++)h={row:a,column:u},i?(c=d[a],n(h,G(e,a,u),c.anCells?c.anCells[u]:null)&&o.push(h)):o.push(h);return o}if(t.isPlainObject(n))return n.column!==r&&n.row!==r&&-1!==t.inArray(n.row,f)?[n]:[];var g=p.filter(n).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray();return g.length||!n.nodeName?g:(c=t(n).closest("*[data-dt-row]")).length?[{row:c.data("dt-row"),column:c.data("dt-column")}]:[]},e,i)}(n,e,ye(i))});var a,o,s,l,u,h=this.columns(n),c=this.rows(e);this.iterator("table",function(t,e){for(a=[],o=0,s=c[e].length;o<s;o++)for(l=0,u=h[e].length;l<u;l++)a.push({row:c[e][o],column:h[e][l]})},1);var d=this.cells(a,i);return t.extend(d.selector,{cols:n,rows:e,opts:i}),d}),s("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){var i=t.aoData[e];return i&&i.anCells?i.anCells[n]:r},1)}),o("cells().data()",function(){return this.iterator("cell",function(t,e,n){return G(t,e,n)},1)}),s("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,r){return e.aoData[n][t][r]},1)}),s("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,r){return G(e,n,r,t)},1)}),s("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:B(t,n)}},1)}),s("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,r){et(e,n,t,r)})}),o("cell()",function(t,e,n){return _e(this.cells(t,e,n))}),o("cell().data()",function(t){var e=this.context,n=this[0];return t===r?e.length&&n.length?G(e[0],n[0].row,n[0].column):r:(z(e[0],n[0].row,n[0].column,t),et(e[0],n[0].row,"data",n[0].column),this)}),o("order()",function(e,n){var i=this.context;return e===r?0!==i.length?i[0].aaSorting:r:("number"==typeof e?e=[[e,n]]:e.length&&!t.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),o("order.listener()",function(t,e,n){return this.iterator("table",function(r){te(r,t,e,n)})}),o("order.fixed()",function(e){if(!e){var n=this.context,i=n.length?n[0].aaSortingFixed:r;return t.isArray(i)?{pre:i}:i}return this.iterator("table",function(n){n.aaSortingFixed=t.extend(!0,{},e)})}),o(["columns().order()","column().order()"],function(e){var n=this;return this.iterator("table",function(r,i){var a=[];t.each(n[i],function(t,n){a.push([n,e])}),r.aaSorting=a})}),o("search()",function(e,n,i,a){var o=this.context;return e===r?0!==o.length?o[0].oPreviousSearch.sSearch:r:this.iterator("table",function(r){r.oFeatures.bFilter&&bt(r,t.extend({},r.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===a||a}),1)})}),s("columns().search()","column().search()",function(e,n,i,a){return this.iterator("column",function(o,s){var l=o.aoPreSearchCols;if(e===r)return l[s].sSearch;o.oFeatures.bFilter&&(t.extend(l[s],{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===a||a}),bt(o,o.oPreviousSearch,1))})}),o("state()",function(){return this.context.length?this.context[0].oSavedState:null}),o("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),o("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),o("state.save()",function(){return this.iterator("table",function(t){re(t)})}),l.versionCheck=l.fnVersionCheck=function(t){for(var e,n,r=l.version.split("."),i=t.split("."),a=0,o=i.length;a<o;a++)if((e=parseInt(r[a],10)||0)!==(n=parseInt(i[a],10)||0))return e>n;return!0},l.isDataTable=l.fnIsDataTable=function(e){var n=t(e).get(0),r=!1;return e instanceof l.Api||(t.each(l.settings,function(e,i){var a=i.nScrollHead?t("table",i.nScrollHead)[0]:null,o=i.nScrollFoot?t("table",i.nScrollFoot)[0]:null;i.nTable!==n&&a!==n&&o!==n||(r=!0)}),r)},l.tables=l.fnTables=function(e){var n=!1;t.isPlainObject(e)&&(n=e.api,e=e.visible);var r=t.map(l.settings,function(n){if(!e||e&&t(n.nTable).is(":visible"))return n.nTable});return n?new a(r):r},l.camelToHungarian=A,o("$()",function(e,n){var r=this.rows(n).nodes(),i=t(r);return t([].concat(i.filter(e).toArray(),i.find(e).toArray()))}),t.each(["on","one","off"],function(e,n){o(n+"()",function(){var e=Array.prototype.slice.call(arguments);e[0]=t.map(e[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" ");var r=t(this.tables().nodes());return r[n].apply(r,e),this})}),o("clear()",function(){return this.iterator("table",function(t){Z(t)})}),o("settings()",function(){return new a(this.context,this.context)}),o("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),o("data()",function(){return this.iterator("table",function(t){return _(t.aoData,"_aData")}).flatten()}),o("destroy()",function(n){return n=n||!1,this.iterator("table",function(r){var i,o=r.nTableWrapper.parentNode,s=r.oClasses,u=r.nTable,h=r.nTBody,c=r.nTHead,d=r.nTFoot,f=t(u),g=t(h),p=t(r.nTableWrapper),v=t.map(r.aoData,function(t){return t.nTr});r.bDestroying=!0,ce(r,"aoDestroyCallback","destroy",[r]),n||new a(r).columns().visible(!0),p.off(".DT").find(":not(tbody *)").off(".DT"),t(e).off(".DT-"+r.sInstance),u!=c.parentNode&&(f.children("thead").detach(),f.append(c)),d&&u!=d.parentNode&&(f.children("tfoot").detach(),f.append(d)),r.aaSorting=[],r.aaSortingFixed=[],ee(r),t(v).removeClass(r.asStripeClasses.join(" ")),t("th, td",c).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),g.children().detach(),g.append(v);var m=n?"remove":"detach";f[m](),p[m](),!n&&o&&(o.insertBefore(u,r.nTableReinsertBefore),f.css("width",r.sDestroyWidth).removeClass(s.sTable),(i=r.asDestroyStripes.length)&&g.children().each(function(e){t(this).addClass(r.asDestroyStripes[e%i])}));var b=t.inArray(r,l.settings);-1!==b&&l.settings.splice(b,1)})}),t.each(["column","row","cell"],function(t,e){o(e+"s().every()",function(t){var n=this.selector.opts,i=this;return this.iterator(e,function(a,o,s,l,u){t.call(i[e](o,"cell"===e?s:n,"cell"===e?n:r),o,s,l,u)})})}),o("i18n()",function(e,n,i){var a=this.context[0],o=Y(e)(a.oLanguage);return o===r&&(o=n),i!==r&&t.isPlainObject(o)&&(o=o[i]!==r?o[i]:o._),o.replace("%d",i)}),l.version="1.10.19",l.settings=[],l.models={},l.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},l.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},l.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},l.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},l.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},D(l.defaults),l.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},D(l.defaults.column),l.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:r,oAjaxData:r,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ge(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ge(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,r=this.aiDisplay.length,i=this.oFeatures,a=i.bPaginate;return i.bServerSide?!1===a||-1===t?e+r:Math.min(e+t,this._iRecordsDisplay):!a||n>r||-1===t?r:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},l.ext=i={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:l.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:l.version},t.extend(i,{afnFiltering:i.search,aTypes:i.type.detect,ofnSearch:i.type.search,oSort:i.type.order,afnSortData:i.order,aoFeatures:i.feature,oApi:i.internal,oStdClasses:i.classes,oPagination:i.pager}),t.extend(l.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ae=l.ext.pager;function Ie(t,e){var n=[],r=Ae.numbers_length,i=Math.floor(r/2);return e<=r?n=C(0,e):t<=i?((n=C(0,r-2)).push("ellipsis"),n.push(e-1)):t>=e-1-i?((n=C(e-(r-2),e)).splice(0,0,"ellipsis"),n.splice(0,0,0)):((n=C(t-i+2,t+i-1)).push("ellipsis"),n.push(e-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}t.extend(Ae,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Ie(t,e)]},simple_numbers:function(t,e){return["previous",Ie(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Ie(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Ie(t,e),"last"]},_numbers:Ie,numbers_length:7}),t.extend(!0,l.ext.renderer,{pageButton:{_:function(e,i,a,o,s,l){var u,h,c,d=e.oClasses,f=e.oLanguage.oPaginate,g=e.oLanguage.oAria.paginate||{},p=0,v=function(n,r){var i,o,c,m=function(t){jt(e,t.data.action,!0)};for(i=0,o=r.length;i<o;i++)if(t.isArray(c=r[i])){var b=t("<"+(c.DT_el||"div")+"/>").appendTo(n);v(b,c)}else{switch(u=null,h="",c){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":u=f.sFirst,h=c+(s>0?"":" "+d.sPageButtonDisabled);break;case"previous":u=f.sPrevious,h=c+(s>0?"":" "+d.sPageButtonDisabled);break;case"next":u=f.sNext,h=c+(s<l-1?"":" "+d.sPageButtonDisabled);break;case"last":u=f.sLast,h=c+(s<l-1?"":" "+d.sPageButtonDisabled);break;default:u=c+1,h=s===c?d.sPageButtonActive:""}null!==u&&(ue(t("<a>",{class:d.sPageButton+" "+h,"aria-controls":e.sTableId,"aria-label":g[c],"data-dt-idx":p,tabindex:e.iTabIndex,id:0===a&&"string"==typeof c?e.sTableId+"_"+c:null}).html(u).appendTo(n),{action:c},m),p++)}};try{c=t(i).find(n.activeElement).data("dt-idx")}catch(t){}v(t(i).empty(),o),c!==r&&t(i).find("[data-dt-idx="+c+"]").focus()}}}),t.extend(l.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return b(t,n)?"num"+n:null},function(t,e){if(t&&!(t instanceof Date)&&!d.test(t))return null;var n=Date.parse(t);return null!==n&&!isNaN(n)||p(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return b(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return y(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return y(t,n,!0)?"html-num-fmt"+n:null},function(t,e){return p(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(l.ext.type.search,{html:function(t){return p(t)?t:"string"==typeof t?t.replace(h," ").replace(c,""):""},string:function(t){return p(t)?t:"string"==typeof t?t.replace(h," "):t}});var ke=function(t,e,n,r){return 0===t||t&&"-"!==t?(e&&(t=m(t,e)),t.replace&&(n&&(t=t.replace(n,"")),r&&(t=t.replace(r,""))),1*t):-1/0};function Ee(e){t.each({num:function(t){return ke(t,e)},"num-fmt":function(t){return ke(t,e,g)},"html-num":function(t){return ke(t,e,c)},"html-num-fmt":function(t){return ke(t,e,c,g)}},function(t,n){i.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(i.type.search[t+e]=i.type.search.html)})}t.extend(i.type.order,{"date-pre":function(t){var e=Date.parse(t);return isNaN(e)?-1/0:e},"html-pre":function(t){return p(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return p(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Ee(""),t.extend(!0,l.ext.renderer,{header:{_:function(e,n,r,i){t(e.nTable).on("order.dt.DT",function(t,a,o,s){if(e===a){var l=r.idx;n.removeClass(r.sSortingClass+" "+i.sSortAsc+" "+i.sSortDesc).addClass("asc"==s[l]?i.sSortAsc:"desc"==s[l]?i.sSortDesc:r.sSortingClass)}})},jqueryui:function(e,n,r,i){t("<div/>").addClass(i.sSortJUIWrapper).append(n.contents()).append(t("<span/>").addClass(i.sSortIcon+" "+r.sSortingClassJUI)).appendTo(n),t(e.nTable).on("order.dt.DT",function(t,a,o,s){if(e===a){var l=r.idx;n.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass("asc"==s[l]?i.sSortAsc:"desc"==s[l]?i.sSortDesc:r.sSortingClass),n.find("span."+i.sSortIcon).removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed).addClass("asc"==s[l]?i.sSortJUIAsc:"desc"==s[l]?i.sSortJUIDesc:r.sSortingClassJUI)}})}}});var Re=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};function Ne(t){return function(){var e=[ae(this[l.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return l.ext.internal[t].apply(this,e)}}return l.render={number:function(t,e,n,r,i){return{display:function(a){if("number"!=typeof a&&"string"!=typeof a)return a;var o=a<0?"-":"",s=parseFloat(a);if(isNaN(s))return Re(a);s=s.toFixed(n),a=Math.abs(s);var l=parseInt(a,10),u=n?e+(a-l).toFixed(n).substring(2):"";return o+(r||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+u+(i||"")}}},text:function(){return{display:Re,filter:Re}}},t.extend(l.ext.internal,{_fnExternApiFunc:Ne,_fnBuildAjax:dt,_fnAjaxUpdate:ft,_fnAjaxParameters:gt,_fnAjaxUpdateDraw:pt,_fnAjaxDataSrc:vt,_fnAddColumn:L,_fnColumnOptions:O,_fnAdjustColumnSizing:F,_fnVisibleToColumnIndex:j,_fnColumnIndexToVisible:B,_fnVisbleColumns:M,_fnGetColumns:H,_fnColumnTypes:W,_fnApplyColumnDefs:$,_fnHungarianMap:D,_fnCamelToHungarian:A,_fnLanguageCompat:I,_fnBrowserDetect:N,_fnAddData:V,_fnAddTr:U,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==r?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,n,r){return t.inArray(r,e.aoData[n].anCells)},_fnGetCellData:G,_fnSetCellData:z,_fnSplitObjNotation:X,_fnGetObjectDataFn:Y,_fnSetObjectDataFn:K,_fnGetDataMaster:J,_fnClearTable:Z,_fnDeleteIndex:tt,_fnInvalidate:et,_fnGetRowElements:nt,_fnCreateTr:rt,_fnBuildHead:at,_fnDrawHead:ot,_fnDraw:st,_fnReDraw:lt,_fnAddOptionsHtml:ut,_fnDetectHeader:ht,_fnGetUniqueThs:ct,_fnFeatureHtmlFilter:mt,_fnFilterComplete:bt,_fnFilterCustom:yt,_fnFilterColumn:_t,_fnFilter:St,_fnFilterCreateSearch:Ct,_fnEscapeRegex:wt,_fnFilterData:Dt,_fnFeatureHtmlInfo:kt,_fnUpdateInfo:Et,_fnInfoMacros:Rt,_fnInitialise:Nt,_fnInitComplete:Pt,_fnLengthChange:Lt,_fnFeatureHtmlLength:Ot,_fnFeatureHtmlPaginate:Ft,_fnPageChange:jt,_fnFeatureHtmlProcessing:Bt,_fnProcessingDisplay:Mt,_fnFeatureHtmlTable:Ht,_fnScrollDraw:Wt,_fnApplyToChildren:$t,_fnCalculateColumnWidths:Ut,_fnThrottle:Gt,_fnConvertToWidth:zt,_fnGetWidestNode:Qt,_fnGetMaxLenString:qt,_fnStringToCss:Xt,_fnSortFlatten:Yt,_fnSort:Kt,_fnSortAria:Jt,_fnSortListener:Zt,_fnSortAttachListener:te,_fnSortingClasses:ee,_fnSortData:ne,_fnSaveState:re,_fnLoadState:ie,_fnSettingsFromNode:ae,_fnLog:oe,_fnMap:se,_fnBindAction:ue,_fnCallbackReg:he,_fnCallbackFire:ce,_fnLengthOverflow:de,_fnRenderer:fe,_fnDataSource:ge,_fnRowAttributes:it,_fnExtend:le,_fnCalculateEnd:function(){}}),t.fn.dataTable=l,l.$=t,t.fn.dataTableSettings=l.settings,t.fn.dataTableExt=l.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(l,function(e,n){t.fn.DataTable[e]=n}),t.fn.dataTable}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n&&n.fn.dataTable||(n=require("datatables.net")(e,n).$),t(n,0,e.document)}:t(jQuery,window,document)}(function(t,e,n,r){var i=t.fn.dataTable;return t.extend(!0,i.defaults,{dom:"<'mdl-grid'<'mdl-cell mdl-cell--6-col'l><'mdl-cell mdl-cell--6-col'f>><'mdl-grid dt-table'<'mdl-cell mdl-cell--12-col'tr>><'mdl-grid'<'mdl-cell mdl-cell--4-col'i><'mdl-cell mdl-cell--8-col'p>>",renderer:"material"}),t.extend(i.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-material",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),i.ext.renderer.pageButton.material=function(e,a,o,s,l,u){var h,c,d,f=new i.Api(e),g=e.oLanguage.oPaginate,p=e.oLanguage.oAria.paginate||{},v=0,m=function(n,r){var i,a,s,d,b=function(e){e.preventDefault(),!t(e.currentTarget).hasClass("disabled")&&f.page()!=e.data.action&&f.page(e.data.action).draw("page")};for(i=0,a=r.length;i<a;i++)if(t.isArray(d=r[i]))m(n,d);else{switch(h="",s=!1,d){case"ellipsis":h="&#x2026;",c="disabled";break;case"first":h=g.sFirst,c=d+(0<l?"":" disabled");break;case"previous":h=g.sPrevious,c=d+(0<l?"":" disabled");break;case"next":h=g.sNext,c=d+(l<u-1?"":" disabled");break;case"last":h=g.sLast,c=d+(l<u-1?"":" disabled");break;default:h=d+1,c="",s=l===d}s&&(c+=" mdl-button--raised mdl-button--colored"),h&&(s=t("<button>",{class:"mdl-button "+c,id:0===o&&"string"==typeof d?e.sTableId+"_"+d:null,"aria-controls":e.sTableId,"aria-label":p[d],"data-dt-idx":v,tabindex:e.iTabIndex,disabled:-1!==c.indexOf("disabled")}).html(h).appendTo(n),e.oApi._fnBindAction(s,{action:d},b),v++)}};try{d=t(a).find(n.activeElement).data("dt-idx")}catch(t){}m(t(a).empty().html('<div class="pagination"/>').children(),s),d!==r&&t(a).find("[data-dt-idx="+d+"]").focus()},i}),function t(e,n,r){function i(o,s){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[o]={exports:{}};e[o][0].call(h.exports,function(t){return i(e[o][1][t]||t)},h,h.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e){"use strict";var n=Math.min,r=Math.max,i=t("./src/Drawer"),a=t("./src/Parser"),o=!("undefined"==typeof window||!window.document||!window.document.createElement),s={Version:"1.0.0"};s.Drawer=i,s.Parser=a,s.clean=function(t){return t.replace(/[^A-Za-z0-9@\.\+\-\?!\(\)\[\]\{\}/\\=#\$:\*]/g,"")},s.apply=function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"canvas[data-smiles]",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"light",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,a=new i(t),o=document.querySelectorAll(e),l=function(){var t=o[u];s.parse(t.getAttribute("data-smiles"),function(e){a.draw(e,t,n,!1)},function(t){r&&r(t)})},u=0;u<o.length;u++)l()},s.parse=function(t,e,n){try{e&&e(a.parse(t))}catch(t){n&&n(t)}},o&&(window.SmilesDrawer=s),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),i=e.length>>>0,a=arguments[1]>>0,o=0>a?r(i+a,0):n(a,i),s=arguments[2],l=void 0===s?i:s>>0,u=0>l?r(i+l,0):n(l,i);o<u;)e[o]=t,o++;return e}}),e.exports=s},{"./src/Drawer":5,"./src/Parser":10}],2:[function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"clone",value:function(e){var r=Array.isArray(e)?[]:{};for(var i in e){var a=e[i];r[i]="function"==typeof a.clone?a.clone():"object"===(void 0===a?"undefined":n(a))?t.clone(a):a}return r}},{key:"equals",value:function(t,e){if(t.length!==e.length)return!1;for(var n=t.slice().sort(),r=e.slice().sort(),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}},{key:"print",value:function(t){if(0==t.length)return"";for(var e="(",n=0;n<t.length;n++)e+=t[n].id?t[n].id+", ":t[n]+", ";return(e=e.substring(0,e.length-2))+")"}},{key:"each",value:function(t,e){for(var n=0;n<t.length;n++)e(t[n])}},{key:"get",value:function(t,e,n){for(var r=0;r<t.length;r++)if(t[r][e]==n)return t[r]}},{key:"contains",value:function(t,e){if(e.property||e.func){if(e.func){for(var n=0;n<t.length;n++)if(e.func(t[n]))return!0}else for(var r=0;r<t.length;r++)if(t[r][e.property]==e.value)return!0}else for(var i=0;i<t.length;i++)if(t[i]==e.value)return!0;return!1}},{key:"intersection",value:function(t,e){for(var n=[],r=0;r<t.length;r++)for(var i=0;i<e.length;i++)t[r]===e[i]&&n.push(t[r]);return n}},{key:"unique",value:function(t){var e={};return t.filter(function(t){return void 0===e[t]&&(e[t]=!0)})}},{key:"count",value:function(t,e){for(var n=0,r=0;r<t.length;r++)t[r]===e&&n++;return n}},{key:"toggle",value:function(t,e){for(var n=[],r=!1,i=0;i<t.length;i++)t[i]===e?r=!0:n.push(t[i]);return r||n.push(e),n}},{key:"remove",value:function(t,e){for(var n=[],r=0;r<t.length;r++)t[r]!==e&&n.push(t[r]);return n}},{key:"removeUnique",value:function(t,e){var n=t.indexOf(e);return-1<n&&t.splice(n,1),t}},{key:"removeAll",value:function(t,e){return t.filter(function(t){return-1===e.indexOf(t)})}},{key:"merge",value:function(t,e){for(var n=Array(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];for(var i=0;i<e.length;i++)n[t.length+i]=e[i];return n}},{key:"containsAll",value:function(t,e){for(var n=0,r=0;r<t.length;r++)for(var i=0;i<e.length;i++)t[r]===e[i]&&n++;return n===e.length}},{key:"sortByAtomicNumberDesc",value:function(t){var e=t.map(function(t,e){return{index:e,value:t.atomicNumber.split(".").map(Number)}});return e.sort(function(t,e){for(var n=Math.min(e.value.length,t.value.length),r=0;r<n&&e.value[r]===t.value[r];)r++;return r===n?e.value.length-t.value.length:e.value[r]-t.value[r]}),e.map(function(e){return t[e.index]})}},{key:"deepCopy",value:function(e){for(var n,r=[],i=0;i<e.length;i++)r[i]=(n=e[i])instanceof Array?t.deepCopy(n):n;return r}}]),t}();e.exports=i},{}],3:[function(t,e){"use strict";var n=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=t("./ArrayHelper"),i=(t("./Vertex"),t("./Ring"),function(){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"-";(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.element=1===e.length?e.toUpperCase():e,this.drawExplicit=!1,this.ringbonds=[],this.rings=[],this.bondType=n,this.branchBond=null,this.isBridge=!1,this.isBridgeNode=!1,this.originalRings=[],this.bridgedRing=null,this.anchoredRings=[],this.bracket=null,this.plane=0,this.attachedPseudoElements={},this.hasAttachedPseudoElements=!1,this.isDrawn=!0,this.isConnectedToRing=!1,this.neighbouringElements=[],this.isPartOfAromaticRing=e!==this.element,this.bondCount=0,this.chirality="",this.isStereoCenter=!1,this.priority=0,this.mainChain=!1,this.hydrogenDirection="down",this.subtreeDepth=1,this.hasHydrogen=!1}return n(t,[{key:"addNeighbouringElement",value:function(t){this.neighbouringElements.push(t)}},{key:"attachPseudoElement",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;null===n&&(n=0),null===r&&(r=0);var i=n+t+r;this.attachedPseudoElements[i]?this.attachedPseudoElements[i].count+=1:this.attachedPseudoElements[i]={element:t,count:1,hydrogenCount:n,previousElement:e,charge:r},this.hasAttachedPseudoElements=!0}},{key:"getAttachedPseudoElements",value:function(){var t={},e=this;return Object.keys(this.attachedPseudoElements).sort().forEach(function(n){t[n]=e.attachedPseudoElements[n]}),t}},{key:"getAttachedPseudoElementsCount",value:function(){return Object.keys(this.attachedPseudoElements).length}},{key:"isHeteroAtom",value:function(){return"C"!==this.element&&"H"!==this.element}},{key:"addAnchoredRing",value:function(t){r.contains(this.anchoredRings,{value:t})||this.anchoredRings.push(t)}},{key:"getRingbondCount",value:function(){return this.ringbonds.length}},{key:"backupRings",value:function(){this.originalRings=Array(this.rings.length);for(var t=0;t<this.rings.length;t++)this.originalRings[t]=this.rings[t]}},{key:"restoreRings",value:function(){this.rings=Array(this.originalRings.length);for(var t=0;t<this.originalRings.length;t++)this.rings[t]=this.originalRings[t]}},{key:"haveCommonRingbond",value:function(t,e){for(var n=0;n<t.ringbonds.length;n++)for(var r=0;r<e.ringbonds.length;r++)if(t.ringbonds[n].id==e.ringbonds[r].id)return!0;return!1}},{key:"neighbouringElementsEqual",value:function(t){if(t.length!==this.neighbouringElements.length)return!1;t.sort(),this.neighbouringElements.sort();for(var e=0;e<this.neighbouringElements.length;e++)if(t[e]!==this.neighbouringElements[e])return!1;return!0}},{key:"getAtomicNumber",value:function(){return t.atomicNumbers[this.element]}},{key:"getMaxBonds",value:function(){return t.maxBonds[this.element]}}],[{key:"maxBonds",get:function(){return{H:1,C:4,N:3,O:2,P:3,S:2,B:3,F:1,I:1,Cl:1,Br:1}}},{key:"atomicNumbers",get:function(){return{H:1,He:2,Li:3,Be:4,B:5,b:5,C:6,c:6,N:7,n:7,O:8,o:8,F:9,Ne:10,Na:11,Mg:12,Al:13,Si:14,P:15,p:15,S:16,s:16,Cl:17,Ar:18,K:19,Ca:20,Sc:21,Ti:22,V:23,Cr:24,Mn:25,Fe:26,Co:27,Ni:28,Cu:29,Zn:30,Ga:31,Ge:32,As:33,Se:34,Br:35,Kr:36,Rb:37,Sr:38,Y:39,Zr:40,Nb:41,Mo:42,Tc:43,Ru:44,Rh:45,Pd:46,Ag:47,Cd:48,In:49,Sn:50,Sb:51,Te:52,I:53,Xe:54,Cs:55,Ba:56,La:57,Ce:58,Pr:59,Nd:60,Pm:61,Sm:62,Eu:63,Gd:64,Tb:65,Dy:66,Ho:67,Er:68,Tm:69,Yb:70,Lu:71,Hf:72,Ta:73,W:74,Re:75,Os:76,Ir:77,Pt:78,Au:79,Hg:80,Tl:81,Pb:82,Bi:83,Po:84,At:85,Rn:86,Fr:87,Ra:88,Ac:89,Th:90,Pa:91,U:92,Np:93,Pu:94,Am:95,Cm:96,Bk:97,Cf:98,Es:99,Fm:100,Md:101,No:102,Lr:103,Rf:104,Db:105,Sg:106,Bh:107,Hs:108,Mt:109,Ds:110,Rg:111,Cn:112,Uut:113,Uuq:114,Uup:115,Uuh:116,Uus:117,Uuo:118}}},{key:"mass",get:function(){return{H:1,He:2,Li:3,Be:4,B:5,b:5,C:6,c:6,N:7,n:7,O:8,o:8,F:9,Ne:10,Na:11,Mg:12,Al:13,Si:14,P:15,p:15,S:16,s:16,Cl:17,Ar:18,K:19,Ca:20,Sc:21,Ti:22,V:23,Cr:24,Mn:25,Fe:26,Co:27,Ni:28,Cu:29,Zn:30,Ga:31,Ge:32,As:33,Se:34,Br:35,Kr:36,Rb:37,Sr:38,Y:39,Zr:40,Nb:41,Mo:42,Tc:43,Ru:44,Rh:45,Pd:46,Ag:47,Cd:48,In:49,Sn:50,Sb:51,Te:52,I:53,Xe:54,Cs:55,Ba:56,La:57,Ce:58,Pr:59,Nd:60,Pm:61,Sm:62,Eu:63,Gd:64,Tb:65,Dy:66,Ho:67,Er:68,Tm:69,Yb:70,Lu:71,Hf:72,Ta:73,W:74,Re:75,Os:76,Ir:77,Pt:78,Au:79,Hg:80,Tl:81,Pb:82,Bi:83,Po:84,At:85,Rn:86,Fr:87,Ra:88,Ac:89,Th:90,Pa:91,U:92,Np:93,Pu:94,Am:95,Cm:96,Bk:97,Cf:98,Es:99,Fm:100,Md:101,No:102,Lr:103,Rf:104,Db:105,Sg:106,Bh:107,Hs:108,Mt:109,Ds:110,Rg:111,Cn:112,Uut:113,Uuq:114,Uup:115,Uuh:116,Uus:117,Uuo:118}}}]),t}());e.exports=i},{"./ArrayHelper":2,"./Ring":11,"./Vertex":15}],4:[function(t,e){"use strict";var n=Number.MAX_VALUE,r=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("./MathHelper"),a=t("./Vector2"),o=(t("./Line"),t("./Vertex"),t("./Ring"),function(){function t(e,n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.canvas="string"==typeof e||e instanceof String?document.getElementById(e):e,this.ctx=this.canvas.getContext("2d"),this.colors=n,this.opts=r,this.drawingWidth=0,this.drawingHeight=0,this.offsetX=0,this.offsetY=0,this.fontLarge=this.opts.fontSizeLarge+"pt Helvetica, Arial, sans-serif",this.fontSmall=this.opts.fontSizeSmall+"pt Helvetica, Arial, sans-serif",this.updateSize(this.opts.width,this.opts.height),this.ctx.font=this.fontLarge,this.hydrogenWidth=this.ctx.measureText("H").width,this.halfHydrogenWidth=this.hydrogenWidth/2,this.halfBondThickness=this.opts.bondThickness/2}return r(t,[{key:"updateSize",value:function(t,e){this.devicePixelRatio=window.devicePixelRatio||1,this.backingStoreRatio=this.ctx.webkitBackingStorePixelRatio||this.ctx.mozBackingStorePixelRatio||this.ctx.msBackingStorePixelRatio||this.ctx.oBackingStorePixelRatio||this.ctx.backingStorePixelRatio||1,this.ratio=this.devicePixelRatio/this.backingStoreRatio,1===this.ratio?(this.canvas.width=t*this.ratio,this.canvas.height=e*this.ratio):(this.canvas.width=t*this.ratio,this.canvas.height=e*this.ratio,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.ctx.setTransform(this.ratio,0,0,this.ratio,0,0))}},{key:"setTheme",value:function(t){this.colors=t}},{key:"scale",value:function(t){for(var e=-n,r=-n,i=n,a=n,o=0;o<t.length;o++)if(t[o].value.isDrawn){var s=t[o].position;e<s.x&&(e=s.x),r<s.y&&(r=s.y),i>s.x&&(i=s.x),a>s.y&&(a=s.y)}var l=this.opts.padding;r+=l,a-=l,this.drawingWidth=(e+=l)-(i-=l),this.drawingHeight=r-a;var u=this.canvas.offsetWidth/this.drawingWidth,h=this.canvas.offsetHeight/this.drawingHeight,c=u<h?u:h;this.ctx.scale(c,c),this.offsetX=-i,this.offsetY=-a,u<h?this.offsetY+=this.canvas.offsetHeight/(2*c)-this.drawingHeight/2:this.offsetX+=this.canvas.offsetWidth/(2*c)-this.drawingWidth/2}},{key:"reset",value:function(){this.ctx.setTransform(1,0,0,1,0,0)}},{key:"getColor",value:function(t){return(t=t.toUpperCase())in this.colors?this.colors[t]:this.colors.C}},{key:"drawCircle",value:function(t,e,n,r){var a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],o=5<arguments.length&&void 0!==arguments[5]&&arguments[5],s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:"",l=this.ctx,u=this.offsetX,h=this.offsetY;l.save(),l.lineWidth=1.5,l.beginPath(),l.arc(t+u,e+h,n,0,i.twoPI,!0),l.closePath(),o?(a?(l.fillStyle="#f00",l.fill()):(l.strokeStyle="#f00",l.stroke()),this.drawDebugText(t,e,s)):a?(l.fillStyle=r,l.fill()):(l.strokeStyle=r,l.stroke()),l.restore()}},{key:"drawLine",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=this.ctx,i=this.offsetX,a=this.offsetY,o=t.clone().shorten(4),s=o.getLeftVector().clone(),l=o.getRightVector().clone();s.x+=i,s.y+=a,l.x+=i,l.y+=a,e||(r.save(),r.globalCompositeOperation="destination-out",r.beginPath(),r.moveTo(s.x,s.y),r.lineTo(l.x,l.y),r.lineCap="round",r.lineWidth=this.opts.bondThickness+1.2,r.strokeStyle=this.getColor("BACKGROUND"),r.stroke(),r.globalCompositeOperation="source-over",r.restore()),s=t.getLeftVector().clone(),l=t.getRightVector().clone(),s.x+=i,s.y+=a,l.x+=i,l.y+=a,r.save(),r.beginPath(),r.moveTo(s.x,s.y),r.lineTo(l.x,l.y),r.lineCap="round",r.lineWidth=this.opts.bondThickness;var u=this.ctx.createLinearGradient(s.x,s.y,l.x,l.y);u.addColorStop(.4,this.getColor(t.getLeftElement())||this.getColor("C")),u.addColorStop(.6,this.getColor(t.getRightElement())||this.getColor("C")),e&&(r.setLineDash([1,1.5]),r.lineWidth=this.opts.bondThickness/1.5),1>n&&(r.globalAlpha=n),r.strokeStyle=u,r.stroke(),r.restore()}},{key:"drawWedge",value:function(t){if(!(isNaN(t.from.x)||isNaN(t.from.y)||isNaN(t.to.x)||isNaN(t.to.y))){var e=this.ctx,n=this.offsetX,r=this.offsetY,i=t.clone().shorten(5),o=i.getLeftVector().clone(),s=i.getRightVector().clone();o.x+=n,o.y+=r,s.x+=n,s.y+=r,o=t.getLeftVector().clone(),s=t.getRightVector().clone(),o.x+=n,o.y+=r,s.x+=n,s.y+=r,e.save();var l=a.normals(o,s);l[0].normalize(),l[1].normalize();var u=o,h=s;t.getRightChiral()&&(u=s,h=o);var c=a.add(u,a.multiplyScalar(l[0],this.halfBondThickness)),d=a.add(h,a.multiplyScalar(l[0],1.5+this.halfBondThickness)),f=a.add(h,a.multiplyScalar(l[1],1.5+this.halfBondThickness)),g=a.add(u,a.multiplyScalar(l[1],this.halfBondThickness));e.beginPath(),e.moveTo(c.x,c.y),e.lineTo(d.x,d.y),e.lineTo(f.x,f.y),e.lineTo(g.x,g.y);var p=this.ctx.createRadialGradient(s.x,s.y,this.opts.bondLength,s.x,s.y,0);p.addColorStop(.4,this.getColor(t.getLeftElement())||this.getColor("C")),p.addColorStop(.6,this.getColor(t.getRightElement())||this.getColor("C")),e.fillStyle=p,e.fill(),e.restore()}}},{key:"drawDashedWedge",value:function(t){if(!(isNaN(t.from.x)||isNaN(t.from.y)||isNaN(t.to.x)||isNaN(t.to.y))){var e=this.ctx,n=this.offsetX,r=this.offsetY,i=t.getLeftVector().clone(),o=t.getRightVector().clone();i.x+=n,i.y+=r,o.x+=n,o.y+=r,e.save();var s=a.normals(i,o);s[0].normalize(),s[1].normalize();var l,u,h,c,d=t.getRightChiral(),f=t.clone();d?(l=o,u=i,f.shortenRight(1),h=f.getRightVector().clone(),c=f.getLeftVector().clone()):(l=i,u=o,f.shortenLeft(1),h=f.getLeftVector().clone(),c=f.getRightVector().clone()),h.x+=n,h.y+=r,c.x+=n,c.y+=r;var g=a.subtract(u,l).normalize();e.strokeStyle=this.getColor("C"),e.lineCap="round",e.lineWidth=this.opts.bondThickness,e.beginPath();for(var p=t.getLength(),v=1.25/(p/(3*this.opts.bondThickness)),m=!1,b=0;1>b;b+=v){var y=a.multiplyScalar(g,b*p),_=a.add(l,y),S=a.multiplyScalar(s[0],1.5*b);!m&&.5<b&&(e.stroke(),e.beginPath(),e.strokeStyle=this.getColor(t.getRightElement())||this.getColor("C"),m=!0),_.subtract(S),e.moveTo(_.x,_.y),_.add(a.multiplyScalar(S,2)),e.lineTo(_.x,_.y)}e.stroke(),e.restore()}}},{key:"drawDebugText",value:function(t,e,n){var r=this.ctx;r.save(),r.font="5px Droid Sans, sans-serif",r.textAlign="start",r.textBaseline="top",r.fillStyle="#ff0000",r.fillText(n,t+this.offsetX,e+this.offsetY),r.restore()}},{key:"drawBall",value:function(t,e,n){var r=this.ctx;r.save(),r.beginPath(),r.arc(t+this.offsetX,e+this.offsetY,this.opts.bondLength/4.5,0,i.twoPI,!1),r.fillStyle=this.getColor(n),r.fill(),r.restore()}},{key:"drawPoint",value:function(t,e,n){var r=this.ctx,a=this.offsetX,o=this.offsetY;r.save(),r.globalCompositeOperation="destination-out",r.beginPath(),r.arc(t+a,e+o,1.5,0,i.twoPI,!0),r.closePath(),r.fill(),r.globalCompositeOperation="source-over",r.beginPath(),r.arc(t+this.offsetX,e+this.offsetY,.75,0,i.twoPI,!1),r.fillStyle=this.getColor(n),r.fill(),r.restore()}},{key:"drawText",value:function(t,e,n,r,a,o,s,l){var u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:{},h=this.ctx,c=this.offsetX,d=this.offsetY;h.save(),h.textAlign="start",h.textBaseline="alphabetic";var f="",g=0;s&&(f=this.getChargeText(s),h.font=this.fontSmall,g=h.measureText(f).width);var p="0",v=0;0<l&&(p=l.toString(),h.font=this.fontSmall,v=h.measureText(p).width),1===s&&"N"===n&&u.hasOwnProperty("0O")&&u.hasOwnProperty("0O-1")&&(u={"0O":{element:"O",count:2,hydrogenCount:0,previousElement:"C",charge:""}},s=0),h.font=this.fontLarge,h.fillStyle=this.getColor("BACKGROUND");var m=h.measureText(n);m.totalWidth=m.width+g,m.height=parseInt(this.fontLarge,10);var b=m.width>this.opts.fontSizeLarge?m.width:this.opts.fontSizeLarge;b/=1.5,h.globalCompositeOperation="destination-out",h.beginPath(),h.arc(t+c,e+d,b,0,i.twoPI,!0),h.closePath(),h.fill(),h.globalCompositeOperation="source-over";var y=-m.width/2,_=-m.width/2;h.fillStyle=this.getColor(n),h.fillText(n,t+c+y,e+this.opts.halfFontSizeLarge+d),y+=m.width,s&&(h.font=this.fontSmall,h.fillText(f,t+c+y,e-this.opts.fifthFontSizeSmall+d),y+=g),0<l&&(h.font=this.fontSmall,h.fillText(p,t+c+_-v,e-this.opts.fifthFontSizeSmall+d),_-=v),h.font=this.fontLarge;var S=0,C=0;if(1===r){var w=t+c,T=e+d+this.opts.halfFontSizeLarge;_-=S=this.hydrogenWidth,"left"===a?w+=_:"right"===a?w+=y:"up"===a&&o?w+=y:"down"===a&&o?w+=y:"up"!==a||o?"down"==a&&!o&&(T+=this.opts.fontSizeLarge+this.opts.quarterFontSizeLarge,w-=this.halfHydrogenWidth):(T-=this.opts.fontSizeLarge+this.opts.quarterFontSizeLarge,w-=this.halfHydrogenWidth),h.fillText("H",w,T),y+=S}else if(1<r){var x=t+c,D=e+d+this.opts.halfFontSizeLarge;S=this.hydrogenWidth,h.font=this.fontSmall,_-=S+(C=h.measureText(r).width),"left"===a?x+=_:"right"===a?x+=y:"up"===a&&o?x+=y:"down"===a&&o?x+=y:"up"!==a||o?"down"==a&&!o&&(D+=this.opts.fontSizeLarge+this.opts.quarterFontSizeLarge,x-=this.halfHydrogenWidth):(D-=this.opts.fontSizeLarge+this.opts.quarterFontSizeLarge,x-=this.halfHydrogenWidth),h.font=this.fontLarge,h.fillText("H",x,D),h.font=this.fontSmall,h.fillText(r,x+this.halfHydrogenWidth+C,D+this.opts.fifthFontSizeSmall),y+=S+this.halfHydrogenWidth+C}for(var A in u)if(u.hasOwnProperty(A)){var I=0,k=0,E=u[A].element,R=u[A].count,N=u[A].hydrogenCount,P=u[A].charge;h.font=this.fontLarge,1<R&&0<N&&(I=h.measureText("(").width,k=h.measureText(")").width);var L=h.measureText(E).width,O=0,F="",j=0;S=0,0<N&&(S=this.hydrogenWidth),h.font=this.fontSmall,1<R&&(O=h.measureText(R).width),0!==P&&(F=this.getChargeText(P),j=h.measureText(F).width),C=0,1<N&&(C=h.measureText(N).width),h.font=this.fontLarge;var B=t+c,M=e+d+this.opts.halfFontSizeLarge;h.fillStyle=this.getColor(E),0<R&&(_-=O),1<R&&0<N&&("left"===a?h.fillText(")",B+(_-=k),M):(h.fillText("(",B+y,M),y+=I)),"left"===a?h.fillText(E,B+(_-=L),M):(h.fillText(E,B+y,M),y+=L),0<N&&("left"===a?(h.fillText("H",B+(_-=S+C),M),1<N&&(h.font=this.fontSmall,h.fillText(N,B+_+S,M+this.opts.fifthFontSizeSmall))):(h.fillText("H",B+y,M),y+=S,1<N&&(h.font=this.fontSmall,h.fillText(N,B+y,M+this.opts.fifthFontSizeSmall),y+=C))),h.font=this.fontLarge,1<R&&0<N&&("left"===a?h.fillText("(",B+(_-=I),M):(h.fillText(")",B+y,M),y+=k)),h.font=this.fontSmall,1<R&&("left"===a?h.fillText(R,B+_+I+k+S+C+L,M+this.opts.fifthFontSizeSmall):(h.fillText(R,B+y,M+this.opts.fifthFontSizeSmall),y+=O)),0!==P&&("left"===a?h.fillText(F,B+_+I+k+S+C+L,e-this.opts.fifthFontSizeSmall+d):(h.fillText(F,B+y,e-this.opts.fifthFontSizeSmall+d),y+=j))}h.restore()}},{key:"getChargeText",value:function(t){return 1===t?"+":2===t?"2+":-1===t?"-":-2===t?"2-":""}},{key:"drawDebugPoint",value:function(t,e){this.drawCircle(t,e,2,3<arguments.length&&void 0!==arguments[3]?arguments[3]:"#f00",!0,!0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:"")}},{key:"drawAromaticityRing",value:function(t){var e=this.ctx,n=i.apothemFromSideLength(this.opts.bondLength,t.getSize());e.save(),e.strokeStyle=this.getColor("C"),e.lineWidth=this.opts.bondThickness,e.beginPath(),e.arc(t.center.x+this.offsetX,t.center.y+this.offsetY,n-this.opts.bondSpacing,0,2*Math.PI,!0),e.closePath(),e.stroke(),e.restore()}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.canvas.offsetWidth,this.canvas.offsetHeight)}}]),t}());e.exports=o},{"./Line":8,"./MathHelper":9,"./Ring":11,"./Vector2":14,"./Vertex":15}],5:[function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=Math.PI,i=Math.min,a=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("./MathHelper"),s=t("./ArrayHelper"),l=t("./Vector2"),u=t("./Line"),h=(t("./Vertex"),t("./Edge")),c=t("./Atom"),d=t("./Ring"),f=t("./RingConnection"),g=t("./CanvasWrapper"),p=t("./Graph"),v=t("./SSSR"),m=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.graph=null,this.doubleBondConfigCount=0,this.doubleBondConfig=null,this.ringIdCounter=0,this.ringConnectionIdCounter=0,this.canvasWrapper=null,this.totalOverlapScore=0,this.defaultOptions={width:500,height:500,bondThickness:.6,bondLength:15,shortBondLength:.85,bondSpacing:15*.18,atomVisualization:"default",isomeric:!0,debug:!1,terminalCarbons:!1,explicitHydrogens:!1,overlapSensitivity:.42,overlapResolutionIterations:1,compactDrawing:!0,fontSizeLarge:5,fontSizeSmall:3,padding:20,themes:{dark:{C:"#fff",O:"#e74c3c",N:"#3498db",F:"#27ae60",CL:"#16a085",BR:"#d35400",I:"#8e44ad",P:"#d35400",S:"#f1c40f",B:"#e67e22",SI:"#e67e22",H:"#fff",BACKGROUND:"#141414"},light:{C:"#222",O:"#e74c3c",N:"#3498db",F:"#27ae60",CL:"#16a085",BR:"#d35400",I:"#8e44ad",P:"#d35400",S:"#f1c40f",B:"#e67e22",SI:"#e67e22",H:"#222",BACKGROUND:"#fff"}}},this.opts=this.extend(!0,this.defaultOptions,e),this.opts.halfBondSpacing=this.opts.bondSpacing/2,this.opts.bondLengthSq=this.opts.bondLength*this.opts.bondLength,this.opts.halfFontSizeLarge=this.opts.fontSizeLarge/2,this.opts.quarterFontSizeLarge=this.opts.fontSizeLarge/4,this.opts.fifthFontSizeSmall=this.opts.fontSizeSmall/5,this.theme=this.opts.themes.dark}return a(t,[{key:"extend",value:function(){var t=this,e={},n=!1,r=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],r++);for(var a=function(r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=n&&"[object Object]"===Object.prototype.toString.call(r[i])?t.extend(!0,e[i],r[i]):r[i])};r<i;r++)a(arguments[r]);return e}},{key:"draw",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"light",r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(this.data=t,this.infoOnly=r,this.infoOnly||(this.canvasWrapper=new g(e,this.opts.themes[n],this.opts)),this.ringIdCounter=0,this.ringConnectionIdCounter=0,this.graph=new p(t,this.opts.isomeric),this.rings=[],this.ringConnections=[],this.originalRings=[],this.originalRingConnections=[],this.bridgedRing=!1,this.doubleBondConfigCount=null,this.doubleBondConfig=null,this.initRings(),this.initHydrogens(),!this.infoOnly){this.position(),this.restoreRingInformation(),this.resolvePrimaryOverlaps();var i=this.getOverlapScore();this.totalOverlapScore=this.getOverlapScore().total;for(var a=0;a<this.opts.overlapResolutionIterations;a++)for(var s,l=0;l<this.graph.edges.length;l++)if(this.isEdgeRotatable(s=this.graph.edges[l])){var u=this.graph.getTreeDepth(s.sourceId,s.targetId),h=this.graph.getTreeDepth(s.targetId,s.sourceId),c=s.targetId,d=s.sourceId;if(u>h&&(c=s.sourceId,d=s.targetId),this.getSubtreeOverlapScore(d,c,i.vertexScores).value>this.opts.overlapSensitivity){var f=this.graph.vertices[c],v=this.graph.vertices[d],m=v.getNeighbours(c);if(1===m.length){var b=this.graph.vertices[m[0]],y=b.position.getRotateAwayFromAngle(f.position,v.position,o.toRad(120));this.rotateSubtree(b.id,v.id,y,v.position);var _=this.getOverlapScore().total;_>this.totalOverlapScore?this.rotateSubtree(b.id,v.id,-y,v.position):this.totalOverlapScore=_}else if(2===m.length){if(0!==v.value.rings.length&&0!==f.value.rings.length)continue;var S=this.graph.vertices[m[0]],C=this.graph.vertices[m[1]];if(1===S.value.rings.length&&1===C.value.rings.length){if(S.value.rings[0]!==C.value.rings[0])continue}else{if(0!==S.value.rings.length||0!==C.value.rings.length)continue;var w=S.position.getRotateAwayFromAngle(f.position,v.position,o.toRad(120)),T=C.position.getRotateAwayFromAngle(f.position,v.position,o.toRad(120));this.rotateSubtree(S.id,v.id,w,v.position),this.rotateSubtree(C.id,v.id,T,v.position);var x=this.getOverlapScore().total;x>this.totalOverlapScore?(this.rotateSubtree(S.id,v.id,-w,v.position),this.rotateSubtree(C.id,v.id,-T,v.position)):this.totalOverlapScore=x}}i=this.getOverlapScore()}}this.resolveSecondaryOverlaps(i.scores),this.opts.isomeric&&this.annotateStereochemistry(),this.opts.compactDrawing&&"default"===this.opts.atomVisualization&&this.initPseudoElements(),this.rotateDrawing(),this.canvasWrapper.scale(this.graph.vertices),this.drawEdges(this.opts.debug),this.drawVertices(this.opts.debug),this.canvasWrapper.reset()}}},{key:"edgeRingCount",value:function(t){var e=this.graph.edges[t];return i(this.graph.vertices[e.sourceId].value.rings.length,this.graph.vertices[e.targetId].value.rings.length)}},{key:"getBridgedRings",value:function(){for(var t=[],e=0;e<this.rings.length;e++)this.rings[e].isBridged&&t.push(this.rings[e]);return t}},{key:"getFusedRings",value:function(){for(var t=[],e=0;e<this.rings.length;e++)this.rings[e].isFused&&t.push(this.rings[e]);return t}},{key:"getSpiros",value:function(){for(var t=[],e=0;e<this.rings.length;e++)this.rings[e].isSpiro&&t.push(this.rings[e]);return t}},{key:"printRingInfo",value:function(){for(var t,e="",n=0;n<this.rings.length;n++)e+=(t=this.rings[n]).id+";",e+=t.members.length+";",e+=t.neighbours.length+";",e+=t.isSpiro?"true;":"false;",e+=t.isFused?"true;":"false;",e+=t.isBridged?"true;":"false;",e+=t.rings.length+";",e+="\n";return e}},{key:"rotateDrawing",value:function(){for(var t,e=0,n=0,r=0,i=0;i<this.graph.vertices.length;i++)if((t=this.graph.vertices[i]).value.isDrawn)for(var a,o=i+1;o<this.graph.vertices.length;o++)if((a=this.graph.vertices[o]).value.isDrawn){var s=t.position.distanceSq(a.position);s>r&&(r=s,e=i,n=o)}var u=-l.subtract(this.graph.vertices[e].position,this.graph.vertices[n].position).angle();if(!isNaN(u)){var h=u%.523599;for(.2617995>h?u-=h:u+=.523599-h,i=0;i<this.graph.vertices.length;i++)i!==n&&this.graph.vertices[i].position.rotateAround(u,this.graph.vertices[n].position);for(i=0;i<this.rings.length;i++)this.rings[i].center.rotateAround(u,this.graph.vertices[n].position)}}},{key:"getTotalOverlapScore",value:function(){return this.totalOverlapScore}},{key:"getRingCount",value:function(){return this.rings.length}},{key:"hasBridgedRing",value:function(){return this.bridgedRing}},{key:"getHeavyAtomCount",value:function(){for(var t=0,e=0;e<this.graph.vertices.length;e++)"H"!==this.graph.vertices[e].value.element&&t++;return t}},{key:"getMolecularFormula",value:function(){for(var t,e="",n=new Map,r=0;r<this.graph.vertices.length;r++)if(n.has((t=this.graph.vertices[r].value).element)?n.set(t.element,n.get(t.element)+1):n.set(t.element,1),t.bracket&&!t.bracket.chirality&&(n.has("H")?n.set("H",n.get("H")+t.bracket.hcount):n.set("H",t.bracket.hcount)),!t.bracket){var i=c.maxBonds[t.element]-t.bondCount;t.isPartOfAromaticRing&&i--,n.has("H")?n.set("H",n.get("H")+i):n.set("H",i)}if(n.has("C")){var a=n.get("C");e+="C"+(1<a?a:""),n.delete("C")}if(n.has("H")){var o=n.get("H");e+="H"+(1<o?o:""),n.delete("H")}return Object.keys(c.atomicNumbers).sort().map(function(t){if(n.has(t)){var r=n.get(t);e+=t+(1<r?r:"")}}),e}},{key:"getRingbondType",value:function(t,e){if(1>t.value.getRingbondCount()||1>e.value.getRingbondCount())return null;for(var n=0;n<t.value.ringbonds.length;n++)for(var r=0;r<e.value.ringbonds.length;r++)if(t.value.ringbonds[n].id===e.value.ringbonds[r].id)return"-"===t.value.ringbonds[n].bondType?e.value.ringbonds[r].bond:t.value.ringbonds[n].bond;return null}},{key:"initRings",value:function(){for(var t,e=new Map,r=this.graph.vertices.length-1;0<=r;r--)if(0!==(t=this.graph.vertices[r]).value.ringbonds.length)for(var i=0;i<t.value.ringbonds.length;i++){var a=t.value.ringbonds[i].id,o=t.value.ringbonds[i].bond;if(e.has(a)){var s=t.id,l=e.get(a)[0],u=e.get(a)[1],c=new h(s,l,1);c.setBondType(u||o||"-");var g=this.graph.addEdge(c),p=this.graph.vertices[l];t.addRingbondChild(l,i),t.value.addNeighbouringElement(p.value.element),p.addRingbondChild(s,i),p.value.addNeighbouringElement(t.value.element),t.edges.push(g),p.edges.push(g),e.delete(a)}else e.set(a,[t.id,o])}var m=v.getRings(this.graph);if(null!==m){for(r=0;r<m.length;r++){var b=[].concat(n(m[r])),y=this.addRing(new d(b));for(i=0;i<b.length;i++)this.graph.vertices[b[i]].value.rings.push(y)}for(r=0;r<this.rings.length-1;r++)for(i=r+1;i<this.rings.length;i++){var _=new f(this.rings[r],this.rings[i]);0<_.vertices.size&&this.addRingConnection(_)}var S,C;for(r=0;r<this.rings.length;r++)(S=this.rings[r]).neighbours=f.getNeighbours(this.ringConnections,S.id);for(r=0;r<this.rings.length;r++)this.graph.vertices[(C=this.rings[r]).members[0]].value.addAnchoredRing(C.id);for(this.backupRingInformation();0<this.rings.length;){var w,T=-1;for(r=0;r<this.rings.length;r++)this.isPartOfBridgedRing((w=this.rings[r]).id)&&!w.isBridged&&(T=w.id);if(-1===T)break;var x=this.getRing(T),D=this.getBridgedRingRings(x.id);for(this.bridgedRing=!0,this.createBridgedRing(D,x.members[0]),r=0;r<D.length;r++)this.removeRing(D[r])}}}},{key:"initHydrogens",value:function(){if(!this.opts.explicitHydrogens)for(var t,e=0;e<this.graph.vertices.length;e++)if("H"===(t=this.graph.vertices[e]).value.element){var n=this.graph.vertices[t.neighbours[0]];n.value.hasHydrogen=!0,(!n.value.isStereoCenter||2>n.value.rings.length&&!n.value.bridgedRing||n.value.bridgedRing&&2>n.value.originalRings.length)&&(t.value.isDrawn=!1)}}},{key:"getBridgedRingRings",value:function(t){var e=[],n=this;return function t(r){var i=n.getRing(r);e.push(r);for(var a,o=0;o<i.neighbours.length;o++)-1===e.indexOf(a=i.neighbours[o])&&a!==r&&f.isBridge(n.ringConnections,n.graph.vertices,r,a)&&t(a)}(t),s.unique(e)}},{key:"isPartOfBridgedRing",value:function(t){for(var e=0;e<this.ringConnections.length;e++)if(this.ringConnections[e].containsRing(t)&&this.ringConnections[e].isBridge(this.graph.vertices))return!0;return!1}},{key:"createBridgedRing",value:function(t){for(var e,r=new Set,i=new Set,a=new Set,o=0;o<t.length;o++){(e=this.getRing(t[o])).isPartOfBridged=!0;for(var l=0;l<e.members.length;l++)i.add(e.members[l]);for(l=0;l<e.neighbours.length;l++)-1===t.indexOf(e.neighbours[l])&&a.add(e.neighbours[l])}var u,h=new Set,c=!0,f=!1;try{for(var g,p=i[Symbol.iterator]();!(c=(g=p.next()).done);c=!0){var v=this.graph.vertices[g.value],m=s.intersection(t,v.value.rings);1===v.value.rings.length||1===m.length?r.add(v.id):h.add(v.id)}}catch(t){f=!0,u=t}finally{try{!c&&p.return&&p.return()}finally{if(f)throw u}}var b,y=[],_=!0,S=!1;try{for(var C,w=h[Symbol.iterator]();!(_=(C=w.next()).done);_=!0){for(var T=this.graph.vertices[C.value],x=!1,D=0;D<T.edges.length;D++)1===this.edgeRingCount(T.edges[D])&&(x=!0);x?(T.value.isBridgeNode=!0,r.add(T.id)):(T.value.isBridge=!0,r.add(T.id))}}catch(t){S=!0,b=t}finally{try{!_&&w.return&&w.return()}finally{if(S)throw b}}var A=new d([].concat(n(r)));for(A.isBridged=!0,A.neighbours=[].concat(n(a)),o=0;o<t.length;o++)A.rings.push(this.getRing(t[o]).clone());for(this.addRing(A),o=0;o<A.members.length;o++)this.graph.vertices[A.members[o]].value.bridgedRing=A.id;for(o=0;o<y.length;o++)this.graph.vertices[y[o]].value.rings=[];var I,k=!0,E=!1;try{for(var R,N=r[Symbol.iterator]();!(k=(R=N.next()).done);k=!0){var P=this.graph.vertices[R.value];P.value.rings=s.removeAll(P.value.rings,t),P.value.rings.push(A.id)}}catch(t){E=!0,I=t}finally{try{!k&&N.return&&N.return()}finally{if(E)throw I}}for(o=0;o<t.length;o++)for(l=o+1;l<t.length;l++)this.removeRingConnectionsBetween(t[o],t[l]);var L,O=!0,F=!1;try{for(var j,B=a[Symbol.iterator]();!(O=(j=B.next()).done);O=!0){var M=j.value,H=this.getRingConnections(M,t);for(l=0;l<H.length;l++)this.getRingConnection(H[l]).updateOther(A.id,M);this.getRing(M).neighbours.push(A.id)}}catch(t){F=!0,L=t}finally{try{!O&&B.return&&B.return()}finally{if(F)throw L}}return A}},{key:"areVerticesInSameRing",value:function(t,e){for(var n=0;n<t.value.rings.length;n++)for(var r=0;r<e.value.rings.length;r++)if(t.value.rings[n]===e.value.rings[r])return!0;return!1}},{key:"getCommonRings",value:function(t,e){for(var n=[],r=0;r<t.value.rings.length;r++)for(var i=0;i<e.value.rings.length;i++)t.value.rings[r]==e.value.rings[i]&&n.push(t.value.rings[r]);return n}},{key:"getLargestOrAromaticCommonRing",value:function(t,e){for(var n=this.getCommonRings(t,e),r=0,i=null,a=0;a<n.length;a++){var o=this.getRing(n[a]),s=o.getSize();if(o.isBenzeneLike(this.graph.vertices))return o;s>r&&(r=s,i=o)}return i}},{key:"getVerticesAt",value:function(t,e,n){for(var r,i=[],a=0;a<this.graph.vertices.length;a++)(r=this.graph.vertices[a]).id!==n&&r.positioned&&t.distanceSq(r.position)<=e*e&&i.push(r.id);return i}},{key:"getClosestVertex",value:function(t){for(var e,n=99999,r=null,i=0;i<this.graph.vertices.length;i++)if((e=this.graph.vertices[i]).id!==t.id){var a=t.position.distanceSq(e.position);a<n&&(n=a,r=e)}return r}},{key:"addRing",value:function(t){return t.id=this.ringIdCounter++,this.rings.push(t),t.id}},{key:"removeRing",value:function(t){this.rings=this.rings.filter(function(e){return e.id!==t}),this.ringConnections=this.ringConnections.filter(function(e){return e.firstRingId!==t&&e.secondRingId!==t});for(var e,n=0;n<this.rings.length;n++)(e=this.rings[n]).neighbours=e.neighbours.filter(function(e){return e!==t})}},{key:"getRing",value:function(t){for(var e=0;e<this.rings.length;e++)if(this.rings[e].id==t)return this.rings[e]}},{key:"addRingConnection",value:function(t){return t.id=this.ringConnectionIdCounter++,this.ringConnections.push(t),t.id}},{key:"removeRingConnection",value:function(t){this.ringConnections=this.ringConnections.filter(function(e){return e.id!==t})}},{key:"removeRingConnectionsBetween",value:function(t,e){for(var n,r=[],i=0;i<this.ringConnections.length;i++)((n=this.ringConnections[i]).firstRingId===t&&n.secondRingId===e||n.firstRingId===e&&n.secondRingId===t)&&r.push(n.id);for(i=0;i<r.length;i++)this.removeRingConnection(r[i])}},{key:"getRingConnection",value:function(t){for(var e=0;e<this.ringConnections.length;e++)if(this.ringConnections[e].id==t)return this.ringConnections[e]}},{key:"getRingConnections",value:function(t,e){for(var n,r=[],i=0;i<this.ringConnections.length;i++){n=this.ringConnections[i];for(var a,o=0;o<e.length;o++)a=e[o],(n.firstRingId===t&&n.secondRingId===a||n.firstRingId===a&&n.secondRingId===t)&&r.push(n.id)}return r}},{key:"getOverlapScore",value:function(){for(var t=0,e=new Float32Array(this.graph.vertices.length),n=0;n<this.graph.vertices.length;n++)e[n]=0;var r;for(n=0;n<this.graph.vertices.length;n++)for(r=this.graph.vertices.length;--r>n;){var i=this.graph.vertices[n],a=this.graph.vertices[r];if(i.value.isDrawn&&a.value.isDrawn){var o=l.subtract(i.position,a.position).lengthSq();if(o<this.opts.bondLengthSq){var s=(this.opts.bondLength-Math.sqrt(o))/this.opts.bondLength;t+=s,e[n]+=s,e[r]+=s}}}var u=[];for(n=0;n<this.graph.vertices.length;n++)u.push({id:n,score:e[n]});return u.sort(function(t,e){return e.score-t.score}),{total:t,scores:u,vertexScores:e}}},{key:"chooseSide",value:function(t,e,n){for(var r=t.getNeighbours(e.id),i=e.getNeighbours(t.id),a=r.length,o=i.length,l=s.merge(r,i),u=[0,0],h=0;h<l.length;h++)this.graph.vertices[l[h]].position.sameSideAs(t.position,e.position,n[0])?u[0]++:u[1]++;var c=[0,0];for(h=0;h<this.graph.vertices.length;h++)this.graph.vertices[h].position.sameSideAs(t.position,e.position,n[0])?c[0]++:c[1]++;return{totalSideCount:c,totalPosition:c[0]>c[1]?0:1,sideCount:u,position:u[0]>u[1]?0:1,anCount:a,bnCount:o}}},{key:"setRingCenter",value:function(t){for(var e=t.getSize(),n=new l(0,0),r=0;r<e;r++)n.add(this.graph.vertices[t.members[r]].position);t.center=n.divide(e)}},{key:"getSubringCenter",value:function(t,e){for(var n=e.value.originalRings,r=t.center,i=Number.MAX_VALUE,a=0;a<n.length;a++)for(var o=0;o<t.rings.length;o++)n[a]===t.rings[o].id&&t.rings[o].getSize()<i&&(r=t.rings[o].center,i=t.rings[o].getSize());return r}},{key:"drawEdges",value:function(t){var e=this,n=Array(this.graph.edges.length);if(n.fill(!1),this.graph.traverseBF(0,function(r){for(var i,a=e.graph.getEdges(r.id),o=0;o<a.length;o++)n[i=a[o]]||(n[i]=!0,e.drawEdge(i,t))}),!this.bridgedRing)for(var r,i=0;i<this.rings.length;i++)this.isRingAromatic(r=this.rings[i])&&this.canvasWrapper.drawAromaticityRing(r)}},{key:"drawEdge",value:function(t,e){var n=this,r=this.graph.edges[t],i=this.graph.vertices[r.sourceId],a=this.graph.vertices[r.targetId],o=i.value.element,h=a.value.element;if(i.value.isDrawn&&a.value.isDrawn||"default"!==this.opts.atomVisualization){var c=i.position,d=a.position,f=this.getEdgeNormals(r),g=s.clone(f);if(g[0].multiplyScalar(10).add(c),g[1].multiplyScalar(10).add(c),"="===r.bondType||"="===this.getRingbondType(i,a)||r.isPartOfAromaticRing&&this.bridgedRing){var p=this.areVerticesInSameRing(i,a),v=this.chooseSide(i,a,g);if(p){var m,b=this.getLargestOrAromaticCommonRing(i,a).center;f[0].multiplyScalar(n.opts.bondSpacing),f[1].multiplyScalar(n.opts.bondSpacing),(m=b.sameSideAs(i.position,a.position,l.add(c,f[0]))?new u(l.add(c,f[0]),l.add(d,f[0]),o,h):new u(l.add(c,f[1]),l.add(d,f[1]),o,h)).shorten(this.opts.bondLength-this.opts.shortBondLength*this.opts.bondLength),r.isPartOfAromaticRing?this.canvasWrapper.drawLine(m,!0):this.canvasWrapper.drawLine(m),this.canvasWrapper.drawLine(new u(c,d,o,h))}else if(r.center||i.isTerminal()&&a.isTerminal()){f[0].multiplyScalar(n.opts.halfBondSpacing),f[1].multiplyScalar(n.opts.halfBondSpacing);var y=new u(l.add(c,f[0]),l.add(d,f[0]),o,h),_=new u(l.add(c,f[1]),l.add(d,f[1]),o,h);this.canvasWrapper.drawLine(y),this.canvasWrapper.drawLine(_)}else if(0==v.anCount&&1<v.bnCount||0==v.bnCount&&1<v.anCount){f[0].multiplyScalar(n.opts.halfBondSpacing),f[1].multiplyScalar(n.opts.halfBondSpacing);var S=new u(l.add(c,f[0]),l.add(d,f[0]),o,h),C=new u(l.add(c,f[1]),l.add(d,f[1]),o,h);this.canvasWrapper.drawLine(S),this.canvasWrapper.drawLine(C)}else if(v.sideCount[0]>v.sideCount[1]){f[0].multiplyScalar(n.opts.bondSpacing),f[1].multiplyScalar(n.opts.bondSpacing);var w=new u(l.add(c,f[0]),l.add(d,f[0]),o,h);w.shorten(this.opts.bondLength-this.opts.shortBondLength*this.opts.bondLength),this.canvasWrapper.drawLine(w),this.canvasWrapper.drawLine(new u(c,d,o,h))}else if(v.sideCount[0]<v.sideCount[1]){f[0].multiplyScalar(n.opts.bondSpacing),f[1].multiplyScalar(n.opts.bondSpacing);var T=new u(l.add(c,f[1]),l.add(d,f[1]),o,h);T.shorten(this.opts.bondLength-this.opts.shortBondLength*this.opts.bondLength),this.canvasWrapper.drawLine(T),this.canvasWrapper.drawLine(new u(c,d,o,h))}else if(v.totalSideCount[0]>v.totalSideCount[1]){f[0].multiplyScalar(n.opts.bondSpacing),f[1].multiplyScalar(n.opts.bondSpacing);var x=new u(l.add(c,f[0]),l.add(d,f[0]),o,h);x.shorten(this.opts.bondLength-this.opts.shortBondLength*this.opts.bondLength),this.canvasWrapper.drawLine(x),this.canvasWrapper.drawLine(new u(c,d,o,h))}else if(v.totalSideCount[0]<=v.totalSideCount[1]){f[0].multiplyScalar(n.opts.bondSpacing),f[1].multiplyScalar(n.opts.bondSpacing);var D=new u(l.add(c,f[1]),l.add(d,f[1]),o,h);D.shorten(this.opts.bondLength-this.opts.shortBondLength*this.opts.bondLength),this.canvasWrapper.drawLine(D),this.canvasWrapper.drawLine(new u(c,d,o,h))}}else if("#"===r.bondType){f[0].multiplyScalar(n.opts.bondSpacing/1.5),f[1].multiplyScalar(n.opts.bondSpacing/1.5);var A=new u(l.add(c,f[0]),l.add(d,f[0]),o,h),I=new u(l.add(c,f[1]),l.add(d,f[1]),o,h);this.canvasWrapper.drawLine(A),this.canvasWrapper.drawLine(I),this.canvasWrapper.drawLine(new u(c,d,o,h))}else if("."===r.bondType);else{var k=i.value.isStereoCenter,E=a.value.isStereoCenter;"up"===r.wedge?this.canvasWrapper.drawWedge(new u(c,d,o,h,k,E)):"down"===r.wedge?this.canvasWrapper.drawDashedWedge(new u(c,d,o,h,k,E)):this.canvasWrapper.drawLine(new u(c,d,o,h,k,E))}if(e){var R=l.midpoint(c,d);this.canvasWrapper.drawDebugText(R.x,R.y,"e: "+t)}}}},{key:"drawVertices",value:function(t){var e,n=this.graph.vertices.length;for(n=0;n<this.graph.vertices.length;n++){var i=this.graph.vertices[n],a=i.value,o=0,u=0,h=a.element,d=c.maxBonds[h]-i.value.bondCount,f=i.getTextDirection(this.graph.vertices),g=(this.opts.terminalCarbons||"C"!==h||a.hasAttachedPseudoElements)&&i.isTerminal(),p="C"===a.element;if("N"===a.element&&a.isPartOfAromaticRing&&(d=0),a.bracket&&(d=a.bracket.hcount,o=a.bracket.charge,u=a.bracket.isotope),"allballs"===this.opts.atomVisualization)this.canvasWrapper.drawBall(i.position.x,i.position.y,h);else if(a.isDrawn&&(!p||a.drawExplicit||g||a.hasAttachedPseudoElements)||1===this.graph.vertices.length)"default"===this.opts.atomVisualization?this.canvasWrapper.drawText(i.position.x,i.position.y,h,d,f,g,o,u,a.getAttachedPseudoElements()):"balls"===this.opts.atomVisualization&&this.canvasWrapper.drawBall(i.position.x,i.position.y,h);else if(2===i.getNeighbourCount()&&1==i.forcePositioned){var v=l.threePointangle(i.position,this.graph.vertices[i.neighbours[0]].position,this.graph.vertices[i.neighbours[1]].position);.1>Math.abs(r-v)&&this.canvasWrapper.drawPoint(i.position.x,i.position.y,h)}if(t){var m="v: "+i.id+" "+s.print(a.ringbonds);this.canvasWrapper.drawDebugText(i.position.x,i.position.y,m)}}if(this.opts.debug)for(n=0;n<this.rings.length;n++)this.canvasWrapper.drawDebugPoint((e=this.rings[n].center).x,e.y,"r: "+this.rings[n].id)}},{key:"position",value:function(){for(var t=null,e=0;e<this.graph.vertices.length;e++)if(null!==this.graph.vertices[e].value.bridgedRing){t=this.graph.vertices[e];break}for(e=0;e<this.rings.length;e++)this.rings[e].isBridged&&(t=this.graph.vertices[this.rings[e].members[0]]);0<this.rings.length&&null===t&&(t=this.graph.vertices[this.rings[0].members[0]]),null===t&&(t=this.graph.vertices[0]),this.createNextBond(t,null,0)}},{key:"backupRingInformation",value:function(){this.originalRings=[],this.originalRingConnections=[];for(var t=0;t<this.rings.length;t++)this.originalRings.push(this.rings[t]);for(t=0;t<this.ringConnections.length;t++)this.originalRingConnections.push(this.ringConnections[t]);for(t=0;t<this.graph.vertices.length;t++)this.graph.vertices[t].value.backupRings()}},{key:"restoreRingInformation",value:function(){var t=this.getBridgedRings();this.rings=[],this.ringConnections=[];for(var e,n=0;n<t.length;n++){e=t[n];for(var r,i=0;i<e.rings.length;i++)this.originalRings[(r=e.rings[i]).id].center=r.center}for(n=0;n<this.originalRings.length;n++)this.rings.push(this.originalRings[n]);for(n=0;n<this.originalRingConnections.length;n++)this.ringConnections.push(this.originalRingConnections[n]);for(n=0;n<this.graph.vertices.length;n++)this.graph.vertices[n].value.restoreRings()}},{key:"createRing",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;if(!t.positioned){e=e||new l(0,0);var i=t.getOrderedNeighbours(this.ringConnections),a=n?l.subtract(n.position,e).angle():0,s=o.polyCircumradius(this.opts.bondLength,t.getSize()),u=o.centralAngle(t.getSize());t.centralAngle=u;var h,c=a,d=this,g=n?n.id:null;if(-1===t.members.indexOf(g)&&(n&&(n.positioned=!1),g=t.members[0]),t.isBridged){this.graph.kkLayout(t.members.slice(),e,n.id,t,this.opts.bondLength),t.positioned=!0,this.setRingCenter(t),e=t.center;for(var p=0;p<t.rings.length;p++)this.setRingCenter(t.rings[p])}else t.eachMember(this.graph.vertices,function(n){var r=d.graph.vertices[n];r.positioned||r.setPosition(e.x+Math.cos(c)*s,e.y+Math.sin(c)*s),c+=u,(!t.isBridged||3>t.rings.length)&&(r.angle=c,r.positioned=!0)},g,r?r.id:null);for(t.positioned=!0,t.center=e,p=0;p<i.length;p++)if(!(h=this.getRing(i[p].neighbour)).positioned){var v=f.getVertices(this.ringConnections,t.id,h.id);if(2===v.length){t.isFused=!0,h.isFused=!0;var m=this.graph.vertices[v[0]],b=this.graph.vertices[v[1]],y=l.midpoint(m.position,b.position),_=l.normals(m.position,b.position);_[0].normalize(),_[1].normalize();var S=o.polyCircumradius(this.opts.bondLength,h.getSize()),C=o.apothem(S,h.getSize());_[0].multiplyScalar(C).add(y),_[1].multiplyScalar(C).add(y);var w=_[0];l.subtract(e,_[1]).lengthSq()>l.subtract(e,_[0]).lengthSq()&&(w=_[1]);var T=l.subtract(m.position,w),x=l.subtract(b.position,w);-1===T.clockwise(x)?!h.positioned&&this.createRing(h,w,m,b):!h.positioned&&this.createRing(h,w,b,m)}else if(1===v.length){t.isSpiro=!0,h.isSpiro=!0;var D=this.graph.vertices[v[0]],A=l.subtract(e,D.position);A.invert(),A.normalize();var I=o.polyCircumradius(this.opts.bondLength,h.getSize());A.multiplyScalar(I),A.add(D.position),h.positioned||this.createRing(h,A,D)}}for(p=0;p<t.members.length;p++)for(var k,E=this.graph.vertices[t.members[p]],R=E.neighbours,N=0;N<R.length;N++)!(k=this.graph.vertices[R[N]]).positioned&&(k.value.isConnectedToRing=!0,this.createNextBond(k,E,0))}}},{key:"rotateSubtree",value:function(t,e,n,r){var i=this;this.graph.traverseTree(t,e,function(t){t.position.rotateAround(n,r);for(var e,a=0;a<t.value.anchoredRings.length;a++)(e=i.rings[t.value.anchoredRings[a]])&&e.center.rotateAround(n,r)})}},{key:"getSubtreeOverlapScore",value:function(t,e,n){var r=this,i=0,a=new l(0,0),o=0;return this.graph.traverseTree(t,e,function(t){if(t.value.isDrawn){var e=n[t.id];e>r.opts.overlapSensitivity&&(i+=e,o++);var s=r.graph.vertices[t.id].position.clone();s.multiplyScalar(e),a.add(s)}}),a.divide(i),{value:i/o,center:a}}},{key:"getCurrentCenterOfMass",value:function(){for(var t,e=new l(0,0),n=0,r=0;r<this.graph.vertices.length;r++)(t=this.graph.vertices[r]).positioned&&(e.add(t.position),n++);return e.divide(n)}},{key:"getCurrentCenterOfMassInNeigbourhood",value:function(t){for(var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2*this.opts.bondLength,r=new l(0,0),i=0,a=0;a<this.graph.vertices.length;a++)(e=this.graph.vertices[a]).positioned&&t.distanceSq(e.position)<n*n&&(r.add(e.position),i++);return r.divide(i)}},{key:"resolvePrimaryOverlaps",value:function(){for(var t,e=[],n=Array(this.graph.vertices.length),i=0;i<this.rings.length;i++){t=this.rings[i];for(var a,o=0;o<t.members.length;o++)if(!n[(a=this.graph.vertices[t.members[o]]).id]){n[a.id]=!0;var s=this.getNonRingNeighbours(a.id);if(1<s.length){for(var l=[],u=0;u<a.value.rings.length;u++)l.push(a.value.rings[u]);e.push({common:a,rings:l,vertices:s})}else if(1===s.length&&2===a.value.rings.length){var h=[];for(u=0;u<a.value.rings.length;u++)h.push(a.value.rings[u]);e.push({common:a,rings:h,vertices:s})}}}var c;for(i=0;i<e.length;i++)if(2===(c=e[i]).vertices.length){var d=c.vertices[0],f=c.vertices[1];if(!d.value.isDrawn||!f.value.isDrawn)continue;var g=(2*r-this.getRing(c.rings[0]).getAngle())/6;this.rotateSubtree(d.id,c.common.id,g,c.common.position),this.rotateSubtree(f.id,c.common.id,-g,c.common.position);var p=this.getOverlapScore(),v=this.getSubtreeOverlapScore(d.id,c.common.id,p.vertexScores),m=this.getSubtreeOverlapScore(f.id,c.common.id,p.vertexScores),b=v.value+m.value;this.rotateSubtree(d.id,c.common.id,-2*g,c.common.position),this.rotateSubtree(f.id,c.common.id,2*g,c.common.position),p=this.getOverlapScore(),v=this.getSubtreeOverlapScore(d.id,c.common.id,p.vertexScores),m=this.getSubtreeOverlapScore(f.id,c.common.id,p.vertexScores),v.value+m.value>b&&(this.rotateSubtree(d.id,c.common.id,2*g,c.common.position),this.rotateSubtree(f.id,c.common.id,-2*g,c.common.position))}}},{key:"resolveSecondaryOverlaps",value:function(t){for(var e=0;e<t.length;e++)if(t[e].score>this.opts.overlapSensitivity){var n=this.graph.vertices[t[e].id];if(n.isTerminal()){var r,i=this.getClosestVertex(n);i&&(r=i.isTerminal()?0===i.id?this.graph.vertices[1].position:i.previousPosition:0===i.id?this.graph.vertices[1].position:i.position,n.position.rotateAwayFrom(r,0===n.id?this.graph.vertices[1].position:n.previousPosition,o.toRad(20)))}}}},{key:"getLastVertexWithAngle",value:function(t){for(var e=0,n=null;!e&&t;)e=(n=this.graph.vertices[t]).angle,t=n.parentVertexId;return n}},{key:"createNextBond",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=4<arguments.length&&void 0!==arguments[4]&&arguments[4];if(!t.positioned||a){var u=!1;if(e){var h=this.graph.getEdge(t.id,e.id);("/"===h.bondType||"\\"===h.bondType)&&1==++this.doubleBondConfigCount%2&&null===this.doubleBondConfig&&(this.doubleBondConfig=h.bondType,u=!0,null===e.parentVertexId&&t.value.branchBond&&("/"===this.doubleBondConfig?this.doubleBondConfig="\\":"\\"===this.doubleBondConfig&&(this.doubleBondConfig="/")))}if(!a)if(e)if(0<e.value.rings.length){var c=e.neighbours,d=null,f=new l(0,0);if(null===e.value.bridgedRing&&1<e.value.rings.length)for(var g,p=0;p<c.length;p++)if(s.containsAll((g=this.graph.vertices[c[p]]).value.rings,e.value.rings)){d=g;break}if(null===d){var v;for(p=0;p<c.length;p++)(v=this.graph.vertices[c[p]]).positioned&&this.areVerticesInSameRing(v,e)&&f.add(l.subtract(v.position,e.position));f.invert().normalize().multiplyScalar(this.opts.bondLength).add(e.position)}else f=d.position.clone().rotateAround(Math.PI,e.position);t.previousPosition=e.position,t.setPositionFromVector(f),t.positioned=!0}else{var m=new l(this.opts.bondLength,0);m.rotate(n),m.add(e.position),t.setPositionFromVector(m),t.previousPosition=e.position,t.positioned=!0}else{var b=new l(this.opts.bondLength,0);b.rotate(o.toRad(-60)),t.previousPosition=b,t.setPosition(this.opts.bondLength,0),t.angle=o.toRad(-60),null===t.value.bridgedRing&&(t.positioned=!0)}if(null!==t.value.bridgedRing){var y=this.getRing(t.value.bridgedRing);if(!y.positioned){var _=l.subtract(t.previousPosition,t.position);_.invert(),_.normalize();var S=o.polyCircumradius(this.opts.bondLength,y.members.length);_.multiplyScalar(S),_.add(t.position),this.createRing(y,_,t)}}else if(0<t.value.rings.length){var C=this.getRing(t.value.rings[0]);if(!C.positioned){var w=l.subtract(t.previousPosition,t.position);w.invert(),w.normalize();var T=o.polyCircumradius(this.opts.bondLength,C.getSize());w.multiplyScalar(T),w.add(t.position),this.createRing(C,w,t)}}else{var x=t.getNeighbours(),D=[];for(p=0;p<x.length;p++)this.graph.vertices[x[p]].value.isDrawn&&D.push(x[p]);e&&(D=s.remove(D,e.id));var A=t.getAngle();if(1===D.length){var I=this.graph.vertices[D[0]];if("#"===t.value.bondType||e&&"#"===e.value.bondType||"="===t.value.bondType&&e&&0===e.value.rings.length&&"="===e.value.bondType&&"-"!==t.value.branchBond)t.value.drawExplicit=!1,e&&(this.graph.getEdge(t.id,e.id).center=!0),this.graph.getEdge(t.id,I.id).center=!0,("#"===t.value.bondType||e&&"#"===e.value.bondType)&&(I.angle=0),I.drawExplicit=!0,this.createNextBond(I,t,A+I.angle);else if(e&&0<e.value.rings.length){var k=o.toRad(60),E=-k,R=new l(this.opts.bondLength,0),N=new l(this.opts.bondLength,0);R.rotate(k).add(t.position),N.rotate(E).add(t.position);var P=this.getCurrentCenterOfMass(),L=R.distanceSq(P),O=N.distanceSq(P);I.angle=L<O?E:k,this.createNextBond(I,t,A+I.angle)}else{var F=t.angle;if(e&&3<e.neighbours.length?F=0<F?i(1.0472,F):0>F?Math.max(-1.0472,F):1.0472:F||(F=this.getLastVertexWithAngle(t.id).angle)||(F=1.0472),e&&!u){var j=this.graph.getEdge(t.id,I.id).bondType;"/"===j?("/"===this.doubleBondConfig||"\\"===this.doubleBondConfig&&(F=-F),this.doubleBondConfig=null):"\\"===j&&("/"===this.doubleBondConfig&&(F=-F),this.doubleBondConfig=null)}I.angle=r?F:-F,this.createNextBond(I,t,A+I.angle)}}else if(2===D.length){var B=t.angle;B||(B=1.0472);var M=this.graph.getTreeDepth(D[0],t.id),H=this.graph.getTreeDepth(D[1],t.id),W=this.graph.vertices[D[0]],$=this.graph.vertices[D[1]];W.value.subtreeDepth=M,$.value.subtreeDepth=H;var V=this.graph.getTreeDepth(e?e.id:null,t.id);e&&(e.value.subtreeDepth=V);var U=0,G=1;"C"===$.value.element&&"C"!==W.value.element&&1<H&&5>M?(U=1,G=0):"C"!==$.value.element&&"C"===W.value.element&&1<M&&5>H?(U=0,G=1):H>M&&(U=1,G=0);var z=this.graph.vertices[D[U]],Q=this.graph.vertices[D[G]],q=(this.graph.getEdge(t.id,z.id),this.graph.getEdge(t.id,Q.id),!1);V<M&&V<H&&(q=!0),Q.angle=B,z.angle=-B,"\\"===this.doubleBondConfig?"\\"===Q.value.branchBond&&(Q.angle=-B,z.angle=B):"/"===this.doubleBondConfig&&"/"===Q.value.branchBond&&(Q.angle=-B,z.angle=B),this.createNextBond(Q,t,A+Q.angle,q),this.createNextBond(z,t,A+z.angle,q)}else if(3===D.length){var X=this.graph.getTreeDepth(D[0],t.id),Y=this.graph.getTreeDepth(D[1],t.id),K=this.graph.getTreeDepth(D[2],t.id),J=this.graph.vertices[D[0]],Z=this.graph.vertices[D[1]],tt=this.graph.vertices[D[2]];J.value.subtreeDepth=X,Z.value.subtreeDepth=Y,tt.value.subtreeDepth=K,Y>X&&Y>K?(J=this.graph.vertices[D[1]],Z=this.graph.vertices[D[0]],tt=this.graph.vertices[D[2]]):K>X&&K>Y&&(J=this.graph.vertices[D[2]],Z=this.graph.vertices[D[0]],tt=this.graph.vertices[D[1]]),e&&1>e.value.rings.length&&1>J.value.rings.length&&1>Z.value.rings.length&&1>tt.value.rings.length&&1===this.graph.getTreeDepth(Z.id,t.id)&&1===this.graph.getTreeDepth(tt.id,t.id)&&1<this.graph.getTreeDepth(J.id,t.id)?(J.angle=-t.angle,0<=t.angle?(Z.angle=o.toRad(30),tt.angle=o.toRad(90)):(Z.angle=-o.toRad(30),tt.angle=-o.toRad(90)),this.createNextBond(J,t,A+J.angle),this.createNextBond(Z,t,A+Z.angle),this.createNextBond(tt,t,A+tt.angle)):(J.angle=0,Z.angle=o.toRad(90),tt.angle=-o.toRad(90),this.createNextBond(J,t,A+J.angle),this.createNextBond(Z,t,A+Z.angle),this.createNextBond(tt,t,A+tt.angle))}else if(4===D.length){var et=this.graph.getTreeDepth(D[0],t.id),nt=this.graph.getTreeDepth(D[1],t.id),rt=this.graph.getTreeDepth(D[2],t.id),it=this.graph.getTreeDepth(D[3],t.id),at=this.graph.vertices[D[0]],ot=this.graph.vertices[D[1]],st=this.graph.vertices[D[2]],lt=this.graph.vertices[D[3]];at.value.subtreeDepth=et,ot.value.subtreeDepth=nt,st.value.subtreeDepth=rt,lt.value.subtreeDepth=it,nt>et&&nt>rt&&nt>it?(at=this.graph.vertices[D[1]],ot=this.graph.vertices[D[0]],st=this.graph.vertices[D[2]],lt=this.graph.vertices[D[3]]):rt>et&&rt>nt&&rt>it?(at=this.graph.vertices[D[2]],ot=this.graph.vertices[D[0]],st=this.graph.vertices[D[1]],lt=this.graph.vertices[D[3]]):it>et&&it>nt&&it>rt&&(at=this.graph.vertices[D[3]],ot=this.graph.vertices[D[0]],st=this.graph.vertices[D[1]],lt=this.graph.vertices[D[2]]),at.angle=-o.toRad(36),ot.angle=o.toRad(36),st.angle=-o.toRad(108),lt.angle=o.toRad(108),this.createNextBond(at,t,A+at.angle),this.createNextBond(ot,t,A+ot.angle),this.createNextBond(st,t,A+st.angle),this.createNextBond(lt,t,A+lt.angle)}}}}},{key:"getCommonRingbondNeighbour",value:function(t){for(var e,n=t.neighbours,r=0;r<n.length;r++)if(s.containsAll((e=this.graph.vertices[n[r]]).value.rings,t.value.rings))return e;return null}},{key:"isPointInRing",value:function(t){for(var e,n=0;n<this.rings.length;n++)if((e=this.rings[n]).positioned){var r=o.polyCircumradius(this.opts.bondLength,e.getSize());if(t.distanceSq(e.center)<r*r)return!0}return!1}},{key:"isEdgeInRing",value:function(t){return this.areVerticesInSameRing(this.graph.vertices[t.sourceId],this.graph.vertices[t.targetId])}},{key:"isEdgeRotatable",value:function(t){var e=this.graph.vertices[t.sourceId],n=this.graph.vertices[t.targetId];return!("-"!==t.bondType||e.isTerminal()||n.isTerminal()||0<e.value.rings.length&&0<n.value.rings.length&&this.areVerticesInSameRing(e,n))}},{key:"isRingAromatic",value:function(t){for(var e=0;e<t.members.length;e++)if(!this.graph.vertices[t.members[e]].value.isPartOfAromaticRing)return!1;return!0}},{key:"getEdgeNormals",value:function(t){return l.units(this.graph.vertices[t.sourceId].position,this.graph.vertices[t.targetId].position)}},{key:"getNonRingNeighbours",value:function(t){for(var e=[],n=this.graph.vertices[t],r=n.neighbours,i=0;i<r.length;i++){var a=this.graph.vertices[r[i]];0===s.intersection(n.value.rings,a.value.rings).length&&0==a.value.isBridge&&e.push(a)}return e}},{key:"annotateStereochemistry",value:function(){for(var t,e=0;e<this.graph.vertices.length;e++)if((t=this.graph.vertices[e]).value.isStereoCenter){for(var n=t.getNeighbours(),r=n.length,i=Array(r),a=0;a<r;a++){var s=new Uint8Array(this.graph.vertices.length),l=[[]];s[t.id]=1,this.visitStereochemistry(n[a],t.id,s,l,10,0);for(var u=0;u<l.length;u++)l[u].sort(function(t,e){return e-t});i[a]=[a,l]}var h,c=0,d=0;for(a=0;a<i.length;a++)for(i[a][1].length>c&&(c=i[a][1].length),u=0;u<i[a][1].length;u++)i[a][1][u].length>d&&(d=i[a][1][u].length);for(a=0;a<i.length;a++){for(h=c-i[a][1].length,u=0;u<h;u++)i[a][1].push([]);var f;for(i[a][1].push([n[a]]),u=0;u<i[a][1].length;u++){f=d-i[a][1][u].length;for(var g=0;g<f;g++)i[a][1][u].push(0)}}i.sort(function(t,e){for(var n=0;n<t[1].length;n++)for(var r=0;r<t[1][n].length;r++){if(t[1][n][r]>e[1][n][r])return-1;if(t[1][n][r]<e[1][n][r])return 1}return 0});var p=new Uint8Array(r);for(a=0;a<r;a++)p[a]=i[a][0],t.value.priority=a;var v=this.graph.vertices[n[p[0]]].position,m=this.graph.vertices[n[p[2]]].position,b=v.relativeClockwise(this.graph.vertices[n[p[1]]].position,t.position),y=(v.relativeClockwise(m,t.position),-1===b),_="@"===t.value.bracket.chirality?-1:1,S=1==o.parityOfPermutation(p)*_?"R":"S",C="down",w="up";(y&&"R"!=S||!y&&"S"!=S)&&(t.value.hydrogenDirection="up",C="up",w="down"),t.value.hasHydrogen&&(this.graph.getEdge(t.id,n[p[p.length-1]]).wedge=C);var T=Array(n.length-1),x=1<t.value.rings.length&&t.value.hasHydrogen,D=t.value.hasHydrogen?1:0;for(a=0;a<p.length-D;a++){T[a]=new Uint32Array(2);var A=this.graph.vertices[n[p[a]]];T[a][0]+=A.value.isStereoCenter?0:1e5,T[a][0]+=this.areVerticesInSameRing(A,t)?0:1e4,T[a][0]+=A.value.isHeteroAtom()?1e3:0,T[a][0]-=0===A.value.subtreeDepth?1e3:0,T[a][0]+=1e3-A.value.subtreeDepth,T[a][1]=n[p[a]]}if(T.sort(function(t,e){return t[0]>e[0]?-1:t[0]<e[0]?1:0}),!x){var I=T[0][1];if(t.value.hasHydrogen)this.graph.getEdge(t.id,I).wedge=w;else{var k=w;for(a=p.length-1;0<=a&&(k=k==C?w:C,n[p[a]]!==I);a--);this.graph.getEdge(t.id,I).wedge=k}}t.value.chirality=S}}},{key:"visitStereochemistry",value:function(t,e,n,r,i,a){var o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0;n[t]=1;var s=this.graph.vertices[t],l=s.value.getAtomicNumber();r.length<=a&&r.push([]);for(var u=0;u<this.graph.getEdge(t,e).weight;u++)r[a].push(1e3*o+l);var h=this.graph.vertices[t].neighbours;for(u=0;u<h.length;u++)1!==n[h[u]]&&a<i-1&&this.visitStereochemistry(h[u],t,n.slice(),r,i,a+1,l);if(a<i-1){var c=0;for(u=0;u<h.length;u++)c+=this.graph.getEdge(t,h[u]).weight;for(u=0;u<s.value.getMaxBonds()-c;u++)r.length<=a+1&&r.push([]),r[a+1].push(1e3*l+1)}}},{key:"initPseudoElements",value:function(){for(var t=0;t<this.graph.vertices.length;t++){for(var e=this.graph.vertices[t],n=e.neighbours,r=Array(n.length),i=0;i<n.length;i++)r[i]=this.graph.vertices[n[i]];if(!(3>e.getNeighbourCount()||0<e.value.rings.length||"P"===e.value.element||"C"===e.value.element&&3===r.length&&"N"===r[0].value.element&&"N"===r[1].value.element&&"N"===r[2].value.element)){var a=0,o=0;for(i=0;i<r.length;i++){var s=r[i],l=s.value.element,u=s.getNeighbourCount();"C"!==l&&"H"!==l&&1===u&&a++,1<u&&o++}if(!(1<o||2>a)){var h,d,f=null;for(i=0;i<r.length;i++)1<(h=r[i]).getNeighbourCount()&&(f=h);for(i=0;i<r.length;i++)if(!(1<(d=r[i]).getNeighbourCount())){d.value.isDrawn=!1;var g=c.maxBonds[d.value.element]-d.value.bondCount,p="";d.value.bracket&&(g=d.value.bracket.hcount,p=d.value.bracket.charge||0),e.value.attachPseudoElement(d.value.element,f?f.value.element:null,g,p)}}}}for(t=0;t<this.graph.vertices.length;t++){var v=this.graph.vertices[t],m=v.value,b=m.element;if("C"!==b&&"H"!==b&&m.isDrawn){var y,_=v.neighbours,S=Array(_.length);for(i=0;i<_.length;i++)S[i]=this.graph.vertices[_[i]];for(i=0;i<S.length;i++)if((y=S[i].value).hasAttachedPseudoElements&&2===y.getAttachedPseudoElementsCount()){var C=y.getAttachedPseudoElements();C.hasOwnProperty("0O")&&C.hasOwnProperty("3C")&&(y.isDrawn=!1,v.value.attachPseudoElement("Ac","",0))}}}}}]),t}();e.exports=m},{"./ArrayHelper":2,"./Atom":3,"./CanvasWrapper":4,"./Edge":6,"./Graph":7,"./Line":8,"./MathHelper":9,"./Ring":11,"./RingConnection":12,"./SSSR":13,"./Vector2":14,"./Vertex":15}],6:[function(t,e){"use strict";var n=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(){function t(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=null,this.sourceId=e,this.targetId=n,this.weight=r,this.bondType="-",this.isPartOfAromaticRing=!1,this.center=!1,this.wedge=""}return n(t,[{key:"setBondType",value:function(e){this.bondType=e,this.weight=t.bonds[e]}}],[{key:"bonds",get:function(){return{"-":1,"/":1,"\\":1,"=":2,"#":3,$:4}}}]),t}();e.exports=r},{}],7:[function(t,e){"use strict";var n=Math.pow,r=Math.sqrt,i=Math.min,a=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n,r=[],i=!0,a=!1;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){a=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(a)throw n}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("./MathHelper"),l=(t("./Vector2"),t("./Vertex")),u=t("./Edge"),h=(t("./Ring"),t("./Atom")),c=function(){function t(e){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.vertices=[],this.edges=[],this.vertexIdsToEdgeId={},this.isomeric=n,this._time=0,this._init(e)}return o(t,[{key:"_init",value:function(t){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=new h(t.atom.element?t.atom.element:t.atom,t.bond);r.branchBond=t.branchBond,r.ringbonds=t.ringbonds,r.bracket=t.atom.element?t.atom:null;var i=new l(r),a=this.vertices[e];if(this.addVertex(i),null!==e){i.setParentVertexId(e),i.value.addNeighbouringElement(a.value.element),a.addChild(i.id),a.value.addNeighbouringElement(r.element),a.spanningTreeChildren.push(i.id);var o=new u(e,i.id,1);n?(o.setBondType(i.value.branchBond||"-"),o.setBondType(i.value.branchBond||"-")):o.setBondType(a.value.bondType||"-"),this.addEdge(o)}var s=t.ringbondCount+1;r.bracket&&(s+=r.bracket.hcount);var c=0;if(r.bracket&&r.bracket.chirality){r.isStereoCenter=!0,c=r.bracket.hcount;for(var d=0;d<c;d++)this._init({atom:"H",isBracket:"false",branches:[],branchCount:0,ringbonds:[],ringbondCount:!1,next:null,hasNext:!1,bond:"-"},d,i.id,!0)}for(d=0;d<t.branchCount;d++)this._init(t.branches[d],d+s,i.id,!0);t.hasNext&&this._init(t.next,t.branchCount+s,i.id)}},{key:"clear",value:function(){this.vertices=[],this.edges=[],this.vertexIdsToEdgeId={}}},{key:"addVertex",value:function(t){return t.id=this.vertices.length,this.vertices.push(t),t.id}},{key:"addEdge",value:function(t){var e=this.vertices[t.sourceId],n=this.vertices[t.targetId];return t.id=this.edges.length,this.edges.push(t),this.vertexIdsToEdgeId[t.sourceId+"_"+t.targetId]=t.id,this.vertexIdsToEdgeId[t.targetId+"_"+t.sourceId]=t.id,t.isPartOfAromaticRing=e.value.isPartOfAromaticRing&&n.value.isPartOfAromaticRing,e.value.bondCount+=t.weight,n.value.bondCount+=t.weight,e.edges.push(t.id),n.edges.push(t.id),t.id}},{key:"getEdge",value:function(t,e){var n=this.vertexIdsToEdgeId[t+"_"+e];return void 0===n?null:this.edges[n]}},{key:"getEdges",value:function(t){for(var e=[],n=this.vertices[t],r=0;r<n.neighbours.length;r++)e.push(this.vertexIdsToEdgeId[t+"_"+n.neighbours[r]]);return e}},{key:"hasEdge",value:function(t,e){return void 0!==this.vertexIdsToEdgeId[t+"_"+e]}},{key:"getVertexList",value:function(){for(var t=[this.vertices.length],e=0;e<this.vertices.length;e++)t[e]=this.vertices[e].id;return t}},{key:"getEdgeList",value:function(){for(var t=Array(this.edges.length),e=0;e<this.edges.length;e++)t[e]=[this.edges[e].sourceId,this.edges[e].targetId];return t}},{key:"getAdjacencyMatrix",value:function(){for(var t=this.vertices.length,e=Array(t),n=0;n<t;n++)e[n]=Array(t),e[n].fill(0);var r;for(n=0;n<this.edges.length;n++)e[(r=this.edges[n]).sourceId][r.targetId]=1,e[r.targetId][r.sourceId]=1;return e}},{key:"getComponentsAdjacencyMatrix",value:function(){for(var t=this.vertices.length,e=Array(t),n=this.getBridges(),r=0;r<t;r++)e[r]=Array(t),e[r].fill(0);var i;for(r=0;r<this.edges.length;r++)e[(i=this.edges[r]).sourceId][i.targetId]=1,e[i.targetId][i.sourceId]=1;for(r=0;r<n.length;r++)e[n[r][0]][n[r][1]]=0,e[n[r][1]][n[r][0]]=0;return e}},{key:"getSubgraphAdjacencyMatrix",value:function(t){for(var e=t.length,n=Array(e),r=0;r<e;r++){n[r]=Array(e),n[r].fill(0);for(var i=0;i<e;i++)r!==i&&this.hasEdge(t[r],t[i])&&(n[r][i]=1)}return n}},{key:"getDistanceMatrix",value:function(){for(var t=this.vertices.length,e=this.getAdjacencyMatrix(),n=Array(t),r=0;r<t;r++)n[r]=Array(t),n[r].fill(1/0);for(r=0;r<t;r++)for(var i=0;i<t;i++)1===e[r][i]&&(n[r][i]=1);for(var a=0;a<t;a++)for(r=0;r<t;r++)for(i=0;i<t;i++)n[r][i]>n[r][a]+n[a][i]&&(n[r][i]=n[r][a]+n[a][i]);return n}},{key:"getSubgraphDistanceMatrix",value:function(t){for(var e=t.length,n=this.getSubgraphAdjacencyMatrix(t),r=Array(e),i=0;i<e;i++)r[i]=Array(e),r[i].fill(1/0);for(i=0;i<e;i++)for(var a=0;a<e;a++)1===n[i][a]&&(r[i][a]=1);for(var o=0;o<e;o++)for(i=0;i<e;i++)for(a=0;a<e;a++)r[i][a]>r[i][o]+r[o][a]&&(r[i][a]=r[i][o]+r[o][a]);return r}},{key:"getAdjacencyList",value:function(){for(var t=this.vertices.length,e=Array(t),n=0;n<t;n++){e[n]=[];for(var r=0;r<t;r++)n!==r&&this.hasEdge(this.vertices[n].id,this.vertices[r].id)&&e[n].push(r)}return e}},{key:"getSubgraphAdjacencyList",value:function(t){for(var e=t.length,n=Array(e),r=0;r<e;r++){n[r]=[];for(var i=0;i<e;i++)r!==i&&this.hasEdge(t[r],t[i])&&n[r].push(i)}return n}},{key:"getBridges",value:function(){var t=this.vertices.length,e=Array(t),n=Array(t),r=Array(t),i=Array(t),a=this.getAdjacencyList(),o=[];e.fill(!1),i.fill(null),this._time=0;for(var s=0;s<t;s++)e[s]||this._bridgeDfs(s,e,n,r,i,a,o);return o}},{key:"traverseBF",value:function(t,e){var n=Array(this.vertices.length);n.fill(!1);for(var r=[t];0<r.length;){var i=r.shift(),a=this.vertices[i];e(a);for(var o,s=0;s<a.neighbours.length;s++)n[o=a.neighbours[s]]||(n[o]=!0,r.push(o))}}},{key:"getTreeDepth",value:function(t,e){if(null===t||null===e)return 0;for(var n=this.vertices[t].getSpanningTreeNeighbours(e),r=0,i=0;i<n.length;i++){var a=this.getTreeDepth(n[i],t);a>r&&(r=a)}return r+1}},{key:"traverseTree",value:function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Number.MAX_SAFE_INTEGER,i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null;if(null===o&&(o=new Uint8Array(this.vertices.length)),!(a>r+1||1===o[t])){o[t]=1;var s=this.vertices[t],l=s.getNeighbours(e);(!i||1<a)&&n(s);for(var u=0;u<l.length;u++)this.traverseTree(l[u],t,n,r,i,a+1,o)}}},{key:"kkLayout",value:function(t,e,i,o,l){for(var u=l,h=t.length;h--;)var c=this.vertices[t[h]].neighbours.length;var d=this.getSubgraphDistanceMatrix(t),f=t.length,g=s.polyCircumradius(500,f),p=s.centralAngle(f),v=0,m=new Float32Array(f),b=new Float32Array(f),y=Array(f);for(h=f;h--;){var _=this.vertices[t[h]];_.positioned?(m[h]=_.position.x,b[h]=_.position.y):(m[h]=e.x+Math.cos(v)*g,b[h]=e.y+Math.sin(v)*g),y[h]=_.positioned,v+=p}var S=Array(f);for(h=f;h--;)for(S[h]=Array(f),c=f;c--;)S[h][c]=l*d[h][c];var C=Array(f);for(h=f;h--;)for(C[h]=Array(f),c=f;c--;)C[h][c]=u*n(d[h][c],-2);var w,T,x,D,A,I,k,E=Array(f),R=new Float32Array(f),N=new Float32Array(f);for(h=f;h--;)E[h]=Array(f);for(h=f;h--;){w=m[h],T=b[h],x=0,D=0;for(var P=f;P--;)h!==P&&(k=1/r((w-(A=m[P]))*(w-A)+(T-(I=b[P]))*(T-I)),E[h][P]=[C[h][P]*(w-A-S[h][P]*(w-A)*k),C[h][P]*(T-I-S[h][P]*(T-I)*k)],E[P][h]=E[h][P],x+=E[h][P][0],D+=E[h][P][1]);R[h]=x,N[h]=D}for(var L=function(t){return[R[t]*R[t]+N[t]*N[t],R[t],N[t]]},O=function(){var t=0,e=0,n=0,r=0;for(h=f;h--;){var i=L(h),o=a(i,3),s=o[0];s>t&&!1===y[h]&&(t=s,e=h,n=o[1],r=o[2])}return[e,t,n,r]},F=function(t,e,i){var a=0,o=0,s=0,l=m[t],u=b[t],c=S[t],d=C[t];for(h=f;h--;)if(h!==t){var g=m[h],p=b[h],v=c[h],y=d[h],_=(l-g)*(l-g),w=1/n(_+(u-p)*(u-p),1.5);a+=y*(1-v*(u-p)*(u-p)*w),o+=y*(1-v*_*w),s+=y*(v*(l-g)*(u-p)*w)}0==a&&(a=.1),0==o&&(o=.1),0==s&&(s=.1);var T=e/a+i/s,x=-(s*(T/=s/a-o/s)+e)/a;m[t]+=x,b[t]+=T;var D,A,I,k,P,L=E[t];for(e=0,i=0,l=m[t],u=b[t],h=f;h--;)t!==h&&(I=L[h][0],k=L[h][1],P=1/r((l-(D=m[h]))*(l-D)+(u-(A=b[h]))*(u-A)),L[h]=[x=d[h]*(l-D-c[h]*(l-D)*P),T=d[h]*(u-A-c[h]*(u-A)*P)],e+=x,i+=T,R[h]+=x-I,N[h]+=T-k);R[t]=e,N[t]=i},j=1e9,B=0,M=0,H=0,W=0,$=0,V=0;.1<j&&2e3>$;){$++;var U=O(),G=a(U,4);for(B=G[0],M=G[2],H=G[3],W=j=G[1],V=0;.1<W&&50>V;){V++,F(B,M,H);var z=L(B),Q=a(z,3);W=Q[0],M=Q[1],H=Q[2]}}for(h=f;h--;){var q=this.vertices[t[h]];q.position.x=m[h],q.position.y=b[h],q.positioned=!0,q.forcePositioned=!0}}},{key:"_bridgeDfs",value:function(t,e,n,r,a,o,s){e[t]=!0,n[t]=r[t]=++this._time;for(var l,u=0;u<o[t].length;u++)e[l=o[t][u]]?l!==a[t]&&(r[t]=i(r[t],n[l])):(a[l]=t,this._bridgeDfs(l,e,n,r,a,o,s),r[t]=i(r[t],r[l]),r[l]>n[t]&&s.push([t,l]))}}],[{key:"getConnectedComponents",value:function(e){var n=e.length,r=Array(n),i=[];r.fill(!1);for(var a=0;a<n;a++)if(!r[a]){var o=[];r[a]=!0,o.push(a),t._ccGetDfs(a,r,e,o),1<o.length&&i.push(o)}return i}},{key:"getConnectedComponentCount",value:function(e){var n=e.length,r=Array(n),i=0;r.fill(!1);for(var a=0;a<n;a++)r[a]||(r[a]=!0,i++,t._ccCountDfs(a,r,e));return i}},{key:"_ccCountDfs",value:function(e,n,r){for(var i=0;i<r[e].length;i++)r[e][i]&&!n[i]&&e!==i&&(n[i]=!0,t._ccCountDfs(i,n,r))}},{key:"_ccGetDfs",value:function(e,n,r,i){for(var a=0;a<r[e].length;a++)r[e][a]&&!n[a]&&e!==a&&(n[a]=!0,i.push(a),t._ccGetDfs(a,n,r,i))}}]),t}();e.exports=c},{"./Atom":3,"./Edge":6,"./MathHelper":9,"./Ring":11,"./Vector2":14,"./Vertex":15}],8:[function(t,e){"use strict";var n=Math.pow,r=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("./Vector2"),a=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new i(0,0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new i(0,0),r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s=5<arguments.length&&void 0!==arguments[5]&&arguments[5];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.from=e,this.to=n,this.elementFrom=r,this.elementTo=a,this.chiralFrom=o,this.chiralTo=s}return r(t,[{key:"clone",value:function(){return new t(this.from.clone(),this.to.clone(),this.elementFrom,this.elementTo)}},{key:"getLength",value:function(){return Math.sqrt(n(this.to.x-this.from.x,2)+n(this.to.y-this.from.y,2))}},{key:"getAngle",value:function(){return i.subtract(this.getRightVector(),this.getLeftVector()).angle()}},{key:"getRightVector",value:function(){return this.from.x<this.to.x?this.to:this.from}},{key:"getLeftVector",value:function(){return this.from.x<this.to.x?this.from:this.to}},{key:"getRightElement",value:function(){return this.from.x<this.to.x?this.elementTo:this.elementFrom}},{key:"getLeftElement",value:function(){return this.from.x<this.to.x?this.elementFrom:this.elementTo}},{key:"getRightChiral",value:function(){return this.from.x<this.to.x?this.chiralTo:this.chiralFrom}},{key:"getLeftChiral",value:function(){return this.from.x<this.to.x?this.chiralFrom:this.chiralTo}},{key:"setRightVector",value:function(t,e){return this.from.x<this.to.x?(this.to.x=t,this.to.y=e):(this.from.x=t,this.from.y=e),this}},{key:"setLeftVector",value:function(t,e){return this.from.x<this.to.x?(this.from.x=t,this.from.y=e):(this.to.x=t,this.to.y=e),this}},{key:"rotateToXAxis",value:function(){var t=this.getLeftVector();return this.setRightVector(t.x+this.getLength(),t.y),this}},{key:"rotate",value:function(t){var e=this.getLeftVector(),n=this.getRightVector(),r=Math.sin(t),i=Math.cos(t);return this.setRightVector(i*(n.x-e.x)-r*(n.y-e.y)+e.x,r*(n.x-e.x)-i*(n.y-e.y)+e.y),this}},{key:"shortenFrom",value:function(t){var e=i.subtract(this.to,this.from);return e.normalize(),e.multiplyScalar(t),this.from.add(e),this}},{key:"shortenTo",value:function(t){var e=i.subtract(this.from,this.to);return e.normalize(),e.multiplyScalar(t),this.to.add(e),this}},{key:"shortenRight",value:function(t){return this.from.x<this.to.x?this.shortenTo(t):this.shortenFrom(t),this}},{key:"shortenLeft",value:function(t){return this.from.x<this.to.x?this.shortenFrom(t):this.shortenTo(t),this}},{key:"shorten",value:function(t){var e=i.subtract(this.from,this.to);return e.normalize(),e.multiplyScalar(t/2),this.to.add(e),this.from.subtract(e),this}}]),t}();e.exports=a},{"./Vector2":14}],9:[function(t,e){"use strict";var n=Math.sin,r=Math.cos,i=Math.PI,a=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return a(t,null,[{key:"round",value:function(t,e){return e=e||1,+(Math.round(t+"e"+e)+"e-"+e)}},{key:"meanAngle",value:function(t){for(var e=0,i=0,a=0;a<t.length;a++)e+=n(t[a]),i+=r(t[a]);return Math.atan2(e/t.length,i/t.length)}},{key:"innerAngle",value:function(e){return t.toRad(180*(e-2)/e)}},{key:"polyCircumradius",value:function(t,e){return t/(2*n(i/e))}},{key:"apothem",value:function(t,e){return t*r(i/e)}},{key:"apothemFromSideLength",value:function(e,n){var r=t.polyCircumradius(e,n);return t.apothem(r,n)}},{key:"centralAngle",value:function(e){return t.toRad(360/e)}},{key:"toDeg",value:function(e){return e*t.degFactor}},{key:"toRad",value:function(e){return e*t.radFactor}},{key:"parityOfPermutation",value:function(t){for(var e=new Uint8Array(t.length),n=0,r=function n(r){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return 1===e[r]?i:(i++,e[r]=1,n(t[r],i))},i=0;i<t.length;i++)1!==e[i]&&(n+=1-r(i)%2);return n%2?-1:1}},{key:"radFactor",get:function(){return i/180}},{key:"degFactor",get:function(){return 180/i}},{key:"twoPI",get:function(){return 2*i}}]),t}();e.exports=o},{}],10:[function(t,e){"use strict";e.exports=function(){function t(e,n,r,i){this.message=e,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(t,Error),t.buildMessage=function(t,e){function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function r(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function a(t){return o[t.type](t)}var o={literal:function(t){return'"'+r(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};return"Expected "+function(t){var e,n,r=Array(t.length);for(e=0;e<t.length;e++)r[e]=a(t[e]);if(r.sort(),0<r.length){for(e=1,n=1;e<r.length;e++)r[e-1]!==r[e]&&(r[n]=r[e],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(t)+" but "+(e?'"'+r(e)+'"':"end of input")+" found."},{SyntaxError:t,parse:function(e,n){function r(t,e){return{type:"literal",text:t,ignoreCase:e}}function i(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function a(t){var n,r=Xt[t];if(r)return r;for(n=t-1;!Xt[n];)n--;for(r={line:(r=Xt[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Xt[t]=r,r}function o(t){qt<Yt||(qt>Yt&&(Yt=qt,Kt=[]),Kt.push(t))}function s(){var t,e,n,r,i,a,o,c,d;if(t=qt,(e=u())!==y){for(n=[],r=l();r!==y;)n.push(r),r=l();if(n!==y){for(r=[],i=qt,(a=h())===y&&(a=null),a===y?(qt=i,i=y):(o=p())===y?(qt=i,i=y):i=a=[a,o];i!==y;)r.push(i),i=qt,(a=h())===y&&(a=null),a===y?(qt=i,i=y):(o=p())===y?(qt=i,i=y):i=a=[a,o];if(r!==y){for(i=[],a=l();a!==y;)i.push(a),a=l();if(i===y)qt=t,t=y;else if((a=h())===y&&(a=null),a===y)qt=t,t=y;else if((o=s())===y&&(o=null),o!==y){for(c=[],d=l();d!==y;)c.push(d),d=l();c===y?(qt=t,t=y):t=e=[e,n,r,i,a,o,c]}else qt=t,t=y}else qt=t,t=y}else qt=t,t=y}else qt=t,t=y;return t!==y&&(t=C(t)),t}function l(){var t,n,r,i,a;return t=qt,40===e.charCodeAt(qt)?(n=w,qt++):(n=y,o(T)),n===y?(qt=t,t=y):((r=h())===y&&(r=null),r===y?(qt=t,t=y):(i=s())===y?(qt=t,t=y):(41===e.charCodeAt(qt)?(a=x,qt++):(a=y,o(D)),a===y?(qt=t,t=y):t=n=[n,r,i,a])),t!==y&&(t=A(t)),t}function u(){var t;return(t=d())===y&&(t=f())===y&&(t=c())===y&&(t=g()),t!==y&&(t=I(t)),t}function h(){var t;return k.test(e.charAt(qt))?(t=e.charAt(qt),qt++):(t=y,o(E)),t!==y&&(t=R(t)),t}function c(){var t,n,r,i,a,s,l,u,h;return t=qt,91===e.charCodeAt(qt)?(n=N,qt++):(n=y,o(P)),n===y?(qt=t,t=y):((r=function(){var t,n,r,i;return t=qt,ht.test(e.charAt(qt))?(n=e.charAt(qt),qt++):(n=y,o(ct)),n===y?(qt=t,t=y):(dt.test(e.charAt(qt))?(r=e.charAt(qt),qt++):(r=y,o(ft)),r===y&&(r=null),r===y?(qt=t,t=y):(dt.test(e.charAt(qt))?(i=e.charAt(qt),qt++):(i=y,o(ft)),i===y&&(i=null),i===y?(qt=t,t=y):t=n=[n,r,i])),t!==y&&(t=Qt(t)),t}())===y&&(r=null),r===y?(qt=t,t=y):(e.substr(qt,2)===L?(i=L,qt+=2):(i=y,o(O)),i===y&&(e.substr(qt,2)===F?(i=F,qt+=2):(i=y,o(j)),i===y&&(i=f())===y&&(i=function(){var t,n,r;return t=qt,rt.test(e.charAt(qt))?(n=e.charAt(qt),qt++):(n=y,o(it)),n===y?(qt=t,t=y):(at.test(e.charAt(qt))?(r=e.charAt(qt),qt++):(r=y,o(ot)),r===y&&(r=null),r===y?(qt=t,t=y):t=n=[n,r]),t!==y&&(t=st(t)),t}())===y&&(i=g())),i===y?(qt=t,t=y):((a=function(){var t,n,r,i,a,s;return t=qt,64===e.charCodeAt(qt)?(n=pt,qt++):(n=y,o(vt)),n===y?(qt=t,t=y):(64===e.charCodeAt(qt)?(r=pt,qt++):(r=y,o(vt)),r===y&&(r=qt,e.substr(qt,2)===mt?(i=mt,qt+=2):(i=y,o(bt)),i===y?(qt=r,r=y):(yt.test(e.charAt(qt))?(a=e.charAt(qt),qt++):(a=y,o(_t)),a===y?(qt=r,r=y):r=i=[i,a]),r===y&&(r=qt,e.substr(qt,2)===St?(i=St,qt+=2):(i=y,o(Ct)),i===y?(qt=r,r=y):(yt.test(e.charAt(qt))?(a=e.charAt(qt),qt++):(a=y,o(_t)),a===y?(qt=r,r=y):r=i=[i,a]),r===y&&(r=qt,e.substr(qt,2)===wt?(i=wt,qt+=2):(i=y,o(Tt)),i===y?(qt=r,r=y):(xt.test(e.charAt(qt))?(a=e.charAt(qt),qt++):(a=y,o(Dt)),a===y?(qt=r,r=y):r=i=[i,a]),r===y&&(r=qt,e.substr(qt,2)===At?(i=At,qt+=2):(i=y,o(It)),i===y?(qt=r,r=y):(ht.test(e.charAt(qt))?(a=e.charAt(qt),qt++):(a=y,o(ct)),a===y?(qt=r,r=y):(dt.test(e.charAt(qt))?(s=e.charAt(qt),qt++):(s=y,o(ft)),s===y&&(s=null),s===y?(qt=r,r=y):r=i=[i,a,s])),r===y&&(r=qt,e.substr(qt,2)===kt?(i=kt,qt+=2):(i=y,o(Et)),i===y?(qt=r,r=y):(ht.test(e.charAt(qt))?(a=e.charAt(qt),qt++):(a=y,o(ct)),a===y?(qt=r,r=y):(dt.test(e.charAt(qt))?(s=e.charAt(qt),qt++):(s=y,o(ft)),s===y&&(s=null),s===y?(qt=r,r=y):r=i=[i,a,s]))))))),r===y&&(r=null),r===y?(qt=t,t=y):t=n=[n,r]),t!==y&&(t=Rt(t)),t}())===y&&(a=null),a===y?(qt=t,t=y):((s=function(){var t,n,r;return t=qt,72===e.charCodeAt(qt)?(n=Mt,qt++):(n=y,o(Ht)),n===y?(qt=t,t=y):(dt.test(e.charAt(qt))?(r=e.charAt(qt),qt++):(r=y,o(ft)),r===y&&(r=null),r===y?(qt=t,t=y):t=n=[n,r]),t!==y&&(t=Wt(t)),t}())===y&&(s=null),s===y?(qt=t,t=y):((l=function(){var t;return(t=v())===y&&(t=m()),t!==y&&(t=Nt(t)),t}())===y&&(l=null),l===y?(qt=t,t=y):((u=function(){var t,n,r,i,a,s;if(t=qt,58===e.charCodeAt(qt)?(n=$t,qt++):(n=y,o(Vt)),n!==y){if(r=qt,ht.test(e.charAt(qt))?(i=e.charAt(qt),qt++):(i=y,o(ct)),i!==y){for(a=[],dt.test(e.charAt(qt))?(s=e.charAt(qt),qt++):(s=y,o(ft));s!==y;)a.push(s),dt.test(e.charAt(qt))?(s=e.charAt(qt),qt++):(s=y,o(ft));a===y?(qt=r,r=y):r=i=[i,a]}else qt=r,r=y;r===y&&(Ut.test(e.charAt(qt))?(r=e.charAt(qt),qt++):(r=y,o(Gt))),r===y?(qt=t,t=y):t=n=[n,r]}else qt=t,t=y;return t!==y&&(t=zt(t)),t}())===y&&(u=null),u===y?(qt=t,t=y):(93===e.charCodeAt(qt)?(h=B,qt++):(h=y,o(M)),h===y?(qt=t,t=y):t=n=[n,r,i,a,s,l,u,h]))))))),t!==y&&(t=H(t)),t}function d(){var t,n,r;return t=qt,66===e.charCodeAt(qt)?(n=W,qt++):(n=y,o($)),n===y?(qt=t,t=y):(114===e.charCodeAt(qt)?(r=V,qt++):(r=y,o(U)),r===y&&(r=null),r===y?(qt=t,t=y):t=n=[n,r]),t===y&&(t=qt,67===e.charCodeAt(qt)?(n=G,qt++):(n=y,o(z)),n===y?(qt=t,t=y):(108===e.charCodeAt(qt)?(r=Q,qt++):(r=y,o(q)),r===y&&(r=null),r===y?(qt=t,t=y):t=n=[n,r]),t===y&&(X.test(e.charAt(qt))?(t=e.charAt(qt),qt++):(t=y,o(Y)))),t!==y&&(t=K(t)),t}function f(){var t;return J.test(e.charAt(qt))?(t=e.charAt(qt),qt++):(t=y,o(Z)),t!==y&&(t=I(t)),t}function g(){var t;return 42===e.charCodeAt(qt)?(t=tt,qt++):(t=y,o(et)),t!==y&&(t=nt(t)),t}function p(){var t,n,r,i;return t=qt,37===e.charCodeAt(qt)?(n=lt,qt++):(n=y,o(ut)),n===y?(qt=t,t=y):(ht.test(e.charAt(qt))?(r=e.charAt(qt),qt++):(r=y,o(ct)),r===y?(qt=t,t=y):(dt.test(e.charAt(qt))?(i=e.charAt(qt),qt++):(i=y,o(ft)),i===y?(qt=t,t=y):t=n=[n,r,i])),t===y&&(dt.test(e.charAt(qt))?(t=e.charAt(qt),qt++):(t=y,o(ft))),t!==y&&(t=gt(t)),t}function v(){var t,n,r,i,a;return t=qt,43===e.charCodeAt(qt)?(n=Pt,qt++):(n=y,o(Lt)),n===y?(qt=t,t=y):(43===e.charCodeAt(qt)?(r=Pt,qt++):(r=y,o(Lt)),r===y&&(r=qt,ht.test(e.charAt(qt))?(i=e.charAt(qt),qt++):(i=y,o(ct)),i===y?(qt=r,r=y):(dt.test(e.charAt(qt))?(a=e.charAt(qt),qt++):(a=y,o(ft)),a===y&&(a=null),a===y?(qt=r,r=y):r=i=[i,a])),r===y&&(r=null),r===y?(qt=t,t=y):t=n=[n,r]),t!==y&&(t=Ot(t)),t}function m(){var t,n,r,i,a;return t=qt,45===e.charCodeAt(qt)?(n=Ft,qt++):(n=y,o(jt)),n===y?(qt=t,t=y):(45===e.charCodeAt(qt)?(r=Ft,qt++):(r=y,o(jt)),r===y&&(r=qt,ht.test(e.charAt(qt))?(i=e.charAt(qt),qt++):(i=y,o(ct)),i===y?(qt=r,r=y):(dt.test(e.charAt(qt))?(a=e.charAt(qt),qt++):(a=y,o(ft)),a===y&&(a=null),a===y?(qt=r,r=y):r=i=[i,a])),r===y&&(r=null),r===y?(qt=t,t=y):t=n=[n,r]),t!==y&&(t=Bt(t)),t}if(n=void 0===n?{}:n,e.split("(").length-1!=e.split(")").length-1)throw new t("The number of opening parentheses does not match the number of closing parentheses.",null,null,0);var b,y={},_={chain:s},S=s,C=function(t){for(var e=[],n=[],r=0;r<t[1].length;r++)e.push(t[1][r]);for(r=0;r<t[2].length;r++)n.push({bond:t[2][r][0]?t[2][r][0]:"-",id:t[2][r][1]});for(r=0;r<t[3].length;r++)e.push(t[3][r]);for(r=0;r<t[6].length;r++)e.push(t[6][r]);return{atom:t[0],isBracket:!!t[0].element,branches:e,branchCount:e.length,ringbonds:n,ringbondCount:n.length,bond:t[4]?t[4]:"-",next:t[5],hasNext:!!t[5]}},w="(",T=r("(",!1),x=")",D=r(")",!1),A=function(t){return t[2].branchBond=t[1]?t[1]:"-",t[2]},I=function(t){return t},k=/^[\-=#$:\/\\.]/,E=i(["-","=","#","$",":","/","\\","."],!1,!1),R=function(t){return t},N="[",P=r("[",!1),L="se",O=r("se",!1),F="as",j=r("as",!1),B="]",M=r("]",!1),H=function(t){return{isotope:t[1],element:t[2],chirality:t[3],hcount:t[4],charge:t[5],class:t[6]}},W="B",$=r("B",!1),V="r",U=r("r",!1),G="C",z=r("C",!1),Q="l",q=r("l",!1),X=/^[NOPSFI]/,Y=i(["N","O","P","S","F","I"],!1,!1),K=function(t){return 1<t.length?t.join(""):t},J=/^[bcnops]/,Z=i(["b","c","n","o","p","s"],!1,!1),tt="*",et=r("*",!1),nt=function(t){return t},rt=/^[A-Z]/,it=i([["A","Z"]],!1,!1),at=/^[a-z]/,ot=i([["a","z"]],!1,!1),st=function(t){return t.join("")},lt="%",ut=r("%",!1),ht=/^[1-9]/,ct=i([["1","9"]],!1,!1),dt=/^[0-9]/,ft=i([["0","9"]],!1,!1),gt=function(t){return 1==t.length?+t:+t.join("").replace("%","")},pt="@",vt=r("@",!1),mt="TH",bt=r("TH",!1),yt=/^[12]/,_t=i(["1","2"],!1,!1),St="AL",Ct=r("AL",!1),wt="SP",Tt=r("SP",!1),xt=/^[1-3]/,Dt=i([["1","3"]],!1,!1),At="TB",It=r("TB",!1),kt="OH",Et=r("OH",!1),Rt=function(t){return t[1]?"@"==t[1]?"@@":t[1].join("").replace(",",""):"@"},Nt=function(t){return t},Pt="+",Lt=r("+",!1),Ot=function(t){return t[1]?"+"==t[1]?2:+t[1].join(""):1},Ft="-",jt=r("-",!1),Bt=function(t){return t[1]?"-"==t[1]?-2:-+t[1].join(""):-1},Mt="H",Ht=r("H",!1),Wt=function(t){return t[1]?+t[1]:1},$t=":",Vt=r(":",!1),Ut=/^[0]/,Gt=i(["0"],!1,!1),zt=function(t){return+(t[1][0]+t[1][1].join(""))},Qt=function(t){return+t.join("")},qt=0,Xt=[{line:1,column:1}],Yt=0,Kt=[];if("startRule"in n){if(!(n.startRule in _))throw new Error("Can't start parsing from rule \""+n.startRule+'".');S=_[n.startRule]}if((b=S())!==y&&qt===e.length)return b;throw b!==y&&qt<e.length&&o({type:"end"}),function(e,n,r){return new t(t.buildMessage(e,n),e,n,r)}(Kt,Yt<e.length?e.charAt(Yt):null,function(t,e){var n=a(t),r=a(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}(Yt,Yt<e.length?Yt+1:Yt))}}}()},{}],11:[function(t,e){"use strict";var n=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=t("./ArrayHelper"),i=t("./Vector2"),a=(t("./Vertex"),t("./RingConnection")),o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=null,this.members=e,this.edges=[],this.insiders=[],this.neighbours=[],this.positioned=!1,this.center=new i(0,0),this.rings=[],this.isBridged=!1,this.isPartOfBridged=!1,this.isSpiro=!1,this.isFused=!1,this.centralAngle=0,this.canFlip=!0}return n(t,[{key:"clone",value:function(){var e=new t(this.members);return e.id=this.id,e.insiders=r.clone(this.insiders),e.neighbours=r.clone(this.neighbours),e.positioned=this.positioned,e.center=this.center.clone(),e.rings=r.clone(this.rings),e.isBridged=this.isBridged,e.isPartOfBridged=this.isPartOfBridged,e.isSpiro=this.isSpiro,e.isFused=this.isFused,e.centralAngle=this.centralAngle,e.canFlip=this.canFlip,e}},{key:"getSize",value:function(){return this.members.length}},{key:"getPolygon",value:function(t){for(var e=[],n=0;n<this.members.length;n++)e.push(t[this.members[n]].position);return e}},{key:"getAngle",value:function(){return Math.PI-this.centralAngle}},{key:"eachMember",value:function(t,e,n,r){for(var i,a=n=n||0===n?n:this.members[0],o=0;null!=a&&100>o;)e(i=a),a=t[a].getNextInRing(t,this.id,r),r=i,a==n&&(a=null),o++}},{key:"getOrderedNeighbours",value:function(t){for(var e,n=Array(this.neighbours.length),r=0;r<this.neighbours.length;r++)e=a.getVertices(t,this.id,this.neighbours[r]),n[r]={n:e.length,neighbour:this.neighbours[r]};return n.sort(function(t,e){return e.n-t.n}),n}},{key:"isBenzeneLike",value:function(t){var e=this.getDoubleBondCount(t),n=this.members.length;return 3===e&&6===n||2===e&&5===n}},{key:"getDoubleBondCount",value:function(t){for(var e,n=0,r=0;r<this.members.length;r++)("="===(e=t[this.members[r]].value).bondType||"="===e.branchBond)&&n++;return n}},{key:"contains",value:function(t){for(var e=0;e<this.members.length;e++)if(this.members[e]==t)return!0;return!1}}]),t}();e.exports=o},{"./ArrayHelper":2,"./RingConnection":12,"./Vector2":14,"./Vertex":15}],12:[function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=(t("./Vertex"),t("./Ring"),function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=null,this.firstRingId=e.id,this.secondRingId=n.id,this.vertices=new Set;for(var r,i=0;i<e.members.length;i++){r=e.members[i];for(var a=0;a<n.members.length;a++)r===n.members[a]&&this.addVertex(r)}}return r(t,[{key:"addVertex",value:function(t){this.vertices.add(t)}},{key:"updateOther",value:function(t,e){this.firstRingId===e?this.secondRingId=t:this.firstRingId=t}},{key:"containsRing",value:function(t){return this.firstRingId===t||this.secondRingId===t}},{key:"isBridge",value:function(t){if(2<this.vertices.size)return!0;var e,n=!0,r=!1;try{for(var i,a=this.vertices[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)if(2<t[i.value].value.rings.length)return!0}catch(t){r=!0,e=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw e}}return!1}}],[{key:"isBridge",value:function(t,e,n,r){for(var i=null,a=0;a<t.length;a++)if((i=t[a]).firstRingId===n&&i.secondRingId===r||i.firstRingId===r&&i.secondRingId===n)return i.isBridge(e);return!1}},{key:"getNeighbours",value:function(t,e){for(var n,r=[],i=0;i<t.length;i++)(n=t[i]).firstRingId===e?r.push(n.secondRingId):n.secondRingId===e&&r.push(n.firstRingId);return r}},{key:"getVertices",value:function(t,e,r){for(var i,a=0;a<t.length;a++)if((i=t[a]).firstRingId===e&&i.secondRingId===r||i.firstRingId===r&&i.secondRingId===e)return[].concat(n(i.vertices))}}]),t}());e.exports=i},{"./Ring":11,"./Vertex":15}],13:[function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("./Graph"),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"getRings",value:function(e){var r=e.getComponentsAdjacencyMatrix();if(0===r.length)return null;for(var a=i.getConnectedComponents(r),o=[],s=0;s<a.length;s++){for(var l=a[s],u=e.getSubgraphAdjacencyMatrix([].concat(n(l))),h=new Uint16Array(u.length),c=new Uint16Array(u.length),d=0;d<u.length;d++){c[d]=0,h[d]=0;for(var f=0;f<u[d].length;f++)h[d]+=u[d][f]}var g=0;for(d=0;d<u.length;d++)for(f=d+1;f<u.length;f++)g+=u[d][f];var p=g-u.length+1,v=!0;for(d=0;d<h.length;d++)3!==h[d]&&(v=!1);if(v&&(p=2+g-u.length),1!=p){var m=t.getPathIncludedDistanceMatrices(u),b=m.d,y=m.pe,_=m.pe_prime,S=t.getRingCandidates(b,y,_),C=t.getSSSR(S,b,u,y,_,h,c,p);for(d=0;d<C.length;d++){var w=Array(C[d].size),T=0,x=!0,D=!1,A=void 0;try{for(var I,k=C[d][Symbol.iterator]();!(x=(I=k.next()).done);x=!0)w[T++]=l[I.value]}catch(t){D=!0,A=t}finally{try{!x&&k.return&&k.return()}finally{if(D)throw A}}o.push(w)}}else o.push([].concat(n(l)))}return o}},{key:"matrixToString",value:function(t){for(var e="",n=0;n<t.length;n++){for(var r=0;r<t[n].length;r++)e+=t[n][r]+" ";e+="\n"}return e}},{key:"getPathIncludedDistanceMatrices",value:function(t){for(var e=t.length,n=Array(e),r=Array(e),i=Array(e),a=0,o=0,s=0,l=e;l--;){n[l]=Array(e),r[l]=Array(e),i[l]=Array(e);for(var u=e;u--;)n[l][u]=l===u||1===t[l][u]?t[l][u]:Number.POSITIVE_INFINITY,r[l][u]=1===n[l][u]?[[[l,u]]]:[],i[l][u]=[]}for(var h=e;h--;)for(l=e;l--;)for(u=e;u--;){var c=n[l][u],d=n[l][h]+n[h][u];if(c>d){if(c===d+1)for(i[l][u]=[r[l][u].length],a=r[l][u].length;a--;)for(i[l][u][a]=[r[l][u][a].length],o=r[l][u][a].length;o--;)for(i[l][u][a][o]=[r[l][u][a][o].length],s=r[l][u][a][o].length;s--;)i[l][u][a][o][s]=[r[l][u][a][o][0],r[l][u][a][o][1]];else i[l][u]=[];for(n[l][u]=d,r[l][u]=[[]],a=r[l][h][0].length;a--;)r[l][u][0].push(r[l][h][0][a]);for(a=r[h][u][0].length;a--;)r[l][u][0].push(r[h][u][0][a])}else if(c===d){if(r[l][h].length&&r[h][u].length)if(r[l][u].length){var f=[];for(a=r[l][h][0].length;a--;)f.push(r[l][h][0][a]);for(a=r[h][u][0].length;a--;)f.push(r[h][u][0][a]);r[l][u].push(f)}else{var g=[];for(a=r[l][h][0].length;a--;)g.push(r[l][h][0][a]);for(a=r[h][u][0].length;a--;)g.push(r[h][u][0][a]);r[l][u][0]=g}}else if(c===d-1)if(i[l][u].length){var p=[];for(a=r[l][h][0].length;a--;)p.push(r[l][h][0][a]);for(a=r[h][u][0].length;a--;)p.push(r[h][u][0][a]);i[l][u].push(p)}else{var v=[];for(a=r[l][h][0].length;a--;)v.push(r[l][h][0][a]);for(a=r[h][u][0].length;a--;)v.push(r[h][u][0][a]);i[l][u][0]=v}}return{d:n,pe:r,pe_prime:i}}},{key:"getRingCandidates",value:function(t,e,n){for(var r=t.length,i=[],a=0,o=0;o<r;o++)for(var s=0;s<r;s++)0===t[o][s]||1===e[o][s].length&&0===n[o][s]||(a=0===n[o][s].length?2*t[o][s]:2*(t[o][s]+.5))!=1/0&&i.push([a,e[o][s],n[o][s]]);return i.sort(function(t,e){return t[0]-e[0]}),i}},{key:"getSSSR",value:function(e,n,r,i,a,o,s,l){for(var u=[],h=[],c=0;c<e.length;c++)if(0!=e[c][0]%2)for(var d,f=0;f<e[c][2].length;f++){d=e[c][1][0].concat(e[c][2][f]);for(var g=0;g<d.length;g++)d[g][0].constructor===Array&&(d[g]=d[g][0]);var p=t.bondsToAtoms(d);if(t.getBondCount(p,r)!==p.size||t.pathSetsContain(u,p,d,h,o,s)||(u.push(p),h=h.concat(d)),u.length>l)return u}else for(var v,m=0;m<e[c][1].length-1;m++){for(v=e[c][1][m].concat(e[c][1][m+1]),g=0;g<v.length;g++)v[g][0].constructor===Array&&(v[g]=v[g][0]);var b=t.bondsToAtoms(v);if(t.getBondCount(b,r)!==b.size||t.pathSetsContain(u,b,v,h,o,s)||(u.push(b),h=h.concat(v)),u.length>l)return u}return u}},{key:"getEdgeCount",value:function(t){for(var e=0,n=t.length,r=n-1;r--;)for(var i=n;i--;)1===t[r][i]&&e++;return e}},{key:"getEdgeList",value:function(t){for(var e=t.length,n=[],r=e-1;r--;)for(var i=e;i--;)1===t[r][i]&&n.push([r,i]);return n}},{key:"bondsToAtoms",value:function(t){for(var e=new Set,n=t.length;n--;)e.add(t[n][0]),e.add(t[n][1]);return e}},{key:"getBondCount",value:function(t,e){var n,r=0,i=!0,a=!1;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value,u=!0,h=!1,c=void 0;try{for(var d,f,g=t[Symbol.iterator]();!(u=(d=g.next()).done);u=!0)l!==(f=d.value)&&(r+=e[l][f])}catch(t){h=!0,c=t}finally{try{!u&&g.return&&g.return()}finally{if(h)throw c}}}}catch(t){a=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(a)throw n}}return r/2}},{key:"pathSetsContain",value:function(e,n,r,i,a,o){for(var s=e.length;s--;){if(t.isSupersetOf(n,e[s]))return!0;if(e[s].size===n.size&&t.areSetsEqual(e[s],n))return!0}var l=0,u=!1;for(s=r.length;s--;)for(var h=i.length;h--;)(r[s][0]===i[h][0]&&r[s][1]===i[h][1]||r[s][1]===i[h][0]&&r[s][0]===i[h][1])&&l++,l===r.length&&(u=!0);var c=!1;if(u){var d,f=!0,g=!1;try{for(var p,v,m=n[Symbol.iterator]();!(f=(p=m.next()).done);f=!0)if(o[v=p.value]<a[v]){c=!0;break}}catch(t){g=!0,d=t}finally{try{!f&&m.return&&m.return()}finally{if(g)throw d}}}if(u&&!c)return!0;var b,y=!0,_=!1;try{for(var S,C=n[Symbol.iterator]();!(y=(S=C.next()).done);y=!0)o[S.value]++}catch(t){_=!0,b=t}finally{try{!y&&C.return&&C.return()}finally{if(_)throw b}}return!1}},{key:"areSetsEqual",value:function(t,e){if(t.size!==e.size)return!1;var n,r=!0,i=!1;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)if(!e.has(a.value))return!1}catch(t){i=!0,n=t}finally{try{!r&&o.return&&o.return()}finally{if(i)throw n}}return!0}},{key:"isSupersetOf",value:function(t,e){var n,r=!0,i=!1;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)if(!t.has(a.value))return!1}catch(t){i=!0,n=t}finally{try{!r&&o.return&&o.return()}finally{if(i)throw n}}return!0}}]),t}();e.exports=a},{"./Graph":7}],14:[function(t,e){"use strict";var n=Math.sin,r=Math.cos,i=Math.sqrt,a=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),0==arguments.length?(this.x=0,this.y=0):1==arguments.length?(this.x=e.x,this.y=e.y):(this.x=e,this.y=n)}var e=Math.acos;return a(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"toString",value:function(){return"("+this.x+","+this.y+")"}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"subtract",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"divide",value:function(t){return this.x/=t,this.y/=t,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"invert",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"distance",value:function(t){return i((t.x-this.x)*(t.x-this.x)+(t.y-this.y)*(t.y-this.y))}},{key:"distanceSq",value:function(t){return(t.x-this.x)*(t.x-this.x)+(t.y-this.y)*(t.y-this.y)}},{key:"clockwise",value:function(t){var e=this.y*t.x,n=this.x*t.y;return e>n?-1:e==n?0:1}},{key:"relativeClockwise",value:function(t,e){var n=(this.y-t.y)*(e.x-t.x),r=(this.x-t.x)*(e.y-t.y);return n>r?-1:n==r?0:1}},{key:"rotate",value:function(e){var i=new t(0,0),a=r(e),o=n(e);return i.x=this.x*a-this.y*o,i.y=this.x*o+this.y*a,this.x=i.x,this.y=i.y,this}},{key:"rotateAround",value:function(t,e){var i=n(t),a=r(t);this.x-=e.x,this.y-=e.y;var o=this.x*i+this.y*a;return this.x=this.x*a-this.y*i+e.x,this.y=o+e.y,this}},{key:"rotateTo",value:function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;this.x+=.001,this.y-=.001;var i=t.subtract(this,n),a=t.subtract(e,n),o=t.angle(a,i);return this.rotateAround(o+r,n),this}},{key:"rotateAwayFrom",value:function(t,e,n){this.rotateAround(n,e);var r=this.distanceSq(t);this.rotateAround(-2*n,e),this.distanceSq(t)<r&&this.rotateAround(2*n,e)}},{key:"getRotateAwayFromAngle",value:function(t,e,n){var r=this.clone();r.rotateAround(n,e);var i=r.distanceSq(t);return r.rotateAround(-2*n,e),r.distanceSq(t)<i?n:-n}},{key:"getRotateTowardsAngle",value:function(t,e,n){var r=this.clone();r.rotateAround(n,e);var i=r.distanceSq(t);return r.rotateAround(-2*n,e),r.distanceSq(t)>i?n:-n}},{key:"getRotateToAngle",value:function(e,n){var r=t.subtract(this,n),i=t.subtract(e,n),a=t.angle(i,r);return Number.isNaN(a)?0:a}},{key:"isInPolygon",value:function(t){for(var e=!1,n=0,r=t.length-1;n<t.length;r=n++)t[n].y>this.y!=t[r].y>this.y&&this.x<(t[r].x-t[n].x)*(this.y-t[n].y)/(t[r].y-t[n].y)+t[n].x&&(e=!e);return e}},{key:"length",value:function(){return i(this.x*this.x+this.y*this.y)}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"normalize",value:function(){return this.divide(this.length()),this}},{key:"normalized",value:function(){return t.divideScalar(this,this.length())}},{key:"whichSide",value:function(t,e){return(this.x-t.x)*(e.y-t.y)-(this.y-t.y)*(e.x-t.x)}},{key:"sameSideAs",value:function(t,e,n){var r=this.whichSide(t,e),i=n.whichSide(t,e);return 0>r&&0>i||0==r&&0==i||0<r&&0<i}}],[{key:"add",value:function(e,n){return new t(e.x+n.x,e.y+n.y)}},{key:"subtract",value:function(e,n){return new t(e.x-n.x,e.y-n.y)}},{key:"multiply",value:function(e,n){return new t(e.x*n.x,e.y*n.y)}},{key:"multiplyScalar",value:function(e,n){return new t(e.x,e.y).multiplyScalar(n)}},{key:"midpoint",value:function(e,n){return new t((e.x+n.x)/2,(e.y+n.y)/2)}},{key:"normals",value:function(e,n){var r=t.subtract(n,e);return[new t(-r.y,r.x),new t(r.y,-r.x)]}},{key:"units",value:function(e,n){var r=t.subtract(n,e);return[new t(-r.y,r.x).normalize(),new t(r.y,-r.x).normalize()]}},{key:"divide",value:function(e,n){return new t(e.x/n.x,e.y/n.y)}},{key:"divideScalar",value:function(e,n){return new t(e.x/n,e.y/n)}},{key:"dot",value:function(t,e){return t.x*e.x+t.y*e.y}},{key:"angle",value:function(n,r){var i=t.dot(n,r);return e(i/(n.length()*r.length()))}},{key:"threePointangle",value:function(n,r,i){var a=t.subtract(r,n),o=t.subtract(i,r),s=n.distance(r),l=r.distance(i);return e(t.dot(a,o)/(s*l))}},{key:"scalarProjection",value:function(e,n){var r=n.normalized();return t.dot(e,r)}},{key:"averageDirection",value:function(e){for(var n=new t(0,0),r=0;r<e.length;r++)n.add(e[r]);return n.normalize()}}]),t}();e.exports=o},{}],15:[function(t,e){"use strict";var n=Math.round,r=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("./MathHelper"),a=t("./ArrayHelper"),o=t("./Vector2"),s=(t("./Atom"),function(){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=null,this.value=e,this.position=new o(n||0,r||0),this.previousPosition=new o(0,0),this.parentVertexId=null,this.children=[],this.spanningTreeChildren=[],this.edges=[],this.positioned=!1,this.angle=null,this.dir=1,this.neighbourCount=0,this.neighbours=[],this.neighbouringElements=[],this.forcePositioned=!1}return r(t,[{key:"setPosition",value:function(t,e){this.position.x=t,this.position.y=e}},{key:"setPositionFromVector",value:function(t){this.position.x=t.x,this.position.y=t.y}},{key:"addChild",value:function(t){this.children.push(t),this.neighbours.push(t),this.neighbourCount++}},{key:"addRingbondChild",value:function(t,e){if(this.children.push(t),this.value.bracket){var n=1;0===this.id&&0===this.value.bracket.hcount&&(n=0),1===this.value.bracket.hcount&&0===e&&(n=2),1===this.value.bracket.hcount&&1===e&&(n=3>this.neighbours.length?2:3),null===this.value.bracket.hcount&&0===e&&(n=1),null===this.value.bracket.hcount&&1===e&&(n=3>this.neighbours.length?1:2),this.neighbours.splice(n,0,t)}else this.neighbours.push(t);this.neighbourCount++}},{key:"setParentVertexId",value:function(t){this.neighbourCount++,this.parentVertexId=t,this.neighbours.push(t)}},{key:"isTerminal",value:function(){return!!this.value.hasAttachedPseudoElements||null===this.parentVertexId&&2>this.children.length||0===this.children.length}},{key:"clone",value:function(){var e=new t(this.value,this.position.x,this.position.y);return e.id=this.id,e.previousPosition=new o(this.previousPosition.x,this.previousPosition.y),e.parentVertexId=this.parentVertexId,e.children=a.clone(this.children),e.spanningTreeChildren=a.clone(this.spanningTreeChildren),e.edges=a.clone(this.edges),e.positioned=this.positioned,e.angle=this.angle,e.forcePositioned=this.forcePositioned,e}},{key:"equals",value:function(t){return this.id===t.id}},{key:"getAngle",value:function(){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=null;return e=o.subtract(this.position,(0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||this.previousPosition),t?i.toDeg(e.angle()):e.angle()}},{key:"getTextDirection",value:function(t){for(var e=this.getDrawnNeighbours(t),r=[],a=0;a<e.length;a++)r.push(this.getAngle(t[e[a]].position));var o=i.meanAngle(r),s=Math.PI/2;return 2===(o=n(n(o/s)*s))?"down":-2===o?"up":0===o||-0===o?"right":3===o||-3===o?"left":"down"}},{key:"getNeighbours",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(null===t)return this.neighbours.slice();for(var e=[],n=0;n<this.neighbours.length;n++)this.neighbours[n]!==t&&e.push(this.neighbours[n]);return e}},{key:"getDrawnNeighbours",value:function(t){for(var e=[],n=0;n<this.neighbours.length;n++)t[this.neighbours[n]].value.isDrawn&&e.push(this.neighbours[n]);return e}},{key:"getNeighbourCount",value:function(){return this.neighbourCount}},{key:"getSpanningTreeNeighbours",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=[],n=0;n<this.spanningTreeChildren.length;n++)(void 0===t||t!=this.spanningTreeChildren[n])&&e.push(this.spanningTreeChildren[n]);return null!=this.parentVertexId&&(void 0===t||t!=this.parentVertexId)&&e.push(this.parentVertexId),e}},{key:"getNextInRing",value:function(t,e,n){for(var r=this.getNeighbours(),i=0;i<r.length;i++)if(a.contains(t[r[i]].value.rings,{value:e})&&r[i]!=n)return r[i];return null}}]),t}());e.exports=s},{"./ArrayHelper":2,"./Atom":3,"./MathHelper":9,"./Vector2":14}]},{},[1]),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js"],e):e(t.jQuery,t.Popper)}(this,function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var o,s,l,u=function(t){var e=!1,n={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(e){var n=e.getAttribute("data-target");n&&"#"!==n||(n=e.getAttribute("href")||""),"#"===n.charAt(0)&&(n=function(e){return"function"==typeof t.escapeSelector?t.escapeSelector(e).substr(1):e.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")}(n));try{return t(document).find(n).length>0?n:null}catch(t){return null}},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(n){t(n).trigger(e.end)},supportsTransitionEnd:function(){return Boolean(e)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var a=r[i],o=e[i],s=o&&n.isElement(o)?"element":{}.toString.call(o).match(/\s([a-zA-Z]+)/)[1].toLowerCase();if(!new RegExp(a).test(s))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+a+'".')}}};return e=("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"},t.fn.emulateTransitionEnd=function(e){var r=this,i=!1;return t(this).one(n.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||n.triggerTransitionEnd(r)},e),this},n.supportsTransitionEnd()&&(t.event.special[n.TRANSITION_END]={bindType:e.end,delegateType:e.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}),n}(t),h=(function(t){var e=t.fn.alert,n=function(){function e(t){this._element=t}var n=e.prototype;return n.close=function(t){var e=this._getRootElement(t=t||this._element);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){t.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(e){var n=u.getSelectorFromElement(e),r=!1;return n&&(r=t(n)[0]),r||(r=t(e).closest(".alert")[0]),r},n._triggerCloseEvent=function(e){var n=t.Event("close.bs.alert");return t(e).trigger(n),n},n._removeElement=function(e){var n=this;t(e).removeClass("show"),u.supportsTransitionEnd()&&t(e).hasClass("fade")?t(e).one(u.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(150):this._destroyElement(e)},n._destroyElement=function(e){t(e).detach().trigger("closed.bs.alert").remove()},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),i=r.data("bs.alert");i||(i=new e(this),r.data("bs.alert",i)),"close"===n&&i[n](this)})},e._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(e,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),e}();t(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',n._handleDismiss(new n)),t.fn.alert=n._jQueryInterface,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=e,n._jQueryInterface}}(t),function(t){var e="button",n=t.fn[e],i=function(){function e(t){this._element=t}var n=e.prototype;return n.toggle=function(){var e=!0,n=!0,r=t(this._element).closest('[data-toggle="buttons"]')[0];if(r){var i=t(this._element).find("input")[0];if(i){if("radio"===i.type)if(i.checked&&t(this._element).hasClass("active"))e=!1;else{var a=t(r).find(".active")[0];a&&t(a).removeClass("active")}if(e){if(i.hasAttribute("disabled")||r.hasAttribute("disabled")||i.classList.contains("disabled")||r.classList.contains("disabled"))return;i.checked=!t(this._element).hasClass("active"),t(i).trigger("change")}i.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!t(this._element).hasClass("active")),e&&t(this._element).toggleClass("active")},n.dispose=function(){t.removeData(this._element,"bs.button"),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var r=t(this).data("bs.button");r||(r=new e(this),t(this).data("bs.button",r)),"toggle"===n&&r[n]()})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),e}();t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){e.preventDefault();var n=e.target;t(n).hasClass("btn")||(n=t(n).closest(".btn")),i._jQueryInterface.call(t(n),"toggle")}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){var n=t(e.target).closest(".btn")[0];t(n).toggleClass("focus",/^focus(in)?$/.test(e.type))}),t.fn[e]=i._jQueryInterface,t.fn[e].Constructor=i,t.fn[e].noConflict=function(){return t.fn[e]=n,i._jQueryInterface}}(t),function(t){var e="carousel",n="bs.carousel",a="."+n,o=t.fn[e],s={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},l={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},h={SLIDE:"slide"+a,SLID:"slid"+a,KEYDOWN:"keydown"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a,TOUCHEND:"touchend"+a,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},c={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},d=function(){function o(e,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(c.INDICATORS)[0],this._addEventListeners()}var d=o.prototype;return d.next=function(){this._isSliding||this._slide("next")},d.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},d.prev=function(){this._isSliding||this._slide("prev")},d.pause=function(e){e||(this._isPaused=!0),t(this._element).find(c.NEXT_PREV)[0]&&u.supportsTransitionEnd()&&(u.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},d.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},d.to=function(e){var n=this;this._activeElement=t(this._element).find(c.ACTIVE_ITEM)[0];var r=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one(h.SLID,function(){return n.to(e)});else{if(r===e)return this.pause(),void this.cycle();this._slide(e>r?"next":"prev",this._items[e])}},d.dispose=function(){t(this._element).off(a),t.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},d._getConfig=function(t){return t=i({},s,t),u.typeCheckConfig(e,t,l),t},d._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(h.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(t(this._element).on(h.MOUSEENTER,function(t){return e.pause(t)}).on(h.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&t(this._element).on(h.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},d._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},d._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(c.ITEM)),this._items.indexOf(e)},d._getItemByDirection=function(t,e){var n="next"===t,r="prev"===t,i=this._getItemIndex(e);if((r&&0===i||n&&i===this._items.length-1)&&!this._config.wrap)return e;var a=(i+("prev"===t?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},d._triggerSlideEvent=function(e,n){var r=this._getItemIndex(e),i=this._getItemIndex(t(this._element).find(c.ACTIVE_ITEM)[0]),a=t.Event(h.SLIDE,{relatedTarget:e,direction:n,from:i,to:r});return t(this._element).trigger(a),a},d._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(c.ACTIVE).removeClass("active");var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass("active")}},d._slide=function(e,n){var r,i,a,o=this,s=t(this._element).find(c.ACTIVE_ITEM)[0],l=this._getItemIndex(s),d=n||s&&this._getItemByDirection(e,s),f=this._getItemIndex(d),g=Boolean(this._interval);if("next"===e?(r="carousel-item-left",i="carousel-item-next",a="left"):(r="carousel-item-right",i="carousel-item-prev",a="right"),d&&t(d).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(d,a).isDefaultPrevented()&&s&&d){this._isSliding=!0,g&&this.pause(),this._setActiveIndicatorElement(d);var p=t.Event(h.SLID,{relatedTarget:d,direction:a,from:l,to:f});u.supportsTransitionEnd()&&t(this._element).hasClass("slide")?(t(d).addClass(i),u.reflow(d),t(s).addClass(r),t(d).addClass(r),t(s).one(u.TRANSITION_END,function(){t(d).removeClass(r+" "+i).addClass("active"),t(s).removeClass("active "+i+" "+r),o._isSliding=!1,setTimeout(function(){return t(o._element).trigger(p)},0)}).emulateTransitionEnd(600)):(t(s).removeClass("active"),t(d).addClass("active"),this._isSliding=!1,t(this._element).trigger(p)),g&&this.cycle()}},o._jQueryInterface=function(e){return this.each(function(){var r=t(this).data(n),a=i({},s,t(this).data());"object"==typeof e&&(a=i({},a,e));var l="string"==typeof e?e:a.slide;if(r||(r=new o(this,a),t(this).data(n,r)),"number"==typeof e)r.to(e);else if("string"==typeof l){if(void 0===r[l])throw new TypeError('No method named "'+l+'"');r[l]()}else a.interval&&(r.pause(),r.cycle())})},o._dataApiClickHandler=function(e){var r=u.getSelectorFromElement(this);if(r){var a=t(r)[0];if(a&&t(a).hasClass("carousel")){var s=i({},t(a).data(),t(this).data()),l=this.getAttribute("data-slide-to");l&&(s.interval=!1),o._jQueryInterface.call(t(a),s),l&&t(a).data(n).to(l),e.preventDefault()}}},r(o,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return s}}]),o}();t(document).on(h.CLICK_DATA_API,c.DATA_SLIDE,d._dataApiClickHandler),t(window).on(h.LOAD_DATA_API,function(){t(c.DATA_RIDE).each(function(){var e=t(this);d._jQueryInterface.call(e,e.data())})}),t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=o,d._jQueryInterface}}(t),function(t){var e="collapse",n="bs.collapse",a=t.fn[e],o={toggle:!0,parent:""},s={toggle:"boolean",parent:"(string|element)"},l={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},h=function(){function a(e,n){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(n),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var r=t(l.DATA_TOGGLE),i=0;i<r.length;i++){var a=r[i],o=u.getSelectorFromElement(a);null!==o&&t(o).filter(e).length>0&&(this._selector=o,this._triggerArray.push(a))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var h=a.prototype;return h.toggle=function(){t(this._element).hasClass("show")?this.hide():this.show()},h.show=function(){var e,r,i=this;if(!(this._isTransitioning||t(this._element).hasClass("show")||(this._parent&&0===(e=t.makeArray(t(this._parent).find(l.ACTIVES).filter('[data-parent="'+this._config.parent+'"]'))).length&&(e=null),e&&(r=t(e).not(this._selector).data(n))&&r._isTransitioning))){var o=t.Event("show.bs.collapse");if(t(this._element).trigger(o),!o.isDefaultPrevented()){e&&(a._jQueryInterface.call(t(e).not(this._selector),"hide"),r||t(e).data(n,null));var s=this._getDimension();t(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[s]=0,this._triggerArray.length>0&&t(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var h=function(){t(i._element).removeClass("collapsing").addClass("collapse").addClass("show"),i._element.style[s]="",i.setTransitioning(!1),t(i._element).trigger("shown.bs.collapse")};if(u.supportsTransitionEnd()){var c="scroll"+(s[0].toUpperCase()+s.slice(1));t(this._element).one(u.TRANSITION_END,h).emulateTransitionEnd(600),this._element.style[s]=this._element[c]+"px"}else h()}}},h.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass("show")){var n=t.Event("hide.bs.collapse");if(t(this._element).trigger(n),!n.isDefaultPrevented()){var r=this._getDimension();if(this._element.style[r]=this._element.getBoundingClientRect()[r]+"px",u.reflow(this._element),t(this._element).addClass("collapsing").removeClass("collapse").removeClass("show"),this._triggerArray.length>0)for(var i=0;i<this._triggerArray.length;i++){var a=this._triggerArray[i],o=u.getSelectorFromElement(a);null!==o&&(t(o).hasClass("show")||t(a).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0);var s=function(){e.setTransitioning(!1),t(e._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};this._element.style[r]="",u.supportsTransitionEnd()?t(this._element).one(u.TRANSITION_END,s).emulateTransitionEnd(600):s()}}},h.setTransitioning=function(t){this._isTransitioning=t},h.dispose=function(){t.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},h._getConfig=function(t){return(t=i({},o,t)).toggle=Boolean(t.toggle),u.typeCheckConfig(e,t,s),t},h._getDimension=function(){return t(this._element).hasClass("width")?"width":"height"},h._getParent=function(){var e=this,n=null;u.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=t(this._config.parent)[0];var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(r).each(function(t,n){e._addAriaAndCollapsedClass(a._getTargetFromElement(n),[n])}),n},h._addAriaAndCollapsedClass=function(e,n){if(e){var r=t(e).hasClass("show");n.length>0&&t(n).toggleClass("collapsed",!r).attr("aria-expanded",r)}},a._getTargetFromElement=function(e){var n=u.getSelectorFromElement(e);return n?t(n)[0]:null},a._jQueryInterface=function(e){return this.each(function(){var r=t(this),s=r.data(n),l=i({},o,r.data(),"object"==typeof e&&e);if(!s&&l.toggle&&/show|hide/.test(e)&&(l.toggle=!1),s||(s=new a(this,l),r.data(n,s)),"string"==typeof e){if(void 0===s[e])throw new TypeError('No method named "'+e+'"');s[e]()}})},r(a,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return o}}]),a}();t(document).on("click.bs.collapse.data-api",l.DATA_TOGGLE,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var r=t(this),i=u.getSelectorFromElement(this);t(i).each(function(){var e=t(this),i=e.data(n)?"toggle":r.data();h._jQueryInterface.call(e,i)})}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=a,h._jQueryInterface}}(t),function(t){var e=t.fn.modal,n={backdrop:!0,keyboard:!0,focus:!0,show:!0},a={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},o={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},s=function(){function e(e,n){this._config=this._getConfig(n),this._element=e,this._dialog=t(e).find(o.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}var s=e.prototype;return s.toggle=function(t){return this._isShown?this.hide():this.show(t)},s.show=function(e){var n=this;if(!this._isTransitioning&&!this._isShown){u.supportsTransitionEnd()&&t(this._element).hasClass("fade")&&(this._isTransitioning=!0);var r=t.Event("show.bs.modal",{relatedTarget:e});t(this._element).trigger(r),this._isShown||r.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),t(document.body).addClass("modal-open"),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on("click.dismiss.bs.modal",o.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on("mousedown.dismiss.bs.modal",function(){t(n._element).one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},s.hide=function(e){var n=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var r=t.Event("hide.bs.modal");if(t(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()){this._isShown=!1;var i=u.supportsTransitionEnd()&&t(this._element).hasClass("fade");i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off("focusin.bs.modal"),t(this._element).removeClass("show"),t(this._element).off("click.dismiss.bs.modal"),t(this._dialog).off("mousedown.dismiss.bs.modal"),i?t(this._element).one(u.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(300):this._hideModal()}}},s.dispose=function(){t.removeData(this._element,"bs.modal"),t(window,document,this._element,this._backdrop).off(".bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},s.handleUpdate=function(){this._adjustDialog()},s._getConfig=function(t){return t=i({},n,t),u.typeCheckConfig("modal",t,a),t},s._showElement=function(e){var n=this,r=u.supportsTransitionEnd()&&t(this._element).hasClass("fade");this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,r&&u.reflow(this._element),t(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e}),a=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(i)};r?t(this._dialog).one(u.TRANSITION_END,a).emulateTransitionEnd(300):a()},s._enforceFocus=function(){var e=this;t(document).off("focusin.bs.modal").on("focusin.bs.modal",function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()})},s._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on("keydown.dismiss.bs.modal",function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||t(this._element).off("keydown.dismiss.bs.modal")},s._setResizeEvent=function(){var e=this;this._isShown?t(window).on("resize.bs.modal",function(t){return e.handleUpdate(t)}):t(window).off("resize.bs.modal")},s._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass("modal-open"),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger("hidden.bs.modal")})},s._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},s._showBackdrop=function(e){var n=this,r=t(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){var i=u.supportsTransitionEnd()&&r;if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",r&&t(this._backdrop).addClass(r),t(this._backdrop).appendTo(document.body),t(this._element).on("click.dismiss.bs.modal",function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),i&&u.reflow(this._backdrop),t(this._backdrop).addClass("show"),!e)return;if(!i)return void e();t(this._backdrop).one(u.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass("show");var a=function(){n._removeBackdrop(),e&&e()};u.supportsTransitionEnd()&&t(this._element).hasClass("fade")?t(this._backdrop).one(u.TRANSITION_END,a).emulateTransitionEnd(150):a()}else e&&e()},s._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},s._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},s._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},s._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){t(o.FIXED_CONTENT).each(function(n,r){var i=t(r)[0].style.paddingRight,a=t(r).css("padding-right");t(r).data("padding-right",i).css("padding-right",parseFloat(a)+e._scrollbarWidth+"px")}),t(o.STICKY_CONTENT).each(function(n,r){var i=t(r)[0].style.marginRight,a=t(r).css("margin-right");t(r).data("margin-right",i).css("margin-right",parseFloat(a)-e._scrollbarWidth+"px")}),t(o.NAVBAR_TOGGLER).each(function(n,r){var i=t(r)[0].style.marginRight,a=t(r).css("margin-right");t(r).data("margin-right",i).css("margin-right",parseFloat(a)+e._scrollbarWidth+"px")});var n=document.body.style.paddingRight,r=t("body").css("padding-right");t("body").data("padding-right",n).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}},s._resetScrollbar=function(){t(o.FIXED_CONTENT).each(function(e,n){var r=t(n).data("padding-right");void 0!==r&&t(n).css("padding-right",r).removeData("padding-right")}),t(o.STICKY_CONTENT+", "+o.NAVBAR_TOGGLER).each(function(e,n){var r=t(n).data("margin-right");void 0!==r&&t(n).css("margin-right",r).removeData("margin-right")});var e=t("body").data("padding-right");void 0!==e&&t("body").css("padding-right",e).removeData("padding-right")},s._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},e._jQueryInterface=function(n,r){return this.each(function(){var a=t(this).data("bs.modal"),o=i({},e.Default,t(this).data(),"object"==typeof n&&n);if(a||(a=new e(this,o),t(this).data("bs.modal",a)),"string"==typeof n){if(void 0===a[n])throw new TypeError('No method named "'+n+'"');a[n](r)}else o.show&&a.show(r)})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return n}}]),e}();t(document).on("click.bs.modal.data-api",o.DATA_TOGGLE,function(e){var n,r=this,a=u.getSelectorFromElement(this);a&&(n=t(a)[0]);var o=t(n).data("bs.modal")?"toggle":i({},t(n).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var l=t(n).one("show.bs.modal",function(e){e.isDefaultPrevented()||l.one("hidden.bs.modal",function(){t(r).is(":visible")&&r.focus()})});s._jQueryInterface.call(t(n),o,this)}),t.fn.modal=s._jQueryInterface,t.fn.modal.Constructor=s,t.fn.modal.noConflict=function(){return t.fn.modal=e,s._jQueryInterface}}(t),function(t){var n="tooltip",a=".bs.tooltip",o=t.fn[n],s=new RegExp("(^|\\s)bs-tooltip\\S+","g"),l={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},h={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},c={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},d={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,INSERTED:"inserted"+a,CLICK:"click"+a,FOCUSIN:"focusin"+a,FOCUSOUT:"focusout"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a},f=function(){function o(t,n){if(void 0===e)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(n),this.tip=null,this._setListeners()}var f=o.prototype;return f.enable=function(){this._isEnabled=!0},f.disable=function(){this._isEnabled=!1},f.toggleEnabled=function(){this._isEnabled=!this._isEnabled},f.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,r=t(e.currentTarget).data(n);r||(r=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(t(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},f.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},f.show=function(){var n=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var r=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(r);var i=t.contains(this.element.ownerDocument.documentElement,this.element);if(r.isDefaultPrevented()||!i)return;var a=this.getTipElement(),s=u.getUID(this.constructor.NAME);a.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(a).addClass("fade");var l="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,h=this._getAttachment(l);this.addAttachmentClass(h);var c=!1===this.config.container?document.body:t(this.config.container);t(a).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(a).appendTo(c),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new e(this.element,a,{placement:h,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&n._handlePopperPlacementChange(t)},onUpdate:function(t){n._handlePopperPlacementChange(t)}}),t(a).addClass("show"),"ontouchstart"in document.documentElement&&t("body").children().on("mouseover",null,t.noop);var d=function(){n.config.animation&&n._fixTransition();var e=n._hoverState;n._hoverState=null,t(n.element).trigger(n.constructor.Event.SHOWN),"out"===e&&n._leave(null,n)};u.supportsTransitionEnd()&&t(this.tip).hasClass("fade")?t(this.tip).one(u.TRANSITION_END,d).emulateTransitionEnd(o._TRANSITION_DURATION):d()}},f.hide=function(e){var n=this,r=this.getTipElement(),i=t.Event(this.constructor.Event.HIDE),a=function(){"show"!==n._hoverState&&r.parentNode&&r.parentNode.removeChild(r),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};t(this.element).trigger(i),i.isDefaultPrevented()||(t(r).removeClass("show"),"ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,u.supportsTransitionEnd()&&t(this.tip).hasClass("fade")?t(r).one(u.TRANSITION_END,a).emulateTransitionEnd(150):a(),this._hoverState="")},f.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},f.isWithContent=function(){return Boolean(this.getTitle())},f.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},f.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},f.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(".tooltip-inner"),this.getTitle()),e.removeClass("fade show")},f.setElementContent=function(e,n){var r=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?r?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[r?"html":"text"](n)},f.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},f._getAttachment=function(t){return h[t.toUpperCase()]},f._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if("manual"!==n){var r="hover"===n?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,i="hover"===n?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(r,e.config.selector,function(t){return e._enter(t)}).on(i,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=i({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},f._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},f._enter=function(e,n){var r=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(r))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,n)),e&&(n._activeTrigger["focusin"===e.type?"focus":"hover"]=!0),t(n.getTipElement()).hasClass("show")||"show"===n._hoverState?n._hoverState="show":(clearTimeout(n._timeout),n._hoverState="show",n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){"show"===n._hoverState&&n.show()},n.config.delay.show):n.show())},f._leave=function(e,n){var r=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(r))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,n)),e&&(n._activeTrigger["focusout"===e.type?"focus":"hover"]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState="out",n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){"out"===n._hoverState&&n.hide()},n.config.delay.hide):n.hide())},f._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},f._getConfig=function(e){return"number"==typeof(e=i({},this.constructor.Default,t(this.element).data(),e)).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),u.typeCheckConfig(n,e,this.constructor.DefaultType),e},f._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},f._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(s);null!==n&&n.length>0&&e.removeClass(n.join(""))},f._handlePopperPlacementChange=function(t){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},f._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},o._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.tooltip"),r="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new o(this,r),t(this).data("bs.tooltip",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},r(o,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return n}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return d}},{key:"EVENT_KEY",get:function(){return a}},{key:"DefaultType",get:function(){return l}}]),o}();return t.fn[n]=f._jQueryInterface,t.fn[n].Constructor=f,t.fn[n].noConflict=function(){return t.fn[n]=o,f._jQueryInterface},f}(t)),c=(function(t){var e="popover",n=".bs.popover",o=t.fn[e],s=new RegExp("(^|\\s)bs-popover\\S+","g"),l=i({},h.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),u=i({},h.DefaultType,{content:"(string|element|function)"}),c={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},d=function(i){function o(){return i.apply(this,arguments)||this}a(o,i);var h=o.prototype;return h.isWithContent=function(){return this.getTitle()||this._getContent()},h.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-popover-"+e)},h.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},h.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(".popover-body"),n),e.removeClass("fade show")},h._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},h._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(s);null!==n&&n.length>0&&e.removeClass(n.join(""))},o._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.popover"),r="object"==typeof e?e:null;if((n||!/destroy|hide/.test(e))&&(n||(n=new o(this,r),t(this).data("bs.popover",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},r(o,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return l}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return c}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return u}}]),o}(h);t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=o,d._jQueryInterface}}(t),function(t){var e="scrollspy",n=t.fn[e],a={offset:10,method:"auto",target:""},o={offset:"number",method:"string",target:"(string|element)"},s={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},l={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},h=function(){function n(e,n){var r=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+l.NAV_LINKS+","+this._config.target+" "+l.LIST_ITEMS+","+this._config.target+" "+l.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(s.SCROLL,function(t){return r._process(t)}),this.refresh(),this._process()}var h=n.prototype;return h.refresh=function(){var e=this,n="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":"position":this._config.method,r="position"===n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map(function(e){var i,a=u.getSelectorFromElement(e);if(a&&(i=t(a)[0]),i){var o=i.getBoundingClientRect();if(o.width||o.height)return[t(i)[n]().top+r,a]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},h.dispose=function(){t.removeData(this._element,"bs.scrollspy"),t(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},h._getConfig=function(n){if("string"!=typeof(n=i({},a,n)).target){var r=t(n.target).attr("id");r||(r=u.getUID(e),t(n.target).attr("id",r)),n.target="#"+r}return u.typeCheckConfig(e,n,o),n},h._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},h._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},h._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},h._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&(void 0===this._offsets[i+1]||t<this._offsets[i+1])&&this._activate(this._targets[i])}},h._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var r=t(n.join(","));r.hasClass("dropdown-item")?(r.closest(l.DROPDOWN).find(l.DROPDOWN_TOGGLE).addClass("active"),r.addClass("active")):(r.addClass("active"),r.parents(l.NAV_LIST_GROUP).prev(l.NAV_LINKS+", "+l.LIST_ITEMS).addClass("active"),r.parents(l.NAV_LIST_GROUP).prev(l.NAV_ITEMS).children(l.NAV_LINKS).addClass("active")),t(this._scrollElement).trigger(s.ACTIVATE,{relatedTarget:e})},h._clear=function(){t(this._selector).filter(l.ACTIVE).removeClass("active")},n._jQueryInterface=function(e){return this.each(function(){var r=t(this).data("bs.scrollspy");if(r||(r=new n(this,"object"==typeof e&&e),t(this).data("bs.scrollspy",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e]()}})},r(n,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),n}();t(window).on(s.LOAD_DATA_API,function(){for(var e=t.makeArray(t(l.DATA_SPY)),n=e.length;n--;){var r=t(e[n]);h._jQueryInterface.call(r,r.data())}}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=n,h._jQueryInterface}}(t),function(t){var e=t.fn.tab,n=function(){function e(t){this._element=t}var n=e.prototype;return n.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass("active")||t(this._element).hasClass("disabled"))){var n,r,i=t(this._element).closest(".nav, .list-group")[0],a=u.getSelectorFromElement(this._element);if(i){var o="UL"===i.nodeName?"> li > .active":".active";r=(r=t.makeArray(t(i).find(o)))[r.length-1]}var s=t.Event("hide.bs.tab",{relatedTarget:this._element}),l=t.Event("show.bs.tab",{relatedTarget:r});if(r&&t(r).trigger(s),t(this._element).trigger(l),!l.isDefaultPrevented()&&!s.isDefaultPrevented()){a&&(n=t(a)[0]),this._activate(this._element,i);var h=function(){var n=t.Event("hidden.bs.tab",{relatedTarget:e._element}),i=t.Event("shown.bs.tab",{relatedTarget:r});t(r).trigger(n),t(e._element).trigger(i)};n?this._activate(n,n.parentNode,h):h()}}},n.dispose=function(){t.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(e,n,r){var i=this,a=("UL"===n.nodeName?t(n).find("> li > .active"):t(n).children(".active"))[0],o=r&&u.supportsTransitionEnd()&&a&&t(a).hasClass("fade"),s=function(){return i._transitionComplete(e,a,r)};a&&o?t(a).one(u.TRANSITION_END,s).emulateTransitionEnd(150):s()},n._transitionComplete=function(e,n,r){if(n){t(n).removeClass("show active");var i=t(n.parentNode).find("> .dropdown-menu .active")[0];i&&t(i).removeClass("active"),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),u.reflow(e),t(e).addClass("show"),e.parentNode&&t(e.parentNode).hasClass("dropdown-menu")){var a=t(e).closest(".dropdown")[0];a&&t(a).find(".dropdown-toggle").addClass("active"),e.setAttribute("aria-expanded",!0)}r&&r()},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),i=r.data("bs.tab");if(i||(i=new e(this),r.data("bs.tab",i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),e}();t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),n._jQueryInterface.call(t(this),"show")}),t.fn.tab=n._jQueryInterface,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=e,n._jQueryInterface}}(t),function(){var t=!1,e="",n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},r={transitionEndSupported:function(){return t},transitionEndSelector:function(){return e},isChar:function(t){return void 0===t.which||"number"==typeof t.which&&t.which>0&&!t.ctrlKey&&!t.metaKey&&!t.altKey&&8!==t.which&&9!==t.which&&13!==t.which&&16!==t.which&&17!==t.which&&20!==t.which&&27!==t.which},assert:function(t,e,n){if(e)throw void 0===!t&&t.css("border","1px solid red"),console.error(n,t),n},describe:function(t){return void 0===t?"undefined":0===t.length?"(no matching elements)":t[0].outerHTML.split(">")[0]+">"}};return function(){for(var r in t=function(){if(window.QUnit)return!1;var t=document.createElement("bmd");for(var e in n)if(void 0!==t.style[e])return n[e];return!1}(),n)e+=" "+n[r]}(),r}(jQuery)),d=(o=jQuery,s={BMD_FORM_GROUP:".bmd-form-group"},l={},function(){function t(t,e,n){for(var r in void 0===n&&(n={}),this.$element=t,this.config=o.extend(!0,{},l,e),n)this[r]=n[r]}var e=t.prototype;return e.dispose=function(t){this.$element.data(t,null),this.$element=null,this.config=null},e.addFormGroupFocus=function(){this.$element.prop("disabled")||this.$bmdFormGroup.addClass("is-focused")},e.removeFormGroupFocus=function(){this.$bmdFormGroup.removeClass("is-focused")},e.removeIsFilled=function(){this.$bmdFormGroup.removeClass("is-filled")},e.addIsFilled=function(){this.$bmdFormGroup.addClass("is-filled")},e.findMdbFormGroup=function(t){void 0===t&&(t=!0);var e=this.$element.closest(s.BMD_FORM_GROUP);return 0===e.length&&t&&o.error("Failed to find "+s.BMD_FORM_GROUP+" for "+c.describe(this.$element)),e},t}()),f=function(t){var e=".form-group",n="label[class^='bmd-label'], label[class*=' bmd-label']",r={validate:!1,formGroup:{required:!1},bmdFormGroup:{template:"<span class='bmd-form-group'></span>",create:!0,required:!0},label:{required:!1,selectors:[".form-control-label","> label"],className:"bmd-label-static"},requiredClasses:[],invalidComponentMatches:[],convertInputSizeVariations:!0},i={"form-control-lg":"bmd-form-group-lg","form-control-sm":"bmd-form-group-sm"};return function(o){function s(e,n,i){var a;return void 0===i&&(i={}),(a=o.call(this,e,t.extend(!0,{},r,n),i)||this)._rejectInvalidComponentMatches(),a.rejectWithoutRequiredStructure(),a._rejectWithoutRequiredClasses(),a.$formGroup=a.findFormGroup(a.config.formGroup.required),a.$bmdFormGroup=a.resolveMdbFormGroup(),a.$bmdLabel=a.resolveMdbLabel(),a.resolveMdbFormGroupSizing(),a.addFocusListener(),a.addChangeListener(),""!=a.$element.val()&&a.addIsFilled(),a}a(s,o);var l=s.prototype;return l.dispose=function(t){o.prototype.dispose.call(this,t),this.$bmdFormGroup=null,this.$formGroup=null},l.rejectWithoutRequiredStructure=function(){},l.addFocusListener=function(){var t=this;this.$element.on("focus",function(){t.addFormGroupFocus()}).on("blur",function(){t.removeFormGroupFocus()})},l.addChangeListener=function(){var t=this;this.$element.on("keydown paste",function(e){c.isChar(e)&&t.addIsFilled()}).on("keyup change",function(){t.isEmpty()?t.removeIsFilled():t.addIsFilled(),t.config.validate&&(void 0===t.$element[0].checkValidity||t.$element[0].checkValidity()?t.removeHasDanger():t.addHasDanger())})},l.addHasDanger=function(){this.$bmdFormGroup.addClass("has-danger")},l.removeHasDanger=function(){this.$bmdFormGroup.removeClass("has-danger")},l.isEmpty=function(){return null===this.$element.val()||void 0===this.$element.val()||""===this.$element.val()},l.resolveMdbFormGroup=function(){var t=this.findMdbFormGroup(!1);return void 0!==t&&0!==t.length||(!this.config.bmdFormGroup.create||void 0!==this.$formGroup&&0!==this.$formGroup.length?this.$formGroup.addClass("bmd-form-group"):this.outerElement().parent().hasClass("input-group")?this.outerElement().parent().wrap(this.config.bmdFormGroup.template):this.outerElement().wrap(this.config.bmdFormGroup.template),t=this.findMdbFormGroup(this.config.bmdFormGroup.required)),t},l.outerElement=function(){return this.$element},l.resolveMdbLabel=function(){var t=this.$bmdFormGroup.find(n);return void 0!==t&&0!==t.length||void 0===(t=this.findMdbLabel(this.config.label.required))||0===t.length||t.addClass(this.config.label.className),t},l.findMdbLabel=function(e){void 0===e&&(e=!0);var r=null,i=this.config.label.selectors,a=Array.isArray(i),o=0;for(i=a?i:i[Symbol.iterator]();;){var s;if(a){if(o>=i.length)break;s=i[o++]}else{if((o=i.next()).done)break;s=o.value}var l=s;if(void 0!==(r=t.isFunction(l)?l(this):this.$bmdFormGroup.find(l))&&r.length>0)break}return 0===r.length&&e&&t.error("Failed to find "+n+" within form-group for "+c.describe(this.$element)),r},l.findFormGroup=function(n){void 0===n&&(n=!0);var r=this.$element.closest(e);return 0===r.length&&n&&t.error("Failed to find "+e+" for "+c.describe(this.$element)),r},l.resolveMdbFormGroupSizing=function(){if(this.config.convertInputSizeVariations)for(var t in i)this.$element.hasClass(t)&&this.$bmdFormGroup.addClass(i[t])},l._rejectInvalidComponentMatches=function(){var t=this.config.invalidComponentMatches,e=Array.isArray(t),n=0;for(t=e?t:t[Symbol.iterator]();;){var r;if(e){if(n>=t.length)break;r=t[n++]}else{if((n=t.next()).done)break;r=n.value}r.rejectMatch(this.constructor.name,this.$element)}},l._rejectWithoutRequiredClasses=function(){var t=this.config.requiredClasses,e=Array.isArray(t),n=0;for(t=e?t:t[Symbol.iterator]();;){var r;if(e){if(n>=t.length)break;r=t[n++]}else{if((n=t.next()).done)break;r=n.value}var i=r;if(-1!==i.indexOf("||")){var a=i.split("||"),o=Array.isArray(a),s=0;for(a=o?a:a[Symbol.iterator]();;){var l;if(o){if(s>=a.length)break;l=a[s++]}else{if((s=a.next()).done)break;l=s.value}if(this.$element.hasClass(l))break}}else this.$element.hasClass(i)}},s}(d)}(jQuery),g=function(t){var e={label:{required:!1}};return function(n){function r(r,i,a){var o;return(o=n.call(this,r,t.extend(!0,{},e,i),a)||this).decorateMarkup(),o}a(r,n);var i=r.prototype;return i.decorateMarkup=function(){var e=t(this.config.template);this.$element.after(e),!1!==this.config.ripples&&e.bmdRipples()},i.outerElement=function(){return this.$element.parent().closest("."+this.outerClass)},i.rejectWithoutRequiredStructure=function(){c.assert(this.$element,"label"===!this.$element.parent().prop("tagName"),this.constructor.name+"'s "+c.describe(this.$element)+" parent element should be <label>."),c.assert(this.$element,!this.outerElement().hasClass(this.outerClass),this.constructor.name+"'s "+c.describe(this.$element)+" outer element should have class "+this.outerClass+".")},i.addFocusListener=function(){var t=this;this.$element.closest("label").hover(function(){t.addFormGroupFocus()},function(){t.removeFormGroupFocus()})},i.addChangeListener=function(){var t=this;this.$element.change(function(){t.$element.blur()})},r}(f)}(jQuery),p=function(t){var e="checkbox",n="bmd."+e,r="bmd"+(e.charAt(0).toUpperCase()+e.slice(1)),i=t.fn[r],o={template:"<span class='checkbox-decorator'><span class='check'></span></span>"},s=function(r){function i(n,i,a){return void 0===a&&(a={inputType:e,outerClass:e}),r.call(this,n,t.extend(!0,o,i),a)||this}return a(i,r),i.prototype.dispose=function(t){void 0===t&&(t=n),r.prototype.dispose.call(this,t)},i.matches=function(t){return"checkbox"===t.attr("type")},i.rejectMatch=function(t,e){c.assert(this.$element,this.matches(e),t+" component element "+c.describe(e)+" is invalid for type='checkbox'.")},i._jQueryInterface=function(e){return this.each(function(){var r=t(this),a=r.data(n);a||(a=new i(r,e),r.data(n,a))})},i}(g);return t.fn[r]=s._jQueryInterface,t.fn[r].Constructor=s,t.fn[r].noConflict=function(){return t.fn[r]=i,s._jQueryInterface},s}(jQuery),v=(function(t){var e="checkboxInline",n="bmd."+e,r="bmd"+(e.charAt(0).toUpperCase()+e.slice(1)),i=t.fn[r],o={bmdFormGroup:{create:!1,required:!1}},s=function(e){function r(n,r,i){return void 0===i&&(i={inputType:"checkbox",outerClass:"checkbox-inline"}),e.call(this,n,t.extend(!0,{},o,r),i)||this}return a(r,e),r.prototype.dispose=function(){e.prototype.dispose.call(this,n)},r._jQueryInterface=function(e){return this.each(function(){var i=t(this),a=i.data(n);a||(a=new r(i,e),i.data(n,a))})},r}(p);t.fn[r]=s._jQueryInterface,t.fn[r].Constructor=s,t.fn[r].noConflict=function(){return t.fn[r]=i,s._jQueryInterface}}(jQuery),function(t){var e="collapseInline",n="bmd."+e,r="bmd"+(e.charAt(0).toUpperCase()+e.slice(1)),i=t.fn[r],o={ANY_INPUT:"input, select, textarea"},s={IN:"in",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed",WIDTH:"width"},l={},u=function(e){function r(n,r){var i;(i=e.call(this,n,t.extend(!0,{},l,r))||this).$bmdFormGroup=i.findMdbFormGroup(!0);var a=n.data("target");i.$collapse=t(a),c.assert(n,0===i.$collapse.length,"Cannot find collapse target for "+c.describe(n)),c.assert(i.$collapse,!i.$collapse.hasClass(s.COLLAPSE),c.describe(i.$collapse)+" is expected to have the '"+s.COLLAPSE+"' class.  It is being targeted by "+c.describe(n));var u=i.$bmdFormGroup.find(o.ANY_INPUT);return u.length>0&&(i.$input=u.first()),i.$collapse.hasClass(s.WIDTH)||i.$collapse.addClass(s.WIDTH),i.$input&&(i.$collapse.on("shown.bs.collapse",function(){i.$input.focus()}),i.$input.blur(function(){i.$collapse.collapse("hide")})),i}return a(r,e),r.prototype.dispose=function(){e.prototype.dispose.call(this,n),this.$bmdFormGroup=null,this.$collapse=null,this.$input=null},r._jQueryInterface=function(e){return this.each(function(){var i=t(this),a=i.data(n);a||(a=new r(i,e),i.data(n,a))})},r}(d);t.fn[r]=u._jQueryInterface,t.fn[r].Constructor=u,t.fn[r].noConflict=function(){return t.fn[r]=i,u._jQueryInterface}}(jQuery),function(t){var e="bmd"+("file".charAt(0).toUpperCase()+"file".slice(1)),n=t.fn[e],r={},i={FILE:"file",IS_FILE:"is-file"},o=function(e){function n(n,a){var o;return(o=e.call(this,n,t.extend(!0,r,a))||this).$bmdFormGroup.addClass(i.IS_FILE),o}a(n,e);var o=n.prototype;return o.dispose=function(){e.prototype.dispose.call(this,"bmd.file")},n.matches=function(t){return"file"===t.attr("type")},n.rejectMatch=function(t,e){c.assert(this.$element,this.matches(e),t+" component element "+c.describe(e)+" is invalid for type='file'.")},o.outerElement=function(){return this.$element.parent().closest("."+i.FILE)},o.rejectWithoutRequiredStructure=function(){c.assert(this.$element,"label"===!this.outerElement().prop("tagName"),this.constructor.name+"'s "+c.describe(this.$element)+" parent element "+c.describe(this.outerElement())+" should be <label>."),c.assert(this.$element,!this.outerElement().hasClass(i.FILE),this.constructor.name+"'s "+c.describe(this.$element)+" parent element "+c.describe(this.outerElement())+" should have class ."+i.FILE+".")},o.addFocusListener=function(){var t=this;this.$bmdFormGroup.on("focus",function(){t.addFormGroupFocus()}).on("blur",function(){t.removeFormGroupFocus()})},o.addChangeListener=function(){var e=this;this.$element.on("change",function(){var n="";t.each(e.$element.files,function(t,e){n+=e.name+"  , "}),(n=n.substring(0,n.length-2))?e.addIsFilled():e.removeIsFilled(),e.$bmdFormGroup.find("input.form-control[readonly]").val(n)})},n._jQueryInterface=function(e){return this.each(function(){var r=t(this),i=r.data("bmd.file");i||(i=new n(r,e),r.data("bmd.file",i))})},n}(f);t.fn[e]=o._jQueryInterface,t.fn[e].Constructor=o,t.fn[e].noConflict=function(){return t.fn[e]=n,o._jQueryInterface}}(jQuery),function(t){var e="radio",n="bmd."+e,r="bmd"+(e.charAt(0).toUpperCase()+e.slice(1)),i=t.fn[r],o={template:"<span class='bmd-radio'></span>"},s=function(r){function i(n,i,a){return void 0===a&&(a={inputType:e,outerClass:e}),r.call(this,n,t.extend(!0,o,i),a)||this}return a(i,r),i.prototype.dispose=function(t){void 0===t&&(t=n),r.prototype.dispose.call(this,t)},i.matches=function(t){return"radio"===t.attr("type")},i.rejectMatch=function(t,e){c.assert(this.$element,this.matches(e),t+" component element "+c.describe(e)+" is invalid for type='radio'.")},i._jQueryInterface=function(e){return this.each(function(){var r=t(this),a=r.data(n);a||(a=new i(r,e),r.data(n,a))})},i}(g);return t.fn[r]=s._jQueryInterface,t.fn[r].Constructor=s,t.fn[r].noConflict=function(){return t.fn[r]=i,s._jQueryInterface},s}(jQuery)),m=(function(t){var e="bmd"+("radioInline".charAt(0).toUpperCase()+"radioInline".slice(1)),n=t.fn[e],r={bmdFormGroup:{create:!1,required:!1}},i=function(e){function n(n,i,a){return void 0===a&&(a={inputType:"radio",outerClass:"radio-inline"}),e.call(this,n,t.extend(!0,{},r,i),a)||this}return a(n,e),n.prototype.dispose=function(){e.prototype.dispose.call(this,"bmd.radioInline")},n._jQueryInterface=function(e){return this.each(function(){var r=t(this),i=r.data("bmd.radioInline");i||(i=new n(r,e),r.data("bmd.radioInline",i))})},n}(v);t.fn[e]=i._jQueryInterface,t.fn[e].Constructor=i,t.fn[e].noConflict=function(){return t.fn[e]=n,i._jQueryInterface}}(jQuery),function(t){var e={requiredClasses:["form-control"]};return function(n){function r(r,i){var a;return(a=n.call(this,r,t.extend(!0,e,i))||this).isEmpty()&&a.removeIsFilled(),a}return a(r,n),r}(f)}(jQuery)),b=(function(t){var e="bmd"+("select".charAt(0).toUpperCase()+"select".slice(1)),n=t.fn[e],r={requiredClasses:["form-control||custom-select"]},i=function(e){function n(n,i){var a;return(a=e.call(this,n,t.extend(!0,r,i))||this).addIsFilled(),a}return a(n,e),n.prototype.dispose=function(){e.prototype.dispose.call(this,"bmd.select")},n.matches=function(t){return"select"===t.prop("tagName")},n.rejectMatch=function(t,e){c.assert(this.$element,this.matches(e),t+" component element "+c.describe(e)+" is invalid for <select>.")},n._jQueryInterface=function(e){return this.each(function(){var r=t(this),i=r.data("bmd.select");i||(i=new n(r,e),r.data("bmd.select",i))})},n}(m);t.fn[e]=i._jQueryInterface,t.fn[e].Constructor=i,t.fn[e].noConflict=function(){return t.fn[e]=n,i._jQueryInterface}}(jQuery),function(t){var e="bmd"+("switch".charAt(0).toUpperCase()+"switch".slice(1)),n=t.fn[e],r={template:"<span class='bmd-switch-track'></span>"},i=function(e){function n(n,i,a){return void 0===a&&(a={inputType:"checkbox",outerClass:"switch"}),e.call(this,n,t.extend(!0,{},r,i),a)||this}return a(n,e),n.prototype.dispose=function(){e.prototype.dispose.call(this,"bmd.switch")},n._jQueryInterface=function(e){return this.each(function(){var r=t(this),i=r.data("bmd.switch");i||(i=new n(r,e),r.data("bmd.switch",i))})},n}(p);t.fn[e]=i._jQueryInterface,t.fn[e].Constructor=i,t.fn[e].noConflict=function(){return t.fn[e]=n,i._jQueryInterface}}(jQuery),function(t){var e="bmd"+("text".charAt(0).toUpperCase()+"text".slice(1)),n=t.fn[e],r={},i=function(e){function n(n,i){return e.call(this,n,t.extend(!0,r,i))||this}return a(n,e),n.prototype.dispose=function(t){void 0===t&&(t="bmd.text"),e.prototype.dispose.call(this,t)},n.matches=function(t){return"text"===t.attr("type")},n.rejectMatch=function(t,e){c.assert(this.$element,this.matches(e),t+" component element "+c.describe(e)+" is invalid for type='text'.")},n._jQueryInterface=function(e){return this.each(function(){var r=t(this),i=r.data("bmd.text");i||(i=new n(r,e),r.data("bmd.text",i))})},n}(m);t.fn[e]=i._jQueryInterface,t.fn[e].Constructor=i,t.fn[e].noConflict=function(){return t.fn[e]=n,i._jQueryInterface}}(jQuery),function(t){var e="bmd"+("textarea".charAt(0).toUpperCase()+"textarea".slice(1)),n=t.fn[e],r={},i=function(e){function n(n,i){return e.call(this,n,t.extend(!0,r,i))||this}return a(n,e),n.prototype.dispose=function(){e.prototype.dispose.call(this,"bmd.textarea")},n.matches=function(t){return"textarea"===t.prop("tagName")},n.rejectMatch=function(t,e){c.assert(this.$element,this.matches(e),t+" component element "+c.describe(e)+" is invalid for <textarea>.")},n._jQueryInterface=function(e){return this.each(function(){var r=t(this),i=r.data("bmd.textarea");i||(i=new n(r,e),r.data("bmd.textarea",i))})},n}(m);t.fn[e]=i._jQueryInterface,t.fn[e].Constructor=i,t.fn[e].noConflict=function(){return t.fn[e]=n,i._jQueryInterface}}(jQuery),function(t){if("undefined"==typeof Popper)throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");var e="dropdown",n="bs.dropdown",i="."+n,a=t.fn[e],o=new RegExp("38|40|27"),s={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,CLICK:"click"+i,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api",TRANSITION_END:"transitionend webkitTransitionEnd oTransitionEnd animationend webkitAnimationEnd oAnimationEnd"},l={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end"},h={placement:l.BOTTOM,offset:0,flip:!0},c={placement:"string",offset:"(number|string)",flip:"boolean"},d=function(){function a(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var d=a.prototype;return d.toggle=function(){var e=this;if(!this._element.disabled&&!t(this._element).hasClass("disabled")){var n=a._getParentFromElement(this._element),r=t(this._menu).hasClass("show");if(a._clearMenus(),!r){var i={relatedTarget:this._element},o=t.Event(s.SHOW,i);if(t(n).trigger(o),!o.isDefaultPrevented()){var l=this._element;t(n).hasClass("dropup")&&(t(this._menu).hasClass("dropdown-menu-left")||t(this._menu).hasClass("dropdown-menu-right"))&&(l=n),this._popper=new Popper(l,this._menu,this._getPopperConfig()),"ontouchstart"in document.documentElement&&!t(n).closest(".navbar-nav").length&&t("body").children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).one(s.TRANSITION_END,function(){t(n).trigger(t.Event(s.SHOWN,i)),t(e._menu).removeClass("showing")}),t(this._menu).addClass("show showing"),t(n).addClass("show")}}}},d.dispose=function(){t.removeData(this._element,n),t(this._element).off(i),this._element=null,this._menu=null,null!==this._popper&&this._popper.destroy(),this._popper=null},d.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},d._addEventListeners=function(){var e=this;t(this._element).on(s.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},d._getConfig=function(n){var r=t(this._element).data();return void 0!==r.placement&&(r.placement=l[r.placement.toUpperCase()]),n=t.extend({},this.constructor.Default,t(this._element).data(),n),u.typeCheckConfig(e,n,this.constructor.DefaultType),n},d._getMenuElement=function(){if(!this._menu){var e=a._getParentFromElement(this._element);this._menu=t(e).find(".dropdown-menu")[0]}return this._menu},d._getPlacement=function(){var e=t(this._element).parent(),n=this._config.placement;return e.hasClass("dropup")||this._config.placement===l.TOP?(n=l.TOP,t(this._menu).hasClass("dropdown-menu-right")&&(n=l.TOPEND)):t(this._menu).hasClass("dropdown-menu-right")&&(n=l.BOTTOMEND),n},d._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},d._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:{offset:this._config.offset},flip:{enabled:this._config.flip}}};return this._inNavbar&&(t.modifiers.applyStyle={enabled:!this._inNavbar}),t},a._jQueryInterface=function(e){return this.each(function(){var r=t(this).data(n);if(r||(r=new a(this,"object"==typeof e?e:null),t(this).data(n,r)),"string"==typeof e){if(void 0===r[e])throw new Error('No method named "'+e+'"');r[e]()}})},a._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var r=t.makeArray(t('[data-toggle="dropdown"]')),i=function(i){var o=a._getParentFromElement(r[i]),l=t(r[i]).data(n),u={relatedTarget:r[i]};if(!l)return"continue";var h=l._menu;if(!t(o).hasClass("show"))return"continue";if(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&t.contains(o,e.target))return"continue";var c=t.Event(s.HIDE,u);if(t(o).trigger(c),c.isDefaultPrevented())return"continue";"ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),r[i].setAttribute("aria-expanded","false"),t(h).addClass("hiding").removeClass("show"),t(o).removeClass("show"),t(h).one(s.TRANSITION_END,function(){t(o).trigger(t.Event(s.HIDDEN,u)),t(h).removeClass("hiding")})},o=0;o<r.length;o++)i(o)},a._getParentFromElement=function(e){var n,r=u.getSelectorFromElement(e);return r&&(n=t(r)[0]),n||e.parentNode},a._dataApiKeydownHandler=function(e){if(!(!o.test(e.which)||/button/i.test(e.target.tagName)&&32===e.which||/input|textarea/i.test(e.target.tagName)||(e.preventDefault(),e.stopPropagation(),this.disabled||t(this).hasClass("disabled")))){var n=a._getParentFromElement(this),r=t(n).hasClass("show");if((r||27===e.which&&32===e.which)&&(!r||27!==e.which&&32!==e.which)){var i=t(n).find(".dropdown-menu .dropdown-item:not(.disabled)").get();if(i.length){var s=i.indexOf(e.target);38===e.which&&s>0&&s--,40===e.which&&s<i.length-1&&s++,s<0&&(s=0),i[s].focus()}}else{if(27===e.which){var l=t(n).find('[data-toggle="dropdown"]')[0];t(l).trigger("focus")}t(this).trigger("click")}}},r(a,null,[{key:"VERSION",get:function(){return"4.1.0"}},{key:"Default",get:function(){return h}},{key:"DefaultType",get:function(){return c}}]),a}();t(document).on(s.KEYDOWN_DATA_API,'[data-toggle="dropdown"]',d._dataApiKeydownHandler).on(s.KEYDOWN_DATA_API,".dropdown-menu",d._dataApiKeydownHandler).on(s.CLICK_DATA_API+" "+s.KEYUP_DATA_API,d._clearMenus).on(s.CLICK_DATA_API,'[data-toggle="dropdown"]',function(e){e.preventDefault(),e.stopPropagation(),d._jQueryInterface.call(t(this),"toggle")}).on(s.CLICK_DATA_API,".dropdown form",function(t){t.stopPropagation()}),t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=a,d._jQueryInterface}}(jQuery),function(t){var e=".bmd-layout-canvas",n=".bmd-layout-container",r=".bmd-layout-backdrop",i={canvas:{create:!0,required:!0,template:'<div class="bmd-layout-canvas"></div>'},backdrop:{create:!0,required:!0,template:'<div class="bmd-layout-backdrop"></div>'}};return function(o){function s(e,n,r){var a;return void 0===r&&(r={}),(a=o.call(this,e,t.extend(!0,{},i,n),r)||this).$container=a.findContainer(!0),a.$backdrop=a.resolveBackdrop(),a.resolveCanvas(),a}a(s,o);var l=s.prototype;return l.dispose=function(t){o.prototype.dispose.call(this,t),this.$container=null,this.$backdrop=null},l.resolveCanvas=function(){var t=this.findCanvas(!1);return void 0!==t&&0!==t.length||(this.config.canvas.create&&this.$container.wrap(this.config.canvas.template),t=this.findCanvas(this.config.canvas.required)),t},l.findCanvas=function(n,r){void 0===n&&(n=!0),void 0===r&&(r=this.$container);var i=r.closest(e);return 0===i.length&&n&&t.error("Failed to find "+e+" for "+c.describe(r)),i},l.resolveBackdrop=function(){var t=this.findBackdrop(!1);return void 0!==t&&0!==t.length||(this.config.backdrop.create&&this.$container.append(this.config.backdrop.template),t=this.findBackdrop(this.config.backdrop.required)),t},l.findBackdrop=function(e,n){void 0===e&&(e=!0),void 0===n&&(n=this.$container);var i=n.find("> "+r);return 0===i.length&&e&&t.error("Failed to find "+r+" for "+c.describe(n)),i},l.findContainer=function(e,r){void 0===e&&(e=!0),void 0===r&&(r=this.$element);var i=r.closest(n);return 0===i.length&&e&&t.error("Failed to find "+n+" for "+c.describe(r)),i},s}(d)}(jQuery));(function(t){var e="bmd"+("drawer".charAt(0).toUpperCase()+"drawer".slice(1)),n=t.fn[e],r={ESCAPE:27},i={focusSelector:"a, button, input"},o=function(e){function n(n,a){var o;return(o=e.call(this,n,t.extend(!0,{},i,a))||this).$toggles=t('[data-toggle="drawer"][href="#'+o.$element[0].id+'"], [data-toggle="drawer"][data-target="#'+o.$element[0].id+'"]'),o._addAria(),o.$backdrop.keydown(function(t){t.which===r.ESCAPE&&o.hide()}).click(function(){o.hide()}),o.$element.keydown(function(t){t.which===r.ESCAPE&&o.hide()}),o.$toggles.click(function(){o.toggle()}),o}a(n,e);var o=n.prototype;return o.dispose=function(){e.prototype.dispose.call(this,"bmd.drawer"),this.$toggles=null},o.toggle=function(){this._isOpen()?this.hide():this.show()},o.show=function(){if(!this._isForcedClosed()&&!this._isOpen()){this.$toggles.attr("aria-expanded",!0),this.$element.attr("aria-expanded",!0),this.$element.attr("aria-hidden",!1);var t=this.$element.find(this.config.focusSelector);t.length>0&&t.first().focus(),this.$container.addClass("bmd-drawer-in"),this.$backdrop.addClass("in")}},o.hide=function(){this._isOpen()&&(this.$toggles.attr("aria-expanded",!1),this.$element.attr("aria-expanded",!1),this.$element.attr("aria-hidden",!0),this.$container.removeClass("bmd-drawer-in"),this.$backdrop.removeClass("in"))},o._isOpen=function(){return this.$container.hasClass("bmd-drawer-in")},o._isForcedClosed=function(){return this.$container.hasClass("bmd-drawer-out")},o._addAria=function(){var t=this._isOpen();this.$element.attr("aria-expanded",t),this.$element.attr("aria-hidden",t),this.$toggles.length&&this.$toggles.attr("aria-expanded",t)},n._jQueryInterface=function(e){return this.each(function(){var r=t(this),i=r.data("bmd.drawer");i||(i=new n(r,e),r.data("bmd.drawer",i))})},n}(b);t.fn[e]=o._jQueryInterface,t.fn[e].Constructor=o,t.fn[e].noConflict=function(){return t.fn[e]=n,o._jQueryInterface}})(jQuery),function(t){var e="bmd"+("ripples".charAt(0).toUpperCase()+"ripples".slice(1)),n=t.fn[e],r=".ripple-container",i=".ripple-decorator",a={container:{template:"<div class='ripple-container'></div>"},decorator:{template:"<div class='ripple-decorator'></div>"},trigger:{start:"mousedown touchstart",end:"mouseup mouseleave touchend"},touchUserAgentRegex:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i,duration:500},o=function(){function e(e,n){var r=this;this.$element=e,this.config=t.extend(!0,{},a,n),this.$element.on(this.config.trigger.start,function(t){r._onStartRipple(t)})}var n=e.prototype;return n.dispose=function(){this.$element.data("bmd.ripples",null),this.$element=null,this.$container=null,this.$decorator=null,this.config=null},n._onStartRipple=function(t){var e=this;if(!this._isTouch()||"mousedown"!==t.type){this._findOrCreateContainer();var n=this._getRelY(t),r=this._getRelX(t);(n||r)&&(this.$decorator.css({left:r,top:n,"background-color":this._getRipplesColor()}),this._forceStyleApplication(),this.rippleOn(),setTimeout(function(){e.rippleEnd()},this.config.duration),this.$element.on(this.config.trigger.end,function(){e.$decorator&&(e.$decorator.data("mousedown","off"),"off"===e.$decorator.data("animating")&&e.rippleOut())}))}},n._findOrCreateContainer=function(){(!this.$container||!this.$container.length>0)&&(this.$element.append(this.config.container.template),this.$container=this.$element.find(r)),this.$container.append(this.config.decorator.template),this.$decorator=this.$container.find(i)},n._forceStyleApplication=function(){return window.getComputedStyle(this.$decorator[0]).opacity},n._getRelX=function(t){var e=this.$container.offset();return this._isTouch()?1===(t=t.originalEvent).touches.length&&t.touches[0].pageX-e.left:t.pageX-e.left},n._getRelY=function(t){var e=this.$container.offset();return this._isTouch()?1===(t=t.originalEvent).touches.length&&t.touches[0].pageY-e.top:t.pageY-e.top},n._getRipplesColor=function(){return this.$element.data("ripple-color")?this.$element.data("ripple-color"):window.getComputedStyle(this.$element[0]).color},n._isTouch=function(){return this.config.touchUserAgentRegex.test(navigator.userAgent)},n.rippleEnd=function(){this.$decorator&&(this.$decorator.data("animating","off"),"off"===this.$decorator.data("mousedown")&&this.rippleOut(this.$decorator))},n.rippleOut=function(){var t=this;this.$decorator.off(),c.transitionEndSupported()?this.$decorator.addClass("ripple-out"):this.$decorator.animate({opacity:0},100,function(){t.$decorator.trigger("transitionend")}),this.$decorator.on(c.transitionEndSelector(),function(){t.$decorator&&(t.$decorator.remove(),t.$decorator=null)})},n.rippleOn=function(){var t=this,e=this._getNewSize();c.transitionEndSupported()?this.$decorator.css({"-ms-transform":"scale("+e+")","-moz-transform":"scale("+e+")","-webkit-transform":"scale("+e+")",transform:"scale("+e+")"}).addClass("ripple-on").data("animating","on").data("mousedown","on"):this.$decorator.animate({width:2*Math.max(this.$element.outerWidth(),this.$element.outerHeight()),height:2*Math.max(this.$element.outerWidth(),this.$element.outerHeight()),"margin-left":-1*Math.max(this.$element.outerWidth(),this.$element.outerHeight()),"margin-top":-1*Math.max(this.$element.outerWidth(),this.$element.outerHeight()),opacity:.2},this.config.duration,function(){t.$decorator.trigger("transitionend")})},n._getNewSize=function(){return Math.max(this.$element.outerWidth(),this.$element.outerHeight())/this.$decorator.outerWidth()*2.5},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),i=r.data("bmd.ripples");i||(i=new e(r,n),r.data("bmd.ripples",i))})},e}();t.fn[e]=o._jQueryInterface,t.fn[e].Constructor=o,t.fn[e].noConflict=function(){return t.fn[e]=n,o._jQueryInterface}}(jQuery),function(t){var e="bmd"+("autofill".charAt(0).toUpperCase()+"autofill".slice(1)),n=t.fn[e],r={},i=function(e){function n(n,i){var a;return(a=e.call(this,n,t.extend(!0,{},r,i))||this)._watchLoading(),a._attachEventHandlers(),a}a(n,e);var i=n.prototype;return i.dispose=function(){e.prototype.dispose.call(this,"bmd.autofill")},i._watchLoading=function(){var t=this;setTimeout(function(){clearInterval(t._onLoading)},1e4)},i._onLoading=function(){setInterval(function(){t("input[type!=checkbox]").each(function(e,n){var r=t(n);r.val()&&r.val()!==r.attr("value")&&r.trigger("change")})},100)},i._attachEventHandlers=function(){var e=null;t(document).on("focus","input",function(n){var r=t(n.currentTarget).closest("form").find("input").not("[type=file]");e=setInterval(function(){r.each(function(e,n){var r=t(n);r.val()!==r.attr("value")&&r.trigger("change")})},100)}).on("blur",".form-group input",function(){clearInterval(e)})},n._jQueryInterface=function(e){return this.each(function(){var r=t(this),i=r.data("bmd.autofill");i||(i=new n(r,e),r.data("bmd.autofill",i))})},n}(d);t.fn[e]=i._jQueryInterface,t.fn[e].Constructor=i,t.fn[e].noConflict=function(){return t.fn[e]=n,i._jQueryInterface}}(jQuery),Popper.Defaults.modifiers.computeStyle.gpuAcceleration=!1,function(t){var e="bootstrapMaterialDesign",n="bmd."+e,r=e,i=t.fn[r],a={global:{validate:!1,label:{className:"bmd-label-static"}},autofill:{selector:"body"},checkbox:{selector:".checkbox > label > input[type=checkbox]"},checkboxInline:{selector:"label.checkbox-inline > input[type=checkbox]"},collapseInline:{selector:'.bmd-collapse-inline [data-toggle="collapse"]'},drawer:{selector:".bmd-layout-drawer"},file:{selector:"input[type=file]"},radio:{selector:".radio > label > input[type=radio]"},radioInline:{selector:"label.radio-inline > input[type=radio]"},ripples:{selector:[".btn:not(.btn-link):not(.ripple-none)",".card-image:not(.ripple-none)",".navbar a:not(.ripple-none)",".dropdown-menu a:not(.ripple-none)",".nav-tabs a:not(.ripple-none)",".pagination li:not(.active):not(.disabled) a:not(.ripple-none)",".ripple"]},select:{selector:["select"]},switch:{selector:".switch > label > input[type=checkbox]"},text:{selector:["input:not([type=hidden]):not([type=checkbox]):not([type=radio]):not([type=file]):not([type=button]):not([type=submit]):not([type=reset])"]},textarea:{selector:["textarea"]},arrive:!0,instantiation:["ripples","checkbox","checkboxInline","collapseInline","drawer","radio","radioInline","switch","text","textarea","select","autofill"]},o=function(){function e(e,n){var r=this;this.$element=e,this.config=t.extend(!0,{},a,n);var i=t(document),o=function(e){var n=r.config[e];if(n){var a=r._resolveSelector(n);n=t.extend(!0,{},r.config.global,n);var o="bmd"+(e.charAt(0).toUpperCase()+e.slice(1));try{t(a)[o](n),document.arrive&&r.config.arrive&&i.arrive(a,function(){t(this)[o](n)})}catch(e){throw console.error("Failed to instantiate component: $('"+a+"')["+o+"]("+n+")",e,"\nSelected elements: ",t(a)),e}}},s=this.config.instantiation,l=Array.isArray(s),u=0;for(s=l?s:s[Symbol.iterator]();;){var h;if(l){if(u>=s.length)break;h=s[u++]}else{if((u=s.next()).done)break;h=u.value}o(h)}}var r=e.prototype;return r.dispose=function(){this.$element.data(n,null),this.$element=null,this.config=null},r._resolveSelector=function(t){var e=t.selector;return Array.isArray(e)&&(e=e.join(", ")),e},e._jQueryInterface=function(r){return this.each(function(){var i=t(this),a=i.data(n);a||(a=new e(i,r),i.data(n,a))})},e}();t.fn[r]=o._jQueryInterface,t.fn[r].Constructor=o,t.fn[r].noConflict=function(){return t.fn[r]=i,o._jQueryInterface}}(jQuery)});var Arrive=function(t,e,n){"use strict";if(t.MutationObserver&&"undefined"!=typeof HTMLElement){var r,i=0,a=(r=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector,{matchesSelector:function(t,e){return t instanceof HTMLElement&&r.call(t,e)},addMethod:function(t,e,n){var r=t[e];t[e]=function(){return n.length==arguments.length?n.apply(this,arguments):"function"==typeof r?r.apply(this,arguments):void 0}},callCallbacks:function(t,e){e&&e.options.onceOnly&&1==e.firedElems.length&&(t=[t[0]]);for(var n,r=0;n=t[r];r++)n&&n.callback&&n.callback.call(n.elem,n.elem);e&&e.options.onceOnly&&1==e.firedElems.length&&e.me.unbindEventWithSelectorAndCallback.call(e.target,e.selector,e.callback)},checkChildNodesRecursively:function(t,e,n,r){for(var i,o=0;i=t[o];o++)n(i,e,r)&&r.push({callback:e.callback,elem:i}),i.childNodes.length>0&&a.checkChildNodesRecursively(i.childNodes,e,n,r)},mergeArrays:function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r},toElementsArray:function(e){return void 0===e||"number"==typeof e.length&&e!==t||(e=[e]),e}}),o=function(){var t=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return t.prototype.addEvent=function(t,e,n,r){var i={target:t,selector:e,options:n,callback:r,firedElems:[]};return this._beforeAdding&&this._beforeAdding(i),this._eventsBucket.push(i),i},t.prototype.removeEvent=function(t){for(var e,n=this._eventsBucket.length-1;e=this._eventsBucket[n];n--)if(t(e)){this._beforeRemoving&&this._beforeRemoving(e);var r=this._eventsBucket.splice(n,1);r&&r.length&&(r[0].callback=null)}},t.prototype.beforeAdding=function(t){this._beforeAdding=t},t.prototype.beforeRemoving=function(t){this._beforeRemoving=t},t}(),s=function(e,r){var i=new o,s=this,l={fireOnAttributesModification:!1};return i.beforeAdding(function(n){var i,a=n.target;a!==t.document&&a!==t||(a=document.getElementsByTagName("html")[0]),i=new MutationObserver(function(t){r.call(this,t,n)});var o=e(n.options);i.observe(a,o),n.observer=i,n.me=s}),i.beforeRemoving(function(t){t.observer.disconnect()}),this.bindEvent=function(t,e,n){e=a.mergeArrays(l,e);for(var r=a.toElementsArray(this),o=0;o<r.length;o++)i.addEvent(r[o],t,e,n)},this.unbindEvent=function(){var t=a.toElementsArray(this);i.removeEvent(function(e){for(var r=0;r<t.length;r++)if(this===n||e.target===t[r])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(t){var e=a.toElementsArray(this),r=t;i.removeEvent("function"==typeof t?function(t){for(var i=0;i<e.length;i++)if((this===n||t.target===e[i])&&t.callback===r)return!0;return!1}:function(r){for(var i=0;i<e.length;i++)if((this===n||r.target===e[i])&&r.selector===t)return!0;return!1})},this.unbindEventWithSelectorAndCallback=function(t,e){var r=a.toElementsArray(this);i.removeEvent(function(i){for(var a=0;a<r.length;a++)if((this===n||i.target===r[a])&&i.selector===t&&i.callback===e)return!0;return!1})},this},l=new function(){var t={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};function e(t,e,r){return!(!a.matchesSelector(t,e.selector)||(t._id===n&&(t._id=i++),-1!=e.firedElems.indexOf(t._id))||(e.firedElems.push(t._id),0))}var r=(l=new s(function(t){var e={attributes:!1,childList:!0,subtree:!0};return t.fireOnAttributesModification&&(e.attributes=!0),e},function(t,n){t.forEach(function(t){var r=t.addedNodes,i=t.target,o=[];null!==r&&r.length>0?a.checkChildNodesRecursively(r,n,e,o):"attributes"===t.type&&e(i,n)&&o.push({callback:n.callback,elem:i}),a.callCallbacks(o,n)})})).bindEvent;return l.bindEvent=function(e,n,i){void 0===i?(i=n,n=t):n=a.mergeArrays(t,n);var o=a.toElementsArray(this);if(n.existing){for(var s=[],l=0;l<o.length;l++)for(var u=o[l].querySelectorAll(e),h=0;h<u.length;h++)s.push({callback:i,elem:u[h]});if(n.onceOnly&&s.length)return i.call(s[0].elem,s[0].elem);setTimeout(a.callCallbacks,1,s)}r.call(this,e,n,i)},l},u=new function(){var t={};function e(t,e){return a.matchesSelector(t,e.selector)}var n=(u=new s(function(){return{childList:!0,subtree:!0}},function(t,n){t.forEach(function(t){var r=t.removedNodes,i=[];null!==r&&r.length>0&&a.checkChildNodesRecursively(r,n,e,i),a.callCallbacks(i,n)})})).bindEvent;return u.bindEvent=function(e,r,i){void 0===i?(i=r,r=t):r=a.mergeArrays(t,r),n.call(this,e,r,i)},u};e&&d(e.fn),d(HTMLElement.prototype),d(NodeList.prototype),d(HTMLCollection.prototype),d(HTMLDocument.prototype),d(Window.prototype);var h={};return c(l,h,"unbindAllArrive"),c(u,h,"unbindAllLeave"),h}function c(t,e,n){a.addMethod(e,n,t.unbindEvent),a.addMethod(e,n,t.unbindEventWithSelectorOrCallback),a.addMethod(e,n,t.unbindEventWithSelectorAndCallback)}function d(t){t.arrive=l.bindEvent,c(l,t,"unbindArrive"),t.leave=u.bindEvent,c(u,t,"unbindLeave")}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);